import{I as g,j as L,J as D,_ as F,f as C,O as B,o as u,c as p,K as A,$ as E,a as m,D as y,X as w,F as x,l as I,t as b,m as T,a0 as _}from"./app.3b75d2e9.js";const $={},P=[{path:"/",title:"FreeBSD MFGA",pathLocale:"/",contents:[{header:"FreeBSD MFGA",slug:"freebsd-mfga",content:""},{header:"FreeBSD-MFGA Copyright 2022",slug:"freebsd-mfga-copyright-2022",content:`Note
The current site deployment domain is https://mgfa.bsdcn.org If you are currently using a domain other than this one, please switch to that domain. Other domains do not guarantee availability.
\u4E2D\u6587\u7248\u672C\u8BF7\u770B https://book.bsdcn.org/\u3002\u9879\u76EE\u5730\u5740\uFF1Ahttps://github.com/FreeBSD-Ask/FreeBSD-Ask\u3002 Warning
This book is generated by DEEPL machine translation, please fork it and pull request if you want to improve it.`},{header:"Overview",slug:"overview",content:""},{header:"Motto",slug:"motto",content:"Adhere to the ancient laws in pursuit of true freedom."},{header:"Positioning of the book",slug:"positioning-of-the-book",content:"Our goal is not to translate the Handbook, but rather to write a FreeBSD-based tutorial similar to Linux Private Kitchens: basic learning articles + Linux Private Kitchens: Server Setup in one. That is, this book is a superset of the Handbook."},{header:"Summary of the Editor's Guide",slug:"summary-of-the-editor-s-guide",content:`All supporters of FreeBSD are welcome to write and will be added to the list of contributors.
For a detailed editor's guide, click here`},{header:"Preface",slug:"preface",content:""},{header:"FreeBSD MFGA",slug:"freebsd-mfga-1",content:"This book was created on December 19, 2021. It was written with the goal of Making FreeBSD Great Again, and is written to cover the basics and advanced knowledge of FreeBSD. If you have some UNIX knowledge, you can skip the first chapter, but if you have some knowledge of FreeBSD, you are welcome to join us and contribute to this book."},{header:"Executive Summary",slug:"executive-summary",content:'This book was started by ykla and written with the participation of some group members of the FreeBSD MFGA, "FreeBSD from Getting Started to Running". We have attempted to start from zero and lead the average person into the world of FreeBSD, fully referencing the FreeBSD Handbook and building a complete, scientific catalog system. This book is not a hodgepodge of tutorials or a collection of tutorials, but rather an open source book designed to build a self-contained system. The book is divided into thirty chapters, emphasizing the fundamentals necessary for learning FreeBSD as well as providing specialized tutorials on kernel design and implementation. This book can be used as a textbook for undergraduate students in the "FreeBSD Operating System" course in higher education, as well as for graduate students or computer technicians in related fields.'},{header:"Open Source Maintenance and Donations",slug:"open-source-maintenance-and-donations",content:`Click here to donate to the FreeBSD Foundation
In order to be able to maintain this book better, we have used the Gitbook platform for collaboration and Vuepress to present the book. We apologize for the inability to export directly from GitBook to PDF (we provide a reference version of the PDF in the release) and for the slow access. Our current server is about $10 a month, so if you'd like to contribute, please join our Telegram group. If you'd also like to contribute, please see WIKI for details., please refer to Chapter 1, Section 9 for the list of contributors.
Donors:
[FreeBSD 2022 Donor List].
https://docs.qq.com/doc/DSXZ1Q1JOenRzUkp4`},{header:"Feedback",slug:"feedback",content:"Due to the limitations of the author, it is inevitable that the book will contain flaws and errors, and we hope that you will feel free to offer criticism so that we can correct them. You can use Github's interactive features to contact us: submit an issue, pull request, or join a Telegram group to contact us directly (yklaxds AT gmail DOT com), etc."},{header:"TODO / Wishlist",slug:"todo-wishlist",content:`There is still a lot of work to be done, including but not limited to: The FreeBSD 14 shell has been standardized to sh, and tutorials need to be standardized for it
Organizing and uploading configuration files and environments
Optimize the formatting of the tutorial directory
Improve the current blank chapters and test and verify existing content
actively promote and seek official publication
Remove external references to text/images and other content or give standardized citation statements to avoid copyright issues
Consider elevating the Virtual Box virtual machine in this paper because of the many business changes resulting from Broadcom's acquisition of VMware
Remove or add examples of ideas that are too subjective or unsupported`},{header:"Licensing",slug:"licensing",content:"This book is open source under the BSD-3-Clause License. We have incorporated some existing research results in the writing process and would like to acknowledge them here. When quoting from this book, please be sure to leave our original address - https://mfga.bsdcn.org and attribution - FreeBSD MFGA."},{header:"About",slug:"about",content:""},{header:"The vision of the FreeBSD MFGA",slug:"the-vision-of-the-freebsd-mfga",content:`We were founded on March 17, 2018, and have grown a Telegram group, and as far as a WeChat group.
Our membership is very broad and universal, representing the average of the vast majority of FreeBSD users: they may not have even heard of what FreeBSD is, but that does not stop us from communicating and exchanging ideas. Some may feel that this is a waste of time, but without the nurturing of new talent, what would FreeBSD be tomorrow? Who doesn't know that newcomers may have many bad habits.
As Mr. Lu Xun said, may each person be a beam of light to illuminate the glorious thorny path of FreeBSD's advancement in mainland China. I also hope that you can join us to form a starry sky or a glowing fire.
The infinite distant lands, the countless people, are all related to me.
I have looked into the distant mountains countless times, trying to find a clear spring, but the sky is always not as it should be, still not found.
Who are we? Where did we come from? Where are we going? These questions will never be answered.
We chose FreeBSD because we wanted a clear, unambiguous, reliable, and solid operating system that would bring us profit in our work and pleasure in our lives. Of course there are still many problems with FreeBSD that need to be actively discovered, explored, and improved. Society is progressing, technology is advancing, enthusiasm is continuing unabated, and the future is getting better and better.`}]},{path:"/SUMMARY.html",title:"Table of contents",pathLocale:"/",contents:[{header:"Table of contents",slug:"table-of-contents",content:"FreeBSD MGFA"},{header:"Chapter 0 FreeBSD MFGA",slug:"chapter-0-freebsd-mfga",content:"0.1. Deficiencies of FreeBSD"},{header:"Chapter 1. Approaching FreeBSD",slug:"chapter-1-approaching-freebsd",content:`1.1 What is UNIX
1.2 What is Unix-like
1.3 What is Linux
1.4 FreeBSD and Other Operating Systems
1.5 Why Use FreeBSD
1.6 The so-called open source philosophy
1.7 Other BSD Introduction
1.8 Linux User Migration Guidelines
1.9 References and Contributor List
1.10 Preparation Notes`},{header:"Chapter 2. Installing FreeBSD",slug:"chapter-2-installing-freebsd",content:`2.0 Illustrated Installation
2.1 Comparison of Three Virtual Machines and FreeBSD Versions
2.2 FreeBSD 13.0 Installation - Based on Virtual Box
2.3 FreeBSD 13.0 Installation - Based on Vmware Workstation Pro 16
2.4 Tencent Cloud Lightweight Cloud and Other Servers Installation FreeBSD
2.5 Manual Installation of FreeBSD
2.6 ee Usage and Network Configuration
2.7 Common Software and SSH Configuration
2.8 Physical machine installation and hardware options
2.9 configuration of the graphics card under the physical machine
2.10 Touchpad settings under the physical machine
2.11 Physical machine sound card and network card settings
2.12 Installation of the printer
2.13 wireless Bluetooth mouse settings`},{header:"Chapter 3. Software Sources and Package Manager",slug:"chapter-3-software-sources-and-package-manager",content:`3.0 Package Manager Overview
3.1 Status of FreeBSD mirror sites
3.2 FreeBSD Source Exchange Method
3.3 Usage of gitup
3.4 Usage of the package manager pkg
3.5 Installing Software via Source Ports
3.6 Installing Software via DVD`},{header:"Chapter 4. Desktop Installation",slug:"chapter-4-desktop-installation",content:`4.0 Overview
4.1 Installing Xorg
4.2 Installing KDE 5
4.3 Installing Gnome
4.4 Installing Mate
4.5 Installing Xfce
4.6 Installing Cinnamon
4.7 Installing Lumina
4.8 root login desktop
4.9 Theme and Beautification
4.10 Remote Desktop Management
4.11 Installing Wayland (optional)`},{header:"Chapter 5. Input Method and Common Software",slug:"chapter-5-input-method-and-common-software",content:`5.1 Fcitx input method framework
5.2 Ibus input method framework
5.3 Five-stroke input method
5.4 Installing Firefox and Chromium
5.5 Linux Compatibility Layer
5.6 Installing Kingsoft WPS
5.7 Installing QQ
5.8 Changing fonts
5.9 wine
5.10 Compression and Decompression`},{header:"Chapter 6. File System and Disk Management",slug:"chapter-6-file-system-and-disk-management",content:`6.1 UFS
6.2 ZFS
6.3 Disk Expansion
6.4 Mounting NTFS
6.5 SWAP Settings
6.6 Ext 2/3/4 etc. file system`},{header:"Chapter 7. VPN and Proxy",slug:"chapter-7-vpn-and-proxy",content:`7.1 HTTP Proxy
7.2 V2ray
7.3 Clash
7.4 OpenVPN
7.5 Wireguard`},{header:"Chapter 8. Users and Permissions",slug:"chapter-8-users-and-permissions",content:`8.1 sudo
8.2 Add Users
8.3 User Groups
8.4 User Privileges`},{header:"Chapter 9. Jail",slug:"chapter-9-jail",content:`9.1 Comparing Jail and docker
9.2 Jail-related terms
9.3 Jail configuration
9.4 Jail update
9.5 Manage Jail with ezjail`},{header:"Chapter 10. Virtualization",slug:"chapter-10-virtualization",content:`10.1 Introduction to Virtualization
10.2 Installing Virtual Box
10.3 Installation bhyve
10.4 Managing bhyve with cbsd
10.5 Installing Windows 11 with bhyve
10.6 Installing XEN
10.7 Installing Windows 11 with XEN`},{header:"Chapter 11. Update and Upgrade FreeBSD",slug:"chapter-11-update-and-upgrade-freebsd",content:`11.1 Updating via freebsd-update
11.2 Update through source code
11.3 Batch Deployment`},{header:"Chapter 12. GEOM Storage Framework",slug:"chapter-12-geom-storage-framework",content:`12.1 Overview
12.2 RAID 0
12.3 RAID 1
12.4 RAID 3
12.5 Soft RAID Configuration
12.6 GEOM Gate Network
12.7 disk device labeling
12.8 UFS Journaling and GEOM
12.9 ZFS disk encryption and decryption`},{header:"Chapter 13. DTrace",slug:"chapter-13-dtrace",content:`13.1 Overview
13.2 Enabling DTrace
13.3 Using DTrace`},{header:"Chapter 14. Network Management",slug:"chapter-14-network-management",content:`14.1 PPP Dialing
14.2 WIFI
14.3 USB RNDIS
14.4 Bluetooth
14.5 IPv6
14.6 CARP
14.7 VLAN
14.8 TCP BBR`},{header:"Chapter 15. FreeBSD Firewall",slug:"chapter-15-freebsd-firewall",content:`15.1 Network Parameters Configuration Commands
15.2 PF
15.3 IPFW
15.4 IPFILTER (IPF)`},{header:"Chapter 16. Servers",slug:"chapter-16-servers",content:`16.1 FTP server
16.2 DHCP server
16.3 Nodejs Related
16.4 DNS Server
16.5 NIS Server
16.6 Postfix Server
16.7 Samba Server
16.8 NFS Server
16.9 iSCSI
16.10 Webmin
16.11 rsync synchronization service
16.12 Time Service
16.13 Wildfly`},{header:"Chapter 17. Web Server",slug:"chapter-17-web-server",content:`17.1 Apache
17.2 Nginx
17.3 PHP 8.X
17.4 MySQL 5.X
17.5 MySQL 8.X
17.6 Typecho
17.7 SSL Configuration
17.8 PostgreSQL and pgAdmin4`},{header:"Chapter 18. Raspberry Pi and Embedded",slug:"chapter-18-raspberry-pi-and-embedded",content:`18.1 Introduction to Raspberry Pi
18.2 System Installation
18.3 Using the configuration
18.4 USB NIC and WIFI
18.5 RISC-V`},{header:"Chapter 19. Literary Stories",slug:"chapter-19-literary-stories",content:`19.1 My Story with FreeBSD
19.2 FreeBSD and Cats - Choosing the 1%
19.3 Linux and the Philosophy of Suffering
19.4 From an idea to see if FreeBSD is commercial or collegial
19.5 The Linux community has become a dirty quagmire
19.6 Linux is Lost - Refuting the Great FreeBSD Defeat
19.7 Fiction - FreeBSD from Getting Started to Running`},{header:"Chapter 20. Entertainment and Education",slug:"chapter-20-entertainment-and-education",content:`20.1 Games
20.2 audio and video players
20.3 Audio and video editing
20.4 Education
20.5 Scientific Research and Professional Tools`},{header:"Chapter 21. Kernel",slug:"chapter-21-kernel",content:`21.1 Obtaining FreeBSD Kernel Source Code
21.2 Modifying Kernel Source Code
21.3 Compiling the Kernel
21.4 Kernel Analysis`},{header:"Chapter 22. Programming and Development",slug:"chapter-22-programming-and-development",content:`22.1 How to Report Bugs
22.2 How to submit a package
22.3 How to Participate in FreeBSD Collaboration
22.4 Configuration of C/C++ Environment
22.5 Configuration of the Java Environment
22.6 Configuration of the QT environment
22.7 Python and VScode
22.8 Configuration of the Rust/Go Environment
22.9 Csh and Other Shells
22.10 Debugging FreeBSD via IDA 7
22.11 Git`},{header:"Chapter 23. Boot and Recovery",slug:"chapter-23-boot-and-recovery",content:`23.1 Recovery Mode and Password Reset
23.2 FreeBSD Multi-Drive EFI Bootstrap Unification
22.3 FreeBSD Chinese TTY Console
23.4 Boot Menu
23.5 Grub and other bootloaders`},{header:"Chapter 24. FreeBSD Features",slug:"chapter-24-freebsd-features",content:`24.1 BSD INIT Managed Services
24.2 FreeBSD Directory Structure
24.3 bsdinstall and bsdconfig
24.4 Disabling Sendmail
24.5 Automatic BSDlibc Library Text Generation Using Scripts
24.6 BSD-style make/grep/sed/awk`},{header:"Chapter 25. System Design and Analysis",slug:"chapter-25-system-design-and-analysis",content:`25.1 FreeBSD Design Overview
25.2 Kernel
25.3 Process
25.4 Memory Management
25.5 Security
25.6 I/O System`},{header:"Chapter 26. OpenBSD",slug:"chapter-26-openbsd",content:`26.0 Overview
26.1 Installation
26.2 Configuration
26.3 Switching mirror stations
26.4 Package Manager
26.5 Desktop and other software`},{header:"Chapter 27. NetBSD",slug:"chapter-27-netbsd",content:`27.0 Overview
27.1 Installation and Configuration
27.2 Source Exchange and Package Manager
27.3 Desktop and other software`},{header:"Chapter 28. DragonFlyBSD",slug:"chapter-28-dragonflybsd",content:`28.0 Overview
28.1 Installation and Configuration`},{header:"Chapter 29. Desktop Advanced Advancement",slug:"chapter-29-desktop-advanced-advancement",content:`29.0 Differences and links between window manager and desktop
29.1 Installing i3wm
29.2 Installing CDE
29.3 Installing Awesome
29.4 Installing FVWM`}]},{path:"/chapter-0-freebsd-mfga/0.1.-deficiencies-of-freebsd.html",title:"0.1 Deficiencies of FreeBSD",pathLocale:"/",contents:[{header:"0.1 Deficiencies of FreeBSD",slug:"_0-1-deficiencies-of-freebsd",content:`FreeBSD does not provide a base system with a GUI for users, and even the graphics card drivers need to be compiled and installed by themselves via ports.
FreeBSD's drivers are poor, and until recently would have been perfect for supporting WIFI 6 network cards, such as the AX210.
FreeBSD has very few developers, which means that your bugs may not be fixed for a long time, and packages are not always up to date like ARCH.
There is relatively little documentation available for FreeBSD.
Because systemd is not compatible with operating systems other than Linux, a lot of software, such as NetworkManager, cannot be ported, and the components of the desktop environment cannot be improved.
The FreeBSD tycoon is even more arrogant than Linux, as they do not care whether you can change the source or not, whether you can set up a proxy or not, and whether you need an official mirror in your country.
Due to the basic goals and design of the FreeBSD project, the FreeBSD base system does not include some of the software and commands commonly used in Linux, such as lspci, free. Some can be installed on their own, others cannot.
FreeBSD's two file systems, ZFS and UFS, can only be expanded and not shrunk, a strange design.
FreeBSD's virtualization technology, Byhve, is difficult to use, there is no front-end GUI to control it, and there is a lack of a unified tutorial for setting parameters. The idea of what we now call container technology first appeared in 2000 as FreeBSD jails, a technology that allows the partitioning of a FreeBSD system into multiple subsystems, or jails.In 2001, an implementation of an isolated environment made its way into Linux, by way of Jacques G\xE9linas\u2019 VServer project. Once this foundation was set for multiple controlled userspaces in Linux, pieces began to fall into place to form what is today\u2019s Linux container.In 2008, Docker came onto the scene (by way of dotCloud) with their eponymous container technology. -- https://www.redhat.com/zh/topics/containers/whats-a-linux-container`}]},{path:"/chapter-1.-approaching-freebsd/1.1-what-is-unix.html",title:"1.1 What is UNIX",pathLocale:"/",contents:[{header:"1.1 What is UNIX",slug:"_1-1-what-is-unix",content:`Once upon a time it was an operating system. It was eventually created by rewriting the C language. --AT&T Inc.
Now a standard specification and commercial trademark. More than that, it is a philosophical idea, a software engineering principle.
Check it out at: http://www.opengroup.org/openbrand/register
We can now know that certifying UNIX requires. conform to a single UNIX specification pay for the certification Common certified UNIX operating systems are MacOS. Here are the details:`},{header:"Mutlics",slug:"mutlics",content:`The CTSS (Compatible Time-Sharing System), introduced at MIT in 1964, was the most creative operating system of its time. With an efficient operating system like CTSS, MIT researchers decided to make a better version. They began designing the Multics system, which stands for Multiplexed Information and Computing Services.
Multics was intended to create powerful new software and new hardware that was more feature-rich than the IBM 7094, and MIT enlisted the help of two companies. General Electric was responsible for designing and producing computers with new hardware features that would better support time-sharing and multi-user systems, and Bell Labs had developed its own operating system early in the development of computers, so MIT invited Bell Labs to work with General Electric on Multics.
The development of Multics eventually ran into difficulties, as Multics was designed with a large number of programs and functions, often cramming many different things into it, resulting in an overly complex system. in 1969, as Bell Labs saw it as a set of information processing tools, it no longer served the lab's goal of providing computing services, and it was designed to be too expensive, so in April of the same year, Bell Labs withdrew from the Multics project. Multics project, leaving only MIT and General Electric to continue development.`},{header:"UNICS",slug:"unics",content:`After Bell Labs withdrew from the Multics development project, project team member Kenneth Lane Thompson found a DEC PDP-7 computer, which was not a powerful computer, only 4KB of memory, but the graphical interface is relatively beautiful, Thompson used him to write a space game (Space Travel), PDP-7 To solve this problem, Thompson wrote a disk scheduling algorithm to increase the total disk throughput.
How to test this new algorithm? Data needed to be loaded onto the disks, and Thompson needed to write a program that wrote data in bulk.
He needed to write three programs, one for each week: an editor to create the code, a machine language assembler to convert the code to run on PDP-7, and "the outer layer of the kernel - the operating system is done.
The new PDP-7 operating system was not written for much longer, and Thompson and a few colleagues discussed the fact that the new system did not have a name at the time, when it was named "UNICS", which was eventually changed to UNIX, a more memorable name. Today, Huawei EulerOS (based on CentOS) can be certified as UNIX, so discussing whether it is UNIX or not has become tasteless and meaningless. Even Windows can be certified as UNIX for money (it also implements most of POSIX).`}]},{path:"/chapter-1.-approaching-freebsd/1.10-preparation-notes.html",title:"1.10 Compilation Notes",pathLocale:"/",contents:[{header:"1.10 Compilation Notes",slug:"_1-10-compilation-notes",content:""},{header:"pkg vs. ports",slug:"pkg-vs-ports",content:"Since there are two ways to install software in FreeBSD (but not all software supports the pkg installation method), for convenience, installation instructions for both methods may not appear in this run-through tutorial. However, it is important to understand that this is for convenience only, not that you cannot install using either ports or pkg or that you must install using one of the two. Please note that ports is generally a HEAD branch, and it is best to keep your pkg on the same mainline as ports, i.e. both select latest."},{header:"The meaning of the symbols before the commands in this book",slug:"the-meaning-of-the-symbols-before-the-commands-in-this-book",content:`# means operation under root, same as sudo.
$ for general user privileges`},{header:"Requirements for users",slug:"requirements-for-users",content:"The difficulty benchmark is based on the level of pass or above that can be achieved by an average undergraduate of computer science and technology in higher education institutions. If you fail to meet the requirements, please study on your own."},{header:"Positioning of this book",slug:"positioning-of-this-book",content:"Our goal is not to translate the Handbook, but rather to write a FreeBSD-based tutorial similar to Bird's Linux Private Practice: Basic Learning + Bird's Linux Private Practice: Server Setup in one. In other words, we are a superset of the Handbook."}]},{path:"/chapter-1.-approaching-freebsd/1.2-what-is-unix-like.html",title:"1.2 What is Unix-like",pathLocale:"/",contents:[{header:"1.2 What is Unix-like",slug:"_1-2-what-is-unix-like",content:`Unix-like is Unix-like, which means that all UNIX-based operating systems basically adhere to the POSIX specification without being certified as UNIX as described in the first section.
In other words, most operating systems in the world, except Windows, are called Unix-like, including Linux and FreeBSD.`}]},{path:"/chapter-1.-approaching-freebsd/1.3-what-is-linux.html",title:"1.3 What is Linux",pathLocale:"/",contents:[{header:"1.3 What is Linux",slug:"_1-3-what-is-linux",content:`The UNIX standard SUS contains the POSIX standard as a superset. Linux implements the POSIX standard, but is not POSIX certified. Essentially, Linux was originally a copy of UNIX.
Those who do not understand Unix are condemned to reinvent it,poorly. -- Henry Spencer`},{header:"Narrowly defined is the kernel",slug:"narrowly-defined-is-the-kernel",content:"Linux kernel project 1990."},{header:"Broadly GNU/Linux",slug:"broadly-gnu-linux",content:`GNU/Linux = Linux kernel + GNU etc. software + package manager
Linux in its full name GNU/Linux; GNU project 1984.
Specifically. GNU/Linux distributions = Ubuntu, RHEL, Deepin, OpenSUSE ...... Ubuntu = Linux kernel + apt/dpkg + Gnome OpenSUSE = Linux kernel + libzypp/rpm + KDE Note: If you still don't understand, we suggest you try Gentoo (stage3) or Slackware for your own installation, or Gentoo (stage1) or LFS if you don't understand.`}]},{path:"/chapter-1.-approaching-freebsd/1.4-freebsd-and-other-operating-systems.html",title:"1.4 FreeBSD and Other Operating Systems",pathLocale:"/",contents:[{header:"1.4 FreeBSD and Other Operating Systems",slug:"_1-4-freebsd-and-other-operating-systems",content:""},{header:"What is FreeBSD?",slug:"what-is-freebsd",content:`BSD was originally developed by the University of California, Berkeley, and stands for Berkeley Software Distribution.
FreeBSD is not Linux, it is not a homegrown operating system, it is not Systemd compatible, it is not chicken, and it is not UNIX. Currently, FreeBSD has the largest number of users in the BSD system. Some Linux software can be found in FreeBSD, and even if you can't find it, you can run it through the CentOS compatibility layer, or you can build a debian or ubuntu / system yourself with debootstrap. FreeBSD is not Linux, it is not UNIX, it is UNIX-like UNIX -> Networking Release 1->Networking Release 2 -> 386BSD -> FreeBSD 1.0
386BSD -> Litigation (1991-1994) -> 4.4 BSD-Lite -> FreeBSD 2.0
Linus "I have never even checked 386BSD out; when I started on Linux it wast available" Image source: https://github.com/freebsd/freebsd-src/blob/main/share/misc/bsd-family-tree`},{header:"FreeBSD or Others",slug:"freebsd-or-others",content:`Linux First of all, many of you probably came from Linux, and I have no statistical basis for saying that, but let's just say it. If you find a book that mentions FreeBSD as an example of a Linux distribution, then I personally don't recommend that you continue reading it, it's misleading and I've seen similar behavior on some catechism sites.
Strictly speaking Linux is the Linux kernel, which is a kernel and not an operating system, while FreeBSD is an operating system. FreeBSD is licensed under the BSD license, see https://www.freebsd.org/zh_CN/copyright/freebsd-license.html. FreeBSD drivers have always been a big bug, not as big as Linux. macOS & iOS Both macOS & iOS are based on FreeBSD to some extent. It's not that FreeBSD's GUI is bad, it's just that Xorg and the development direction is wrong.
First of all, both macOS and iOS are based on FreeBSD to some extent. But it's time to talk about ease of use, and FreeBSD and Linux are still the same set of Xorg, which is obviously not working. But in the spirit of your line you on the view that I can not go on ...... graphical interface is the first x3.
Is Apple's achievement of macOS, iOS or the other way around, the two achievements of Apple? For example, buying a Mac with Windows is of course a personal preference, and there is nothing to criticize. Assuming that iOS comes with Android pre-installed (which may be an inappropriate example), a significant portion of pure fruit fans will not accept it.
Ecosystem. See Windows Phone for this. So why is choosing Apple not a 1% of life? Successful commercialization plays a big role. FreeBSD doesn't even have a mirror site on the mainland, and even the official website has been blocked by China Telecom because of the word free. The ecological environment is quite predictable. And now UNIX certification is very tolerant, so what pedigree that is bullshit. Good or bad to use their own heart does not count? The reason why capitalists are capitalists is in the output and then input. For here, Apple's software is more because more people use it. How did this initial accumulation? FreeBSD a lawsuit, the initial stage is not well developed, otherwise there would be no Linux, this is linus said.
The quality of the nation needs to be improved. This is not to look down on mockery, this is an objective fact. Many college students do not even know what Android is, and some say that everything is based on MIUI. This has nothing to do with the saying that there are specialties in the field. Of course, not to say that the use of fruit is low quality, so understand the language of the people have problems.
Fruit is free from the so-called suffering philosophy of the open source community. Microsoft Windows Microsoft attaches great importance to user experience, which some communities may completely ignore. As a direct result, there are slightly more places that need to be addressed by your own hands. Some people think that Windows is simple because it's all about the graphical interface. In fact this is a very false statement, Windows is very complex. For example, are you familiar with the registry? Do you know what each option means?
As for security, many people think that UNIX-like doesn't need antivirus software, but this is actually not true, and by the time you find yourself poisoned, you've already become a virus incubator. But for now, FreeBSD is far safer than Windows.
As for games and stuff, Steam is known to run fine, and java software like Minecraft runs fine.`}]},{path:"/chapter-1.-approaching-freebsd/1.5-why-use-freebsd.html",title:"1.5 Why Use FreeBSD",pathLocale:"/",contents:[{header:"1.5 Why Use FreeBSD",slug:"_1-5-why-use-freebsd",content:""},{header:"General reasons for choosing FreeBSD",slug:"general-reasons-for-choosing-freebsd",content:"From the Taoist side, choose if you like, too long to read, don't use? Turn left for Linux, Windows, no thanks. From Buddhism, because of karma. Everything is karmic and empty, we are destined to meet and we are destined to leave. All things are like that. In Christianity, it's the Lord's guidance. Just like the Exodus, you seem to be making your own choices, but in reality it is all the Lord's arrangement. In terms of dialectical materialism, it's the connection; FreeBSD is a direct descendant of UNIX, Linux is a knockoff, and many protocols are inseparable from UNIX, so you were meant to be here. In my personal opinion, the pursuit of stable and new software requires both binary sources and the ability to compile and install. I can't find Linux systems other than FreeBSD. The BSD Three License Agreement: and allows for free distribution. what is truly free, the GPL or the BSD agreement? FreeBSD is the product of an academic open source practice and a faithful practitioner of the UNIX philosophy. Staying away from fragmented Linux distributions saves hard-to-choose users from pain. BSD is a complete OS, not a kernel. The kernel and base system are maintained as a whole as a project. The Linux community has become a dirty quagmire, both for kernel development and for user groups. --Visit Literature story."},{header:"Technical reasons for choosing FreeBSD",slug:"technical-reasons-for-choosing-freebsd",content:"The base system configuration files are separate from the third-party software configuration files. /etc vs. /usr/local/etc etc. Documentation is complete, and all general issues are covered in the Handbook. Fewer security vulnerabilities than Linux. Common failure points in the product/architecture can be avoided. Nearly 2.5 year release cycle, with a 5 year maintenance cycle giving FreeBSD stability. Software can be compiled and installed for free configuration via BSD's Ports. The ZFS file system can be configured as a ``partition'', and is considered the most powerful file system available. Jail and byhve virtualization, no need to configure the underlying virtualization, saving system resources. Traditional BSD INIT boot, so you are not persecuted by systemd. DTrace framework and GEOM storage framework. Linux binary compatibility layer to run Linux software as long as it supports CentOS or Ubuntu/Debian and the software runs faster than Linux. Security event auditing."},{header:"The social implications of choosing FreeBSD",slug:"the-social-implications-of-choosing-freebsd",content:`Obviously: the current lack of desktop components on FreeBSD is largely due to their over-reliance on Linux-specific libraries, such as the iproute2 package that contains the ip command. More often than not, these desktops or components are deeply bundled with systemd or are simply forced to rely on it, such as NetworkManager. Samba developers will say "We use Linux, we develop for Linux, all others please submit patches". Linuxism" (Linuxism/Linuxism), a term you will see again in the links cited in the literature chapter, and which some people are proud of.
We don't know the consequences of this behavior, but it is becoming more and more common and mainstream, even most developers no longer consider init compatibility when developing programs like todesk. Even Java programs have lost their portability, why has Eclipse on FreeBSD not been updated for almost two years? It is because of these bundling issues. Recently there was even systemd-boot to replace grub2, and Linux will be unified by systemd in the foreseeable future. And its programs (and it is expected that all programs that can run on Linux) will no longer have any portability.
Maybe Linux open source has come to an end. "You can keep building your wheels, but you can't run any programs unless you're compatible with my systemd." This dilemma that FreeBSD now faces will be faced by all. While UNIX has become irrelevant, there is no doubt that Linux has completely abandoned the philosophy and ideas from which it was built. By choosing FreeBSD, you are choosing to keep a flame in the fire after Linux is controlled by systemd and the commercial companies behind it. Looking at all the major operating systems, the only one that has the ability to replace it is FreeBSD, the open source operating system. By choosing FreeBSD, you are choosing to keep a copy of a truly open source, free operating system. To be able to keep the open source cause alive, and to practice the true UNIX philosophy, and not take the evil path of changing the flag, the path of closure.`}]},{path:"/chapter-1.-approaching-freebsd/1.6-the-so-called-open-source-philosophy.html",title:"1.6 The so-called open source philosophy",pathLocale:"/",contents:[{header:"1.6 The so-called open source philosophy",slug:"_1-6-the-so-called-open-source-philosophy",content:`What I want to say is, as Zhuangzi said in the Nan-hua; "I have an end to my life, but there is no end to my knowledge. If I follow the endless with the endless, it's almost done!" So I do not emphasize the so-called lifelong learning concept. People can promote the Tao, not the Tao to promote people. Knowledge is learned by oneself, and even if one can transmit Kung Fu to others like a terrifyingly powerful person, the person receiving it cannot exhaust all the Tao. Human life is short, the whole human life for the universe and how short! If you do not understand this truth, you will always be exploited.
If hardship is wealth, then in FreeBSD is such an amalgam of wealth. If suffering is a philosophy, then the alias for that philosophy is called FreeBSD philosophy.
When one thinks of the word open source, one thinks first of the GNU Project, and second of such projects as FreeBSD.
There is a lot of sarcasm about Microsoft, saying that the IDE running on Microsoft Windows is garbage, hiding the details under the hood, and that the four steps of "preprocess, compile, assemble, link" are all done at the click of a button. At this point, someone will come out and say let's use Linux, install GCC, write code with VIM, and debug with GDB. How garbage it is to use Windows, you enter Linux!
Since then, I've been in the dusty net for 30 years. From Ubuntu to Gentoo, I've changed hundreds of distributions, but I haven't reached my original intention.
We all know that the keyboard comes first, then the mouse, now you save money on the mouse. Remove Xorg, you say the desktop takes up memory; remove Windows, you say save hard disk space. After remembering thousands of commands in VIM, you find that Notepad works better.
This is where the misery begins.
I don't find any commendable reason to load Bilibili's HTML player under TTY. Nor can I find where using the xfce desktop system, which has a graphical interface superior to macOS or Windows. But some still show their ubiquitous superiority as usual.
Open source is not a utopia, it means Free. It means free from all responsibility. You have to rely on yourself.
I can't figure out why we went into the Bronze Age and then back to the Stone Age. You say for development efficiency, to save hardware costs, to save the cost of legitimate software. I say, now the device, even embedded no longer use assembly for development, but the use of C language; now the notebook, the memory standard upgrade to 8G; and genuine or not, we all know, for open source, but also not arbitrary commercial.
Freedom, light weight, security and stability seem to be synonymous with open source. In fact, it is not, freedom is not to give you the code to let you modify and compile yourself, spend hours. You say you compiled the software to run efficiently, but can not get any papers as evidence.
The open source philosophy, which claims to help each other. I'm sorry that I don't find this in the famous IRC channel. For domestic forums, communities, all kinds of messy logs posted, you can only get ridicule, like years of ugly daughter-in-law boiled into an evil mother-in-law "what https, do you know openssh? Do you know what the certificate is? I don't know you ask a ..." This cycle is repeated, I don't need to say more, there is an association in advertising for their former president. In the end, it is not knowledge that is needed, it is all about money and the capital to mock others with abandon.
Even for servers, most people use CentOS, I do not see where it is better than Scientific Linux. The nature is the same. Only those who really understand will know how ignorant it is to blindly follow the crowd and delve into something without rational understanding.
In today's prevalent graphical interface, we should not drive backwards in history. Nor should we make OSS only for server. Those who say FreeBSD doesn't work, probably haven't used iOS; those who say Linux is garbage, probably haven't used Android.
People with a philosophy of suffering are like people in a bag.
The purpose of this book is to promote the Tao, at a time when some people are treating FreeBSD like Linux. Many people complain that our traditional culture is dying in steel and concrete. Many of these traditional skills and techniques have been lost because of some so-called feudal views, such as passing on the skills to men but not to women, teaching the disciple to starve the master, not to pass on the skills, and so on. It is believed that the real skills, real abilities and real techniques should be disclosed.
The three truths of real skills, real abilities and real techniques, I call him the Taoist method. Whether it is simple or not, it is all Taoism. 1+1=2 is also Taoism, and how to prove that 1+1=2 is also Taoism. From this aspect, everything we know is the Dao. But why do we name it Tao, we will discuss it in the next chapter.
I believe that the Tao should not be passed on lightly.
Light transmission does not mean not passing it on at all, but passing it on in its entirety under the right conditions. In a nutshell, any place where knowledge is objectively free to acquire is a place of deception. Here, Bill Gates must strongly agree with this view.
To take a well-known example, in the Journey to the West, the five monks and their disciples went to the West to get scriptures. Were there no scriptures in the East at that time? Not really. It was not only their destiny to go through the deliberate ninety-nine tribulations, but also because Taoism is not to be passed on lightly, and it is a rare monk who knows one scripture well, let alone ten or a hundred.
In terms of Taoism, not everyone can read the scriptures, because there is no Taoist law, ordinary people do not know which words should be avoided, which is the Taoist monk can read, which the monk can not read, read in what direction, pinch what kind of handprints, from which to which, how many times should be read, what day is taboo. And these only the master will tell you, others will not tell you.
It can be seen that the two Buddhas and Taoists, both sober and do this: do not lightly spread the Tao. It is not simply advocating religiously not to lightly transmit the Dao, but that the two have a deeper understanding, and the implementation of the more correct. Many writers of mystery novels also recognize this view of not passing on the Dao lightly. The predecessors collected all kinds of canonical collections in the great mountains and left them for those who have the destiny. There are two reasons for this, the dangerous place is less crowded, not really destined people can not come; to take things difficult, not easy to get things. There is a northern proverb "listen to the advice of others, eat a full meal", the experienced family of the elderly will tell you a lot of things, not necessarily right, not necessarily wrong, but certainly can eat a full meal, can not eat well. The poet said the road more divergent, divergent road dead sheep, do not have to tell young friends this road does not work, as much as they can let their heads break, which is youth, even if therefore lost life. The reason is that no one will listen to what you say, and what you say is indeed the way, and also spread out, but what effect has it had? Not really. The chattering can be stopped, it has no effect.
Modern society advocates knowledge sharing, but I can see that no one shares core journals and professional academic papers. So what is it that is being shared? Is it a fake story like Washington cutting down a tree or a rumor like instant noodles are junk food? The catechism I see is just a reading of the book, the quality of the book is poor, and this catechism is even worse. It's not in the talent, how about the level of catechism in some foreign universities? Not bad. Why? Because it's not a catechism at all, it's a recorded class, that's all. People always want to take advantage of the free ones, not knowing that they are consumed by themselves and the additional opportunity cost of time. Therefore, I assert that free catechism is not good. Even if the class is good, it is unlikely to have much impact. As stated above, when you pass the doxa out, you don't care about the recipient, and you can't care about the recipient. This is the downside of passing the Dao lightly, wasting your time money and emotions and mine.
As stated in the book "The Ideal State", there must be a way for the Tao to be passed on. If the transmission ceases, it is an inevitable law and cannot be forced. Even if the effort is preserved, it is bound to be the hangover of history.
Everyone can be a teacher, not everyone can get the Tao. A thing is charged, and the value is measured in money. For ordinary people, I am afraid no one says that Linux is better than Windows. The average person here also includes people who have not been exposed to computer education. So no one recommends Linux to the general user community unless he has an ulterior motive. Merchants may be mercenary, but they also do it for the sake of the transmission of the doxa. If items were free, no one would do it anymore. This is where the copyright patent comes from. It is a terrible thing to make people lose their desire. The community is now facing this dilemma.
Many professional books are written for profit, such as how many days to master C++, and how many years to publish a book to mislead people. Not to preach, but to make money or selfishly spread knowledge. Such books can only discourage learners. It seems to be able to popularize culture for a short time, but in the long run it creates a wrong environment and knowledge atmosphere, causing a bigger gap with others.
Preaching is not so easy. Everyone can preach the Word, but the Word preached is not necessarily the Word one thinks one can preach.
Living in a dream and waking up only to find that you still don't know what hurts. The end of the future is already predetermined, but you still have to struggle cowardly to steal your life.
Just like a virtual machine running in a physical machine, always thinking you are real. A miserable life is designed, whether the state machine sets us up as students who love our country and love our people, or we ourselves are unwilling to be a cut-off point on the circle. It is common in the past and present to use the late bloomer as a reason for one's failure to achieve anything, to relieve oneself, to encourage oneself, and to believe that one can make a difference, to stand up to the world. As if many people see through, see through, live openly, unrestrained. To the sky a smile, "see the clear and what is the use, ultimately is their own embarrassment to themselves." Sigh floating clouds long up and long gone, the tide ebbs and flows; sad fog sometimes, and there is no way out.
Young like tea overflowing the cup, tragedy nothing; long time is ultimately better than spilling all.
Not other things smoothed our edges, it is their own smoothed themselves. Things meet injustice, the gentleman is not a tool, not willing to become the object of others to use, but all this is the naked bloody greed violence, are changing these. The great events of the world are by no means accidental, rather than colluding with one another than sending love to the landscape.
The great weapon can not be, the will of God is difficult to disobey. According to the materialistic dialectic view is not correct. But I thought he was right, and I wasn't going to sacrifice myself for some ism, in case he was wrong. I have no chance to verify it, and those who verify it get only an unknown, full of unknowability. From the above point of view, it seems that although the great instrument is late, the warp is also a great one.`}]},{path:"/chapter-1.-approaching-freebsd/1.7-other-bsd-introduction.html",title:"1.7 Introduction to other BSDs",pathLocale:"/",contents:[{header:"1.7 Introduction to other BSDs",slug:"_1-7-introduction-to-other-bsds",content:`OpenBSD focuses on security and is claimed to be the most secure operating system in the world (the German 2014 movie Who Am I: No System Is Safe comes to mind); WiFi development is very aggressive and already supports intel AX200; however, packages are small and old, e.g. KDE is only 3.5; sudo and linux compatibility layers have been dropped for security and support for Nvidia card support is also problematic; it is generally used as a firewall development.
FreeBSD has the most developers, the most users, and the most packages, with ZFS and Linux-compatible layers.
NetBSD has a lot of architectural support, but generally poor support because there are not enough developers to maintain several architectures at the same time by one developer.
DragonFlyBSD (Dragonfly BSD) comes with an i915 graphics driver, but the documentation is lagging and the architecture is not well supported.`}]},{path:"/chapter-1.-approaching-freebsd/1.8-linux-user-migration-guidelines.html",title:"1.8 Linux User Migration Guidelines",pathLocale:"/",contents:[{header:"1.8 Linux User Migration Guidelines",slug:"_1-8-linux-user-migration-guidelines",content:`As a result of the GNU open source movement, most people's understanding of open source has been confined to the GPL and Linux, and they have been unable to enter the BSD world of FreeBSD, mainly by organizations that claim to be open source communities, but whose actual, concrete activities do not go beyond the basic boundaries of Linux. This article was written for this reason.
The comparison between the two has already been written about in the previous article, so it is pointless to repeat it. To emphasize the superiority of FreeBSD would be a long-winded nonsense. Instead of emphasizing FreeBSD, let's get into Linux, the real Linux.
The following statements may be offensive to some, but they are true.`},{header:"Comparison of the major GNU/LInux distributions",slug:"comparison-of-the-major-gnu-linux-distributions",content:""},{header:"Ubuntu",slug:"ubuntu",content:`Ubuntu is known as an internal error distribution. Some people argue that "that's Ubuntu being modest and taking the blame for bugs that don't belong to them", but it's irrefutable that Ubuntu is based on Debian's SID version, which is not guaranteed to be stable.`},{header:"Fedora",slug:"fedora",content:'Fedora is commonly known as "gutter oil", is based on RHEL upstream system, I prefer to call it a mouse distribution, the fundamental purpose of its release is to test the new design and architecture of the RHEL system, to be stable after migration to RHEL. stability can be seen. This shows that the so-called successful business model for Linux is to test it for free in the open source community, and then introduce an enterprise version once it has been tested and stabilized. More on wine and crossover for example?'},{header:"CentOS/Rocky Linux/RHEL",slug:"centos-rocky-linux-rhel",content:'Currently, CentOS is no longer the operating system built on RHEL source code, but a midstream test system of RHEL, similar to Fedora. There are a variety of alternatives, even the so-called Euler Systems, which are UNIX certified. But I think Rocky Linux is more promising. These systems are widely deployed on servers, with the specific disadvantage of sacrificing "newness" for "stability" and very old software versions.'},{header:"Debian",slug:"debian",content:'Debian is commonly known as "the shit". One strange thing is that sudo is not installed if you set the root password, and Debian packages are not updated much. \uFF08Debian packages are not updated much. (This is only for stable).'},{header:"OpenSUSE",slug:"opensuse",content:`OpenSUSE is commonly known as the Big Lizard. One of the funniest things he did was his version number, in honor of this number "42" written by British author Douglas Adams in The Hitchhiker's Guide to the Galaxy, (called "the ultimate answer to life, the universe and everything the answer to life, And the funny thing is, going from 42 to 15 is supposed to be an upgrade, but 42 is a bigger version than 15, so you get to 15 and then you upgrade to 42 in reverse. So now the question is, when you get to 41, do you upgrade to 42 or 43?`},{header:"Gentoo",slug:"gentoo",content:`Gentoo is commonly known as a "meta-distribution". Everything has to be installed by compiling the software. The disadvantage is obvious, if a program doesn't compile, it can't be installed, and in fact there are many such programs. Some people will argue that Gentoo has a binary installation, but that also requires you to build locally first, and there is no unified official binary source. Once you don't update for a while, Gentoo will show you what it means to have recurring dependencies. And Gentoo is difficult to deploy on a large scale and on servers. Also Gentoo's portage (package manager) is written in python, which directly causes delays in calculating dependencies: on a Raspberry Pi 4, installing KDE 5 often takes several hours ......
In short, Gentoo binds the user with its own philosophy, complicating simple problems and torturing itself; USE is too complex, and for some common software, there are often circular dependency problems, destroying system stability and making it difficult to install and upgrade software and uninstall.`},{header:"Deepin/UOS/Champion Kirin",slug:"deepin-uos-champion-kirin",content:`The relationship between UOS and Deepin is like RHEL to Fedora, which is essentially the same thing. deepin never seems to test the software, it just pushes the update package to the user, and the most direct result is that he knows the update will cause the system to crash and doesn't withdraw the update, but writes a post in a small corner of the official website and tells you how to fix it? The system of Deepin will cause the desktop to crash just by copying the files, I can't understand how his system is made, don't his own developers need to copy the files?
I have nothing to say about the so-called domestic systems such as the Chinese standard Kirin.`},{header:"Arch Linux/Manjaro",slug:"arch-linux-manjaro",content:`Arch Linux is commonly known as the "cult, shampoo". It is one of the most unstable Linux distributions I have ever seen, and has the largest number of users on a PC. I have trouble understanding why so many people choose such an unstable operating system. The more software you install, the faster it hangs. Some would say this is what happens when you don't read the release notes, but that's not true. The only good thing about Arch Linux is that the software is new. Arch Linux seems to be tied to the philosophy of suffering, visit Chapter 193.`},{header:"Differences between FreeBSD and Linux",slug:"differences-between-freebsd-and-linux",content:`FreeBSD still uses the traditional INIT boot, not systemd.
The FreeBSD root user shell defaults to csh (14 changed to sh), not bash.
The FreeBSD base system contains almost no software that is not part of the BSD protocol, and is committed to de- GNUization (which means that the base system does not use Glibc, GCC, etc.), see https://wiki.freebsd.org/GPLinBase The user and system configuration files for FreeBSD are strictly separated, i.e. the kernel and base system are completely separate from third-party applications.
The FreeBSD project is maintained as a complete operating system, not as a separate kernel and userland; that is, if you want to use FreeBSD, there is only one FreeBSD to choose from.
FreeBSD does not have a free command nor does it support installing this package (FreeBSD stopped using procfs long ago); the text editors that come with the FreeBSD base system are ee and vi (not vi with soft links to vim, but real vi); there is no wget pre-installed, but fetch.`},{header:"Command substitution/software substitution",slug:"command-substitution-software-substitution",content:`Since Linux widely uses the GNU tools as well, the tools will work on FreeBSD as long as they are not theoretically dependent on a specific Linux library. Linux Commands/GNU Software
FreeBSD Commands/BSD Software
Required Packages (Installation Method)
Role Description
Additional Notes / Philosophy of Suffering lsusb
lsusb
pkg install usbutils
Show USB information
Roughly, you can use cat /var/run/dmesg lspci
lspci
pkg install pciutils
Show motherboard information
Roughly you can use cat /var/run/dmesg lsblk
lsblk
pkg install lsblk
show disk usage
/ free
freecolor
pkg install freecolor
show memory usage
FreeBSD does not provide the free command, as it depends on Linux and is provided by the package procps, but then, FreeBSD has long since moved away from using procfs. If you really need free you can use https://github.com/j-keck/free. Other optional commands are vmstat -m lscpu
lscpu
pkg install lscpu
show processor information
/ glibc
bsdlibc
/
C library
/ GCC
LLVM + Clang
/
Compilers, compilation chain tools
You can pkg install gcc if you want. vim
vim
pkg install vim
text editor
FreeBSD's default vi is not soft-linked to vim, but rather to the real vi wget
wget
pkg install wget
downloader
The default system download tool is fetch bash
bash
pkg install bash
shell
The default root shell is csh, which may cause difficulties when configuring the input method environment variables and may not be able to enter recovery mode NetworkManager
networkmgr
pkg install networkmgr
network connection tool
NetworkManager depends on systemd and cannot be directly ported`}]},{path:"/chapter-1.-approaching-freebsd/1.9-references-and-contributor-list.html",title:"1.9 Bibliography and list of contributors",pathLocale:"/",contents:[{header:"1.9 Bibliography and list of contributors",slug:"_1-9-bibliography-and-list-of-contributors",content:""},{header:"Bibliography",slug:"bibliography",content:"Related books: The old ones haven't changed much. There are not as many introductory books as there are for Linux. For historical reasons, just look at UNIX-related books."},{header:"Publications",slug:"publications",content:`Tip: There are several books below that can be read for free via WeChat Reader. Absolute FreeBSD 3rd, by Michael W. Lucas, ISBN: 9781593278922, No Starch Press. vocabulary including content is very basic, no need to read for those who have basic computer skills. by Marshall McKusick, George Neville-Neil Design and Implementation of the FreeBSD Operating System, 2nd . Mainly explains the kernel. by Brian W Kernighan UNIX: A History and a Memoir . It mainly explains the history of UNIX development. by Eric Raymond. The Art of Unix Programming . Mainly explains the design philosophy and software engineering theory of UNIX. by Eric S. Raymond. The Cathedral and the Bazaar . Mainly describes the history of the development of the open source movement. Linux Private Kitchens: basic learning articles 3rd, by Bird, ISBN: 9787115226266, People's Post and Telecommunications Publishing House.
Note: There is an updated 4th edition. However, the fourth edition is written for systemd and deviates completely from the traditional init. It is still recommended to use the third edition, which is more relevant to FreeBSD. However, some of the arguments to commands such as grep will be different and are worth noting. There are some sections that are not necessary for FreeBSD and can be skipped: 0, 2, 3, 4, 15, 17, 21, 22, 23, 25, 26. "Linux Private Kitchens: Server Setup (3rd Edition)", by Bird, ISBN: 9787111384991, Machine Industry Press.`},{header:"List of contributors (the following rankings are in random order)",slug:"list-of-contributors-the-following-rankings-are-in-random-order",content:`Ling Guan
Star No Moe
Rainy Day
Liu Li Zhi
peiyafei
ykla
bright sunny day
Shih-chan
fjh1997
X-Ray
fanyang1997
orzyyyy
Rintim
tomblackwhite
isNijikawa
subway card
Star No Moe
qinghecyn
Qinghecyn Oral Liquid
Mozi
201724
Jack
liguangsheng
hoodie
hang yongcong
Shengyun
look up to the sky
Mojo Sauce
extreme theft
blu10ph
livrth
Note: If your information is missing or you don't want to be listed, please initiate an issue.`}]},{path:"/chapter-10.-virtualization/10.1-introduction-to-virtualization.html",title:"10.1 Introduction to Virtualization",pathLocale:"/",contents:[{header:"10.1 Introduction to Virtualization",slug:"_10-1-introduction-to-virtualization",content:""}]},{path:"/chapter-10.-virtualization/10.2-installing-virtual-box.html",title:"10.2 Installing Virtual Box",pathLocale:"/",contents:[{header:"10.2 Installing Virtual Box",slug:"_10-2-installing-virtual-box",content:`A pkg installation of Virtual Box will have several problems, such as not being able to load the vboxdrv module. If the installation does not start, try restarting your computer or running Virtual Box from the command line.
It is therefore recommended to use ports for installation:
# cd /usr/ports/emulators/virtualbox-ose
# make BATCH=yes install clean
Others please refer to Handbook\u3002`}]},{path:"/chapter-10.-virtualization/10.3-installation-bhyve.html",title:"10.3 Installing bhyve",pathLocale:"/",contents:[{header:"10.3 Installing bhyve",slug:"_10-3-installing-bhyve",content:""}]},{path:"/chapter-10.-virtualization/10.4-managing-bhyve-with-cbsd.html",title:"10.4 Managing bhyve with cbsd",pathLocale:"/",contents:[{header:"10.4 Managing bhyve with cbsd",slug:"_10-4-managing-bhyve-with-cbsd",content:""}]},{path:"/chapter-10.-virtualization/10.5-installing-windows-11-with-bhyve.html",title:"10.5 Installing Windows 11 with bhyve",pathLocale:"/",contents:[{header:"10.5 Installing Windows 11 with bhyve",slug:"_10-5-installing-windows-11-with-bhyve",content:""}]},{path:"/chapter-10.-virtualization/10.6-installing-xen.html",title:"10.6 Installing XEN",pathLocale:"/",contents:[{header:"10.6 Installing XEN",slug:"_10-6-installing-xen",content:""}]},{path:"/chapter-10.-virtualization/10.7-installing-windows-11-with-xen.html",title:"Installing Windows 11 with XEN",pathLocale:"/",contents:[{header:"Installing Windows 11 with XEN",slug:"installing-windows-11-with-xen",content:""}]},{path:"/chapter-11.-update-and-upgrade-freebsd/11.1-updating-via-freebsd-update.html",title:"11.1 updated via freebsd-update",pathLocale:"/",contents:[{header:"11.1 updated via freebsd-update",slug:"_11-1-updated-via-freebsd-update",content:`Note: Only the release version of the first-level architecture provides this source. This means that current and stable are not available.
For a description of the support levels of the architecture visit:
https://www.freebsd.org/platforms Front row tips
For AliCloud users upgrading to 13.x, please visit Chapter 2, Section 1, "Paravirtualizing Virtual Machines with virtio Technology".`},{header:"Updating the system",slug:"updating-the-system",content:"FreeBSD provides the utility freebsd-update to install system updates, including upgrades to major releases."},{header:"Routine security updates.",slug:"routine-security-updates",content:`## freebsd-update fetch
When a message similar to the following appears.
usrlinclude/c++/vl/trllvector usrlinclude/c++/vl/trllversion usrlinclude/c++/v1/trl/wchar.h usr/include/c++/v1/tr1/wctype.h usrlinclude/c++/vllunwind-armh
usrlinclude/c++/v1/unwind-itaniumh usrlinclude/c++/vllunwindh
usr/include/crypto/ cryptodevh usrlinclude/crypto/cbcmac.h usr/include/crypto/deflate.h usrlinclude/crypto/gfmult.h usr/include/crypto/ gmac.h
usr/include/crypto/rijndael.h usrlinclude/crypto/rmd160.h usr/include/crypto/xform.h
usr/include/crypto/xformauth.h usr/includecrypto/xformcomp.h usrlincludelcryptolxformenc.h
usr/include/crypto/xformpoly1305.h usrlincludelsys/ cscanatomic.h usrlincludelsys/ cscanbus.h usr/lib/clang/11.0.1
usr/lib/clang/11.0.1/include
:
All you need to do is type q and enter. Then.
# freebsd-update install`},{header:"minor or major version updates",slug:"minor-or-major-version-updates",content:`For example, 13.1 is the version number to update to. # freebsd-update upgrade -r 13.1-RELEASE
When a message similar to the following appears.
usrlinclude/c++/vl/trllvector usrlinclude/c++/vl/trllversion usrlinclude/c++/v1/trl/wchar.h usr/include/c++/v1/tr1/wctype.h usrlinclude/c++/vllunwind-armh
usrlinclude/c++/v1/unwind-itaniumh usrlinclude/c++/vllunwindh
usr/include/crypto/ cryptodevh usrlinclude/crypto/cbcmac.h usr/include/crypto/deflate.h usrlinclude/crypto/gfmult.h usr/include/crypto/ gmac.h
usr/include/crypto/rijndael.h usrlinclude/crypto/rmd160.h usr/include/crypto/xform.h
usr/include/crypto/xformauth.h usr/includecrypto/xformcomp.h usrlincludelcryptolxformenc.h
usr/include/crypto/xformpoly1305.h usrlincludelsys/ cscanatomic.h usrlincludelsys/ cscanbus.h usr/lib/clang/11.0.1
usr/lib/clang/11.0.1/include
:
All you need to do is type q and enter. Then.
# freebsd-update install
After installation you need to reboot your system:
# reboot
Then continue to complete the installation with.
# freebsd-update install`},{header:"Troubleshooting",slug:"troubleshooting",content:""},{header:"FreeBSD upgrade error, no ntp user",slug:"freebsd-upgrade-error-no-ntp-user",content:`Execute the command in the terminal
## pw groupadd ntpd -g 123
# pw useradd ntpd -u 123 -g ntpd -h - -d /var/db/ntp -s /usr/sbin/nologin -c "NTP Daemon"`}]},{path:"/chapter-11.-update-and-upgrade-freebsd/11.2-update-through-source-code.html",title:"11.2 Update through source code",pathLocale:"/",contents:[{header:"11.2 Update through source code",slug:"_11-2-update-through-source-code",content:""}]},{path:"/chapter-11.-update-and-upgrade-freebsd/11.3-batch-deployment.html",title:"11.3 Batch Deployment",pathLocale:"/",contents:[{header:"11.3 Batch Deployment",slug:"_11-3-batch-deployment",content:""}]},{path:"/chapter-12.-geom-storage-framework/12.1-overview.html",title:"12.1 Overview",pathLocale:"/",contents:[{header:"12.1 Overview",slug:"_12-1-overview",content:`Note
This section is from the Internet.`},{header:"Disk Encryption in FreeBSD",slug:"disk-encryption-in-freebsd",content:`GBDE (GEOM-based disk encryption)
GEOM modules in the kernel gbde(4)
User space tools gbde(8)
Create a new device with a .bde suffix
GELI (GEOM eli)
GEOM module in the kernel
Userspace tools geli(8)
Create a new device with the suffix \`.eli
Operating at the sector level
Create a new device to allow plain text access to data`},{header:"GEOM framework",slug:"geom-framework",content:`A standardized way to access the storage layer
Collection of GEOM classes
Classes can be freely stacked in any order
Abstraction of I/O request transformations
Transformations: striping, mirroring, partitioning, encryption
Providers and consumers
Auto-discovery`},{header:"GBDE",slug:"gbde",content:`The master key (2048 random bits) is located in a random location on the GEOM device and its location is stored in a lock file.
The lock file is encrypted using the user password and should be stored separately
have up to 4 separate user secrets (lock sectors)
Each sector is encrypted using AES-CBC-128 and a random sector key. Sector keys
The sector key is encrypted using a key extracted from the master key and the sector number. Sector keys are encrypted using a key derived from the master key and sector number
Disk space overhead for storing each sector key
Non-atomic disk updates because sector keys are stored separately from the data Because sector keys are stored separately from the data
Encryption devices in device systems that do not support encryption in / file systems`},{header:"GELI",slug:"geli",content:`Simple sector-to-sector encryption
To perform symmetric encryption of sectors, a random master key is chosen
The master key is encrypted using the user key and stored in the last sector of the GEOM device
Up to two encrypted copies of the master key can be stored in the sectors
The user key consists of up to two parts: a user passphrase and a key file
The passphrase is enhanced using PKCS #5: Password-Based Cryptography Specification 2.0
Encryption Specification 2.0 (RFC 2898)
Data integrity can be verified
Automatically takes advantage of hardware-accelerated cryptographic operations due to the use of the crypto(9) framework
Supports multiple encryption algorithms (AES-XTS,AES-CBS, Blowfish-CBC, Camellia-CBC, 3DES-CBC) and different key lengths. Different key lengths
Allow mounting of encrypted devices in /file systems
Support for booting from encrypted partitions since FreeBSD 11`},{header:"GEOM Modular Disk Transformation Framework and other common commands for disk management.",slug:"geom-modular-disk-transformation-framework-and-other-common-commands-for-disk-management",content:`# fdisk -s /dev/da0 # Print summary information about disk objects. Where /dev/da0, the disk object, represents the first hard disk of the machine, if not written the default shows the boot disk information. You can also write it as a slice or partition, such as /dev/da0s1 and /dev/da0s1a, where the hard disk is represented by da, starting from 0, the slice is represented by s, starting from 1, and the partition is represented by the letters a-h. /dev/da0s1a means the first partition of the first slice of the first hard disk, which is the representation of MBR. GPT is directly partitioned, so it uses p for partitions, starting from 1, /dev/da0p1 is the first partition of the first hard disk # dd if=/dev/zero of=/dev/da1 bs=1k count=1 # Clean up disk information # fdisk -BI /dev/da1 # initialize the disk, default MBR mode bsdlabel -w /dev/da1s1 # write bsdlabel # bsdlabel -e /dev/da1s1 # Edit with vi editor # bsdlabel geom -t #Tree structure to show disk object relationships # geom disk lsit #List of used physical disks # geom disk status # Show status information for used physical disks # gpart list | geom part list #List of created partitions and partitions # gpart status | geom part status # Show the status of created partitions and partitions # gpart show /dev/da1 # Show information about used drives # gpart create -s GPT /dev/da1 #Create partition table for disk /dev/da1, in this case in GPT mode, you can also set MBR, APM, BSD, BSD64, LDM, VTOC8 # gpart add -b 64 -s 2048m -t freebsd-ufs -i 2 -l root0 /dev/da1 # Create a new partition on disk /dev/da1. -b is the starting position; -s is the allocated space; -t is the partition format, you can use freebsd for partitioning, and freebsd-boot, freebsd-swap, freebsdzfs, etc.; -i is the index, in this case 2, i.e. the new partition is called /dev/da1p2; -l is the label newfs /dev/ da1p2 # format the partition # gpart modify -i 2 -t freebsd-zfs -l myroot /dev/da1 # Modify partition with index 2 on disk /dev/da1, both partition format and label can be modified # gpart resize -i 2 -s 4g /dev/da1 # resize the index 2 partition on disk /dev/da1 in k, m, g, t. Note that if you want to reduce the partition, the partition cannot be in use, which means that the system partition cannot be reduced by default; if you want to enlarge the partition, there must be free space behind the partition and no other partitions. This means that the system partition cannot be expanded by default. Therefore, when creating a FreeBSD virtual machine, you should take into account the possibility of using the system partition, or avoid using the system partition if possible # gpart bootcode -b /boot/mbr /dev/da1 # Write the boot code, commonly used in /boot/gptboot and /boot/boot # gpart set -a active -i 1 /dev/da0 # Set the active partition. When the partition table is MBR, bsdinstall and sade AGVDbNVutgwiep6615bjTJnQkScwWuUEMuU95NredRG5 # gpart delete -i 2 /dev/da1 #Delete the partition with index 2 on disk /dev/da1 # gpart destroy -F /dev/da1 #Destroy the information on disk /dev/da1, the -F parameter means force # mount /dev/da1p1 /data # Mount the partition /dev/da1p1 to the /data directory, use the chown command to set the attribution after mounting, if you want it to be mounted automatically after reboot, execute the command in terminal.
# printf "/dev/da1p1t/datattufstrwt0t0n" >> /etc/fstab # umount /data # unmount the /data directory Four more sets of examples are given below, for reference.
#1.MBR New partition after extended partition on system disk (assuming 50G disk space has been added to system disk) # gpart resize -i 1 -s 149g /dev/da0 #resize the partition /dev/da0s1 to 149G. Although the disk size is 150G, for technical reasons the actual space available is not that much # gpart add -t freebsd-ufs /dev/da0s1 # Add a partition to partition /dev/da0s1, type freebsd-ufs; if you do not specify the -s argument, all remaining space will be allocated to this partition # newfs /dev/da0s1d # Format the new partition. Note the name of the new partition here, since a is the boot partition, b is the swap partition, and c is already occupied by the partition itself, the new partition is allocated as d by default # mkdir /data # mount /dev/da0s1d /data # printf "/dev/da0s1dt/datattufstrwt2t2n" >> /etc/fstab
#2.MBR Create a partition after creating a new partition on the system disk (assuming 50G of disk space has been added to the system disk) # gpart add -t freebsd /dev/da0 # Add a partition to the secondary run /dev/da0, type freebsd. If you don't specify -s, you will allocate all remaining space to the partition # gpart create -s BSD /dev/da0s2 # Set the partition to take effect gpart add -t freebsd-ufs /dev/da0s2 # Add a partition to partition /dev/da0s2, type freebsd-ufs; if -s is not specified, all remaining space will be allocated to the partition # newfs /dev/da0s2a # Format the new partition. Since the current partition is the first partition on the current slice, the system default allocation is a # gpart set -a active -i 1 /dev/da0 # Set the active partition. This step is required if you create a new partition with bsdinstall or sade # mkdir /data mount /dev/da0s2a /data # printf "/dev/da0s2at/datattufstrwt2t2n" >> /etc/fstab
#3.GPT New partition on system disk (assuming 50G of disk space has been added to the system disk) # gpart add -t freebsd-ufs /dev/da0 # Add partition on disk /dev/da0, there is no concept of partition in GPT # newfs /dev/da0p4 # Format the new partition. Note the new partition name here, p1 is the boot partition, p2 is the system partition, and p3 is the swap partition, so the new partition defaults to p4 # mkdir /data mount /dev/da0p4 /data # printf "/dev/da0p4t/datattufstrwt2t2n" >> /etc/fstab #4. GPT create data partition # gpart create -s GPT /dev/da1 # Set up the partition table for disk /dev/da1. If you want to use MBR partitions, change the value of the -s parameter to MBR # gpart add -t freebsd-ufs /dev/da1 # Add partition on disk /dev/da1, type freebsd-ufs # newfs /dev/da1p1 # Format the new partition. Since the current partition is the first partition on the current slice, the system default assignment is p1 # mkdir /data mount /dev/da1p1 /data # printf "/dev/da1p1t/datattufstrwt2t2n" >> /etc/fstab`}]},{path:"/chapter-12.-geom-storage-framework/12.2-raid-0.html",title:"12.2 RAID 0",pathLocale:"/",contents:[{header:"12.2 RAID 0",slug:"_12-2-raid-0",content:`Implementation: The simplest way to implement RAID 0 is to connect multiple identical hard drives in series to create one large logical drive. The biggest advantage is that the capacity of the hard disk can be increased by a factor of one. If three 10T hard drives are used to form a RAID 0 mode, the disk capacity will be 30 TB.
RAID 0 Data Recovery: Since it does not provide data redundancy protection, the failure of one of the disks in the array will result in the loss of data in it and cannot be recovered.
Application Scenarios: RAID 0 is generally suitable for applications with strict performance requirements but not high data security and reliability, such as video and audio storage, temporary data cache space, etc.
Minimum number of drives: Minimum 2 drives required to create RAID 0
Available Capacity: 100% disk space utilization`}]},{path:"/chapter-12.-geom-storage-framework/12.3-raid-1.html",title:"12.3 RAID 1",pathLocale:"/",contents:[{header:"12.3 RAID 1",slug:"_12-3-raid-1",content:`Implementation: RAID 1 uses two identical disk systems to mirror each other, storing data on the primary drive while also writing the same data on the mirror drive. When the main hard disk is damaged, the mirror hard disk works instead of the main hard disk.
RAID1 data recovery: If any disk is damaged, you can immediately recover data from the mirror disk. For example, if the above figure Disk0 is damaged resulting in data loss, we can replace the failed disk with a new disk, read the data from Disk1, and copy it to the new disk, thus achieving data recovery.
Application Scenario: RAID 1 is used in applications that require high sequential read/write performance and attach great importance to data protection. For example: servers, database storage field.
Minimum number of drives: Minimum 2 drives required to create RAID 1
Available Capacity: The actual number of available drives is half of the total number of drives`}]},{path:"/chapter-12.-geom-storage-framework/12.4-raid-3.html",title:"12.4 RAID 3",pathLocale:"/",contents:[{header:"12.4 RAID 3",slug:"_12-4-raid-3",content:""}]},{path:"/chapter-12.-geom-storage-framework/12.5-soft-raid-configuration.html",title:"12.5 Soft RAID Configuration",pathLocale:"/",contents:[{header:"12.5 Soft RAID Configuration",slug:"_12-5-soft-raid-configuration",content:""}]},{path:"/chapter-12.-geom-storage-framework/12.6-geom-gate-network.html",title:"12.6 GEOM Gate Network",pathLocale:"/",contents:[{header:"12.6 GEOM Gate Network",slug:"_12-6-geom-gate-network",content:""}]},{path:"/chapter-12.-geom-storage-framework/12.7-disk-device-labeling.html",title:"12.7 Disk device labels",pathLocale:"/",contents:[{header:"12.7 Disk device labels",slug:"_12-7-disk-device-labels",content:""}]},{path:"/chapter-12.-geom-storage-framework/12.8-ufs-journaling-and-geom.html",title:"12.8 UFS Journaling and GEOM",pathLocale:"/",contents:[{header:"12.8 UFS Journaling and GEOM",slug:"_12-8-ufs-journaling-and-geom",content:""}]},{path:"/chapter-12.-geom-storage-framework/12.9-zfs-disk-encryption-and-decryption.html",title:"12.9 ZFS disk encryption and decryption",pathLocale:"/",contents:[{header:"12.9 ZFS disk encryption and decryption",slug:"_12-9-zfs-disk-encryption-and-decryption",content:""},{header:"Overview",slug:"overview",content:`If ZFS disk encryption is selected during installation, how do I mount the disk?
Disk structure (FreeBSD 11 onwards) Partition Type
Mount Point
Device freebsd-boot /EFI /dev/ada0p1 freebsd-zfs
/
/dev/ada0p2/, /dev/ada0p2.eli freebsd-swap /dev/ada0p3, /dev/ada0p3.eli It's easy and doesn't require a key.
Execute the command # geli attach /dev/ada0p3
Then enter the correct password to import the disk with the zfs mount zroot/ROOT/default command.`},{header:"Use GELI to encrypt ZFS volumes",slug:"use-geli-to-encrypt-zfs-volumes",content:`## Create a block device
# zfs create -V 256M zroot/test
# Create a randomly generated, 4K-sized key
# dd if=/dev/random of=/tmp/test.key bs=4k count=1
# Initialize and load the encrypted disk
# geli init -K /tmp/test.key /dev/zvol/zroot/test
# geli attach -k /tmp/test.key /dev/zvol/zroot/test
# discover a new device
# ls /dev/zvol/zroot/test.geli
# We can create a new file partition on this device
# zpool create -m /tmp/ztest ztest /dev/zvol/zroot/test.eli`},{header:"GELI data backup and recovery",slug:"geli-data-backup-and-recovery",content:`## Backup GELT data
# geli backup /dev/zvol/zroot/test /tmp/test.eli
# Clear GELT data
# geli clear /dev/zvol/zroot/test
# GELI tries to mount the GELT device, but cannot do so because his GELT data cannot be found
# geli attach -k /tmp/test.key /dev/zvol/zroot/test
# restore GELT data
# geli restore /tmp/test.eli /dev/zvol/zroot/test
# Now we can mount the device and import the pool
# geli attach -k /tmp/test.key /dev/zvol/zroot/test
# zpool import`},{header:"Resize the GELI disk",slug:"resize-the-geli-disk",content:`# Adjust ZFS volume
# zfs set volsize=512M zroot/test
# You can't mount the GELT device yet, because GELT can't find the data
# geli attach /dev/zvol/zroot/test
# We need to tell GELT the storage size of the previous device
# geli resize -s 256M /dev/zvol/zroot/test
# Now we can mount the device and import the pool
# geli attach -k /tmp/test.key /dev/zvol/zroot/test
# zpool import`}]},{path:"/chapter-13.-dtrace/13.1-overview.html",title:"13.1 Overview",pathLocale:"/",contents:[{header:"13.1 Overview",slug:"_13-1-overview",content:"DTrace is the originator of dynamic tracing technology, derived from SUN's Solaris system, providing advanced performance analysis and debugging capabilities, and its source code is licensed under the CDDL."}]},{path:"/chapter-13.-dtrace/13.2-enabling-dtrace.html",title:"13.2 Enabling DTrace",pathLocale:"/",contents:[{header:"13.2 Enabling DTrace",slug:"_13-2-enabling-dtrace",content:""},{header:"FreeBSD 11 onwards",slug:"freebsd-11-onwards",content:`# kldload dtraceall
can be turned on immediately`},{header:"For FreeBSD 9/10",slug:"for-freebsd-9-10",content:`The FreeBSD kernel does not have DTrace turned on by default. To enable this feature you must add parameters to recompile the kernel.
It is recommended that you read Chapter 20, Kernel.
Edit the kernel configuration file to add:
options KDTRACE_HOOKS
options DDB_CTF
makeoptions DEBUG=-g
makeoptions WITH_CTF=1
In case of 64-bit OS:
options KDTRACE_FRAME`}]},{path:"/chapter-13.-dtrace/13.3-using-dtrace.html",title:"13.3 Using DTrace",pathLocale:"/",contents:[{header:"13.3 Using DTrace",slug:"_13-3-using-dtrace",content:`First install ksh93:
# pkg install shells/ksh93
Next install dtrace-toolkit:
# pkg install sysutils/dtrace-toolkit`}]},{path:"/chapter-14.-network-management/14.1-ppp-dialing.html",title:"14.1 PPP Dialing",pathLocale:"/",contents:[{header:"14.1 PPP Dialing",slug:"_14-1-ppp-dialing",content:""}]},{path:"/chapter-14.-network-management/14.2-wifi.html",title:"14.2 WiFi",pathLocale:"/",contents:[{header:"14.2 WiFi",slug:"_14-2-wifi",content:`Intel WIFI 5/6 chips (AC 8265, AC 9260, AC 9560, AX200, AX201, AX210) drivers are available in the last section.
Note: If the wireless card is not recognized when you install FreeBSD, then your wireless card is not supported. Please ignore the following.`},{header:"General NIC drivers",slug:"general-nic-drivers",content:`First run # ifconfig and see if you can find your NIC, if you can, then you can skip this section.
Run # sysctl net.wlan.devices, he will tell you the wireless NIC driver, if there is nothing after the colon output, then it is not recognized. Please replace the wireless card.
Edit the /boot/loader.conf file
Add.
if_urtwn_load="YES" legal.realtek.license_ack=1 Note, the
This is just an example, please add your own required drivers (see the output of # sysctl net.wlan.devices). Next, create wlan0
# ifconfig wlan0 create wlandev at0
at0 is your NIC, see your own # sysctl net.wlan.devices output, this command is temporary, if you need to boot permanently to take effect, in rc.conf, add.
# wlans_ath0 = "wlan0"
Scan for WiFi.
# ifconfig wlan0 up scan
# ifconfig wlan0 ssid abc
Connect to WiFi: \`\`\` # ifconfig wlan0 up scan
# dhclient wlan0
Get IP address
Connect to an encrypted network
Create /etc/wpa_supplicant.conf.
network={ ssid="WIFI name (SSID)" psk="WIFI password"
}
In rc.conf, add
# ifconfig_wlan0="WPA SYNCDHCP"
Then reboot the computer (because there is something wrong with the command, you can only reboot to make rc.conf take effect)
# wpa_supplicant -B -i wlan0 -c /etc/wpa_supplicant.conf
# wpa_cli -i wlan0 scan // search for nearby wifi networks
# wpa_cli -i wlan0 scan_result // Print the results of the wifi network search
# wpa_cli -i wlan0 add_network // Add a network connection
# wpa_cli -i wlan0 remove_network 1 // Remove a network connection
# wpa_cli -i wlan0 set_network 0 ssid '"name"'
# wpa_cli -i wlan0 set_network 0 psk '"psk"'
# wpa_cli -i wlan0 enable_network 0
Save the connection
# wpa_cli -i wlan0 save_config
Disconnect
# wpa_cli -i wlan0 disable_network 0
Connect an existing connection
# wpa_cli -i wlan0 list_network Enumerate all saved connections
# wpa_cli -i wlan0 select_network 0 Connects the 1st saved connection
# wpa_cli -i wlan0 enable_network 0 Enables the 1st saved connection
Disconnect WiFi
# ifconfig wlan0 down
With configuration details: https://segmentfault.com/a/1190000011579147
wpa authentication, static ip
# ifconfig_wlan0="WPA inet 192.168.1.100 netmask 255.255.255.0" # ifconfig wlan0 inet 192.168.0.100 netmask 255.255.255.0
Turn on wireless ap, make sure your NIC supports hostap first
# ifconfig wlan0 list caps
Destroy first
# ifconfig wlan0 destroy
then create
# ifconfig wlan0 create wlandev ath0 wlanmode hostap # ifconfig wlan0 inet 192.168.0.1 netmask 255.255.255.0 ssid freebsdap mode 11g channel 1 If you can't connect or can't find the debug channel, try to select Japan for the WiFi area code, and then select China.`},{header:"Simple version",slug:"simple-version",content:`Take the crab card as an example. # ee /boot/loader.conf Add
rtwn_usb_load="YES"
legal.realtek.license_ack=1
Write in /etc/rc.conf
wlans_rtwn0="wlan0"
ifconfig_wlan0="WPA DHCP"
Implementation.
# /etc/rc.d/netif start`},{header:"Intel WIFI 5/6 chips",slug:"intel-wifi-5-6-chips",content:`The following section does not apply to FreeBSD 13.1. 13.1 already has the driver loaded properly. The following sections apply only to FreeBSD 13.1, 14.0.
The iwlwifi driver is available for the AC 8265, AC 9260, AC 9560, AX200, AX201, AX210 and older NICs included in the iwm driver, see https://www.intel.cn/content/www/cn/zh/support/articles/000005511/wireless.html. For iwm(4) legacy NICs that want to use this driver, please refer to https://wiki.freebsd.org/WiFi/Iwlwifi#I_have_an_iwm.284.29_supported_device.
This driver is still not perfect, it is not loaded automatically under FreeBSD 14 (you can use the command # sysctl net.wlan.devices to see if it is loaded, if it does not show iwlwifi0 it is not loaded), you need to load it manually every time. Write the following section to /etc/rc.conf.
kld_list="if_iwlwifi"
wlans_iwlwifi0="wlan0"
wlandebug_wlan0="+state +crypto +node +auth +assoc +dot1xsm +wpa"
ifconfig_wlan0="WPA SYNCDHCP"
Create /etc/wpa_supplicant.conf.
network={ ssid="WIFI name (SSID)" psk="WIFI password"
}
Load the driver first to see.
# kldload if_iwlwifi Note: The following part must be executed once per boot in order to network. Create and link.
# ifconfig wlan0 create wlandev iwlwifi0
# /etc/rc.d/netif start wlan0
Troubleshooting: https://wiki.freebsd.org/WiFi/Iwlwifi`}]},{path:"/chapter-14.-network-management/14.3-usb-rndis.html",title:"14.3 USB RNDIS (USB Network Sharing)",pathLocale:"/",contents:[{header:"14.3 USB RNDIS (USB Network Sharing)",slug:"_14-3-usb-rndis-usb-network-sharing",content:`This tutorial was tested on a Xiaomi phone and theoretically supports both Android and iOS.
First load the kernel module.
# kldload if_urndis # Android Android # kldload if_ipheth #Apple iOS
# kldload if_cdce # other devices
Boot time boot load, write to: /boot/loader.conf.
if_urndis_load="YES"
if_cdce_load="YES"
if_ipheth_load="YES"`}]},{path:"/chapter-14.-network-management/14.4-bluetooth.html",title:"14.4 Bluetooth",pathLocale:"/",contents:[{header:"14.4 Bluetooth",slug:"_14-4-bluetooth",content:""}]},{path:"/chapter-14.-network-management/14.5-ipv6.html",title:"14.5 IPv6",pathLocale:"/",contents:[{header:"14.5 IPv6",slug:"_14-5-ipv6",content:""}]},{path:"/chapter-14.-network-management/14.6-carp.html",title:"14.6 CARP",pathLocale:"/",contents:[{header:"14.6 CARP",slug:"_14-6-carp",content:""}]},{path:"/chapter-14.-network-management/14.7-vlan.html",title:"14.7 VLAN",pathLocale:"/",contents:[{header:"14.7 VLAN",slug:"_14-7-vlan",content:""}]},{path:"/chapter-14.-network-management/14.8-tcp-bbr.html",title:"14.8 TCP BBR",pathLocale:"/",contents:[{header:"14.8 TCP BBR",slug:"_14-8-tcp-bbr",content:"TCP BBR is a congestion control algorithm developed by Google. The effect is twofold. Make full use of bandwidth on network links that have a certain packet loss rate. Reduces buffer occupancy on a network link, thus reducing latency. In general, if you use proxy software, it is recommended to turn on the TCP BBR feature, which will have a very significant effect in terms of speed and stability. This project is in FreeBSD and was developed with the help of the Netflix team. Minimum system version support: r363032, which means that FreeBSD 13.0 is recommended."},{header:"Modify the kernel configuration",slug:"modify-the-kernel-configuration",content:`# cd /usr/src/sys/amd64/conf
If you did not choose to install the kernel source code when installing FreeBSD, we recommend reading the later section.
# cp GENERIC GENERIC-bbr
# ee GENERIC-bbr
Adjust the configuration by changing the value of ident to GENERIC-bbr and adding the following items under the ident entry.
options TCPHPTS
options RATELIMIT
makeoptions WITH_EXTRA_TCP_STACKS=1
Create a new /etc/src.conf with the following content:
KERNCONF=GENERIC-bbr
MALLOC_PRODUCTION=yes`},{header:"Compile and install the kernel",slug:"compile-and-install-the-kernel",content:`# /usr/sbin/config GENERIC-bbr
# cd ... /compile/GENERIC-bbr
# make cleandepend && make depend
# make -jN+1
where N is suggested to be the CPU core count.
# make install
Install the kernel, and reboot to use the new kernel when finished.
# uname -a
If GENERIC-bbr is displayed, the TCP BBR kernel is compiled and installed successfully.`},{header:"Configure and load the BBR module",slug:"configure-and-load-the-bbr-module",content:`# sysrc kld_list+="tcp_rack tcp_bbr"
Load the BBR module at boot time.
# echo 'net.inet.tcp.functions_default=bbr' >> /etc/sysctl.conf
Set the default to use BBR and reboot.
# sysctl net.inet.tcp.functions_default
If the result is net.inet.tcp.functions_default: bbr, then TCP BBR is enabled successfully.
Note: For troubleshooting and other matters, please refer to.
https://github.com/netflix/tcplog_dumper`}]},{path:"/chapter-15.-freebsd-firewall/15.1-network-parameters-configuration-commands.html",title:"15.1 network parameter configuration commands",pathLocale:"/",contents:[{header:"15.1 network parameter configuration commands",slug:"_15-1-network-parameter-configuration-commands",content:""},{header:"System Setup Utility bsdconfig",slug:"system-setup-utility-bsdconfig",content:"# bsdconfig is a system configuration utility provided by FreeBSD as a shell interface."},{header:"secure manipulation of rc files",slug:"secure-manipulation-of-rc-files",content:"# sysrc is a FreeBSD-supplied rc file utility that replaces manual editing of rc.conf."},{header:"as a gateway server",slug:"as-a-gateway-server",content:`Turn on IP forwarding for.
# sysrc gateway_enable="YES"
# sysrc ipv6_gateway_enable="YES"
Open the firewall and enable NAT.
# sysrc firewall_enable="YES"
# sysrc firewall_script="/etc/ipfw.rules"
# sysrc firewall_nat_enable="YES"
Set default connection acceptance: # ee /boot/loader.conf
net.inet.ip.fw.default_to_accept=1`},{header:"Manually set resolv.conf",slug:"manually-set-resolv-conf",content:`After manually editing resolv.conf, rebooting the system will reset it again because DHCP will rewrite this file.
To prevent the resolvconf service from overwriting resolv.conf: \`\`# ee /etc/resolvconf.conf\`
resolv_conf="/dev/null"
Edit resolv.conf again and you're done.`},{header:"View NIC rate",slug:"view-nic-rate",content:`Refresh every 1 second.
# systat -if 1`}]},{path:"/chapter-15.-freebsd-firewall/15.2-pf.html",title:"15.2 PF",pathLocale:"/",contents:[{header:"15.2 PF",slug:"_15-2-pf",content:`The OpenBSD Packet Filter (PF) is a firewall ported from OpenBSD that provides a number of features, including ALTQ (Alternate Queuing).
To enable it, execute the following command in the terminal.
# cp /usr/share/examples/pf/pf.conf /etc #Copy the example file as the default configuration ruleset file, otherwise pf will not start # service pf enable # Set pf to boot, or set pf_enable via bsdconfig # service pf start # start pf The administrative command for pf is pfctl, and examples of common operations are as follows.
# pfctl -e # start pf, equivalent to service pf start # pfctl -d # stop pf, equivalent to server pf stop # pfctl -f /etc/pf.conf #Load rules from the ruleset file # pfctl -nf /etc/pf.conf # Parse the rules, but do not load them. The -f parameter can also be used with other parameters, such as -N to load only NAT rules, -R to load only filter rules, -A to load only queue rules, -O to load only option rules # pfctl -s all # View information about all objects in pf. If you want to view information about specific objects, you can use nat, queue, rules, Anchors, states, Sources, info, Running, labels, timeouts, memory, Tables, osfp, and Interfaces replace all # pfctl -F all # Clean up all rules in pf
If you want to see specific rules, you can replace all with nat, queue, rules, states, Sources, info, Tables, osfp.
However, the above operation does not manage the rules, so you also need to modify the ruleset file, commonly used examples are as follows.
# scrub in all # collate all incoming data block all # Deny all access. ipfilter # is the default explicitly forbidden firewall, so all access needs to be blocked by this rule. where block is the action, out means deny, and pass means pass; all is shorthand for from any to any, which means from the source address to the destination address, which is usually a network segment (e.g. 192.168.1.0/24) or an IP address (e.g. 192.168.1.100), and any is a special word that means any address; in addition, when the rule applies to both can be omitted when the rule applies to both input in and output out, so this rule applies to both input and output pass quick on lo0 all # Release access to the loopback interface, which is not external. quick keyword means that if the rule matches, execution will stop and no subsequent rules will be executed pass in quick proto tcp from any to 192.168.1.184 port 80 # Add a rule for TCP protocol access to port 80, allowing any device to access port 80 on the local machine with TCP protocol. where proto tcp is the access protocol, commonly used values are tcp, udp, icmp, icmp6; port = 80 is the port, written after the destination address for the target port, the source address is not written, that is, from the source address of any port to initiate access pass out quick proto tcp from 192.168.1.184 port 80 to any # allow to show back information to any device that accesses rdr pass on em0 inet proto tcp from any to 192.168.1.184 port 80 -> 192.168.1.166 port 8080 # add port 80 to port 8080 traffic forwarding rules, as the test machine only one NIC, so the forwarding is limited to this machine pass quick inet proto icmp all icmp-type 8 code 0 # Allow this machine to ping with external devices, where icmp-type 8 is a query request and code means the return code is 0 pass out quick inet proto icmp from 192.168.1.184 to any icmp-type 11 code 0 #Allows traceroute commands to be executed with ICMP protocol pass out quick proto udp from 192.168.1.184 to any port 33434 << 34500 #traceroute default protocol UDP, port number from 33434, add 1 for each forwarding port number The following ruleset file /etc/pf.conf is organized according to my OS as follows.
#traffic shaping scrub in all #forwarding rules rdr pass on em0 inet proto tcp from any to 192.168.1.184 port 8080 -> 192.168.1.184 port 80 # Note the order of the rules, according to pf.conf rules, forwarding rules should be located before the filtering rules, please refer to the relevant content of the help # filtering rules block all pass quick on lo0 all # Set any device to access ports 22, 80, 443, 4200, 10000 of the server pass in quick proto tcp from any to 192.168.1.184 port { 22,80,443,4200,10000 } pass out quick proto tcp from 192.168.1.184 port { 22,80,443,4200,10000 } to any pass out quick proto tcp from 192.168.1.184 to any port { 80,443 } keep state # Set the server to access port 80, 443 of any network device pass out quick proto udp from any to any port 53 keep state # Set up access to DNS servers pass out quick proto udp from any to any port 67 keep state #Set up access to DHCP servers pass quick inet proto icmp all icmp-type 8 code 0 pass out quick inet proto icmp from 192.168.1.184 to any icmp-type 11 code 0 pass out quick proto udp from 192.168.1.184 to any port 33434 << 34500 Save the file, then execute the command in the terminal. # pfctl -Fa -f /etc/pf.conf # Load the rules from the ruleset file and you will see the result.`}]},{path:"/chapter-15.-freebsd-firewall/15.3-ipfw.html",title:"15.3 IPFW",pathLocale:"/",contents:[{header:"15.3 IPFW",slug:"_15-3-ipfw",content:""},{header:"Introduction Description.",slug:"introduction-description",content:`IPFIREWALL (IPFW) is a firewall application initiated by FreeBSD and written and maintained by volunteer members of the FreeBSD community.
In FreeBSD 12, ipfw has been compiled into the kernel by default, and it will have a rule by default, rule number 65536, which cannot be removed. This rule will cut off all traffic, so do not start ipfw at random before it has been configured, or you will face the problem of not being able to connect to remote FreeBSD. Graphical configuration tool:
#pkg install fwbuilder`},{header:"configuration ipfw\uFF1A",slug:"configuration-ipfw",content:`run command\uFF1A # sysrc firewall_enable="YES" # Allow the firewall to start on its own
# sysrc firewall_type="open" # Let the system pass the traffic through so that the firewall can be used
# sysrc firewall_script="/etc/ipfw.rules" # Make the path to the ipfw rules, we will edit the rules here later
# sysrc firewall_logging="YES" # so that ipfw can play logging
# sysrc firewall_logif="YES" # Log to the \`ipfw0\` device edit /etc/ipfw.rules \uFF1A # ee /etc/ipfw.rules IPF="ipfw -q add"
ipfw -q -f flush # loopback $IPF 10 allow all from any to any via lo0
$IPF 20 deny all from any to 127.0.0.0/8
$IPF 30 deny all from 127.0.0.0/8 to any
$IPF 40 deny tcp from any to any frag # statefull
$IPF 50 check-state
$IPF 60 allow tcp from any to any established
$IPF 70 allow all from any to any out keep-state
$IPF 80 allow icmp from any to any # open port for ssh
$IPF 110 allow tcp from any to any 22 out
$IPF 120 allow tcp from any to any 22 in # open port for samba
$IPF 130 allow tcp from any to any 139 out
$IPF 140 allow tcp from any to any 139 in
$IPF 150 allow tcp from any to any 445 out
$IPF 160 allow tcp from any to any 445 in
$IPF 170 allow udp from any to any 137 out
$IPF 180 allow udp from any to any 137 in
$IPF 190 allow udp from any to any 138 out
$IPF 200 allow udp from any to any 138 in # deny and log everything $IPF 500 deny log all from any to any
Additional notes: samba open tcp/139,445 ports, udp/137,138 ports start ipfw. # service ipfw start Firewall rules loaded.
Firewall logging enabled.
ifconfig: interface ipfw0 already exists
Firewall logging pseudo-interface (ipfw0) created. View ipfw status: # service ipfw status ipfw is enabled View ipfw rule entries: # ipfw list 00010 allow ip from any to any via lo0
00020 deny ip from any to 127.0.0.0/8
00030 deny ip from 127.0.0.0/8 to any
00040 deny tcp from any to any frag
00050 check-state :default
00060 allow tcp from any to any established
00070 allow ip from any to any out keep-state :default
00080 allow icmp from any to any
00110 allow tcp from any to any 22 out
00120 allow tcp from any to any 22 in
00500 deny log ip from any to any
65535 deny ip from any to any`}]},{path:"/chapter-15.-freebsd-firewall/15.4-ipfilter-ipf.html",title:"15.4 IPFILTER (IPF)",pathLocale:"/",contents:[{header:"15.4 IPFILTER (IPF)",slug:"_15-4-ipfilter-ipf",content:`IPF is an open source software by Darren Reed.
If you want to enable ipf, you can execute the following command.
# ipfilter # cp /usr/share/examples/ipfilter/ipf.conf.sample /etc/ipf.rules # Copy the example file as the default configuration ruleset file, otherwise ipfilter will start without rules. The rules that come with the sample file do not affect use # service ipfilter enable # Set ipfilter to boot, or set ipfilter_enable via bsdconfig # service ipfilter start # Start ipfilter #ipnat sudo cp /usr/share/examples/ipfilter/ipnat.conf.sample /etc/ipnat.rules # Copy the example file as the default configuration ruleset file, otherwise ipnat will not start # service ipnat enable # Set ipnat to boot, or you can set ipnat_enable via bsdconfig # service ipnat start # Start ipnat.
Note that after the ipfilter service is restarted, ipnat needs to be restarted as well.
The main management commands for ipf are ipf, ipfstat, and ipnat, and examples of common operations are as follows.
# ipf -E #Start ipfilter, equivalent to service ipfilter start # ipf -D #Stop ipfilter, equivalent to server ipfilter stop # ipf -f /etc/ipf.rules # Load rules from the ruleset file ipfstat # View all rules # ipfstat -iohn #View rules, i for input rules, o for output rules, h for traffic passing through the rule, n for record number # ipfstat -t #Enter monitoring mode, press Q to exit # ipf -Fa #Clean up loaded rules # ipnat -f /etc/ipnat.rules #Load nat rules from the ruleset file # ipnat -s #Summarize and display nat status ipnat -lh #List nat rules, add h to show also traffic passing through the rule # ipnat -CF #Clean loaded nat rules However, the above operation does not manage the rules, so you also need to modify the ruleset file, commonly used examples are as follows: block all # # Deny all access. ipfilter is a firewall that explicitly forbids by default, so you need to block all access by the following rules block in all #block is the action block means deny, pass means pass; in is the data direction, in is in, out is out, data direction is required in ipfilter; all is shorthand for from any to any, which means from the source address to the destination address, the address is usually a network segment (such as 192.168.1.0/24) or IP address (such as 192.168. 1.100), any is a special word that means any address block out all # Release access to the loopback interface, the loopback interface is not external pass in quick on lo0 all #quick keyword indicates that if the rule matches, it will stop execution and will not execute subsequent rules pass out quick on lo0 all #Add rules for TCP protocol access to port 80 pass in quick proto tcp from any to 192.168.1.184 port = 80 #Allows any device to access port 80 on the local machine by TCP protocol. where proto tcp is the access protocol, commonly used values are tcp, udp, tcp/udp, icmp, not written means that all protocols are supported; port = 80 is the port, written after the target address for the target port, the source address is not written, that is, from the source address of any port to initiate access pass out quick proto tcp from 192.168.1.184 to any # allow the display of information back to any access device # add port 80 to 8080 port traffic forwarding rules pass in quick proto tcp from any to 192.168.1.184 port = 80 # first release ipfilter access restrictions rdr em0 192.168.1.184 port 80 -> 192.168.1.184 port 8080 # since the test machine has only one network card, so forwarding is limited to this machine pass out quick proto icmp from 192.168.1.184 to any icmp-type 8 keep state # Allow this machine to ping any external device. Where ICMP type 8 is a query request; keep state means maintain state. If combined with the following example, the pinging function will be completely released pass in quick proto icmp from any to 192.168.1.184 icmp-type 8 keep state # Allow any external device to ping this machine pass out quick proto icmp from 192.168.1.184 to any icmp-type 0 #allow traceroute commands to be executed with ICMP protocol pass out quick proto udp from 192.168.1.184 to any port 33434 << 34500 keep state #traceroute default protocol UDP, port number from 33434, add 1 for each forwarding port number The following ruleset file, /etc/ipf.rules, is based on my operating system.
block in all block out all pass in quick on lo0 all pass out quick on lo0 all # Set any device to access ports 22, 80, 443, 4200, 10000 of the server pass in quick proto tcp from any to 192.168.1.184 port = { 22,80,443,4200,10000 } pass out quick proto tcp from 192.168.1.184 port = { 22,80,443,4200,10000 } to any pass out quick proto tcp from 192.168.1.184 to any port = { 80,443 } keep state # Set the server to access port 80, 443 of any network device pass out quick proto udp from any to any port = 53 keep state # Set up access to DNS servers pass out quick proto udp from any to any port = 67 keep state #Set up access to DHCP servers pass out quick proto icmp from 192.168.1.184 to any icmp-type 8 keep state pass in quick proto icmp from any to 192.168.1.184 icmp-type 8 keep state pass out quick proto icmp from 192.168.1.184 to any icmp-type 0 pass out quick proto udp from 192.168.1.184 to any port 33434 << 34500 keep state pass in quick proto tcp from any to 192.168.1.184 port = 8080 # Release the corresponding port before data forwarding Then organize the NAT ruleset file /etc/ipnat.rules as follows.
# rdr em0 192.168.1.184 port 8080 -> 192.168.1.184 port 80 # Set the local 8080 to port 80 mapping Save the file and next execute the command in the terminal.
# ipf -Fa -f /etc/ipf.rules # Load the rules from the ruleset file # ipnat -CF -f /etc/ipnat.rules # Load the nat rules from the ruleset file and you will see the results.`}]},{path:"/chapter-16.-servers/16.1-ftp-server.html",title:"16.1 FTP server",pathLocale:"/",contents:[{header:"16.1 FTP server",slug:"_16-1-ftp-server",content:"FTP means File Transfer Protocol. Use FTP service to build a server to transfer files quickly."},{header:"pure-ftpd (with MySQL support as an example)",slug:"pure-ftpd-with-mysql-support-as-an-example",content:`Support for RFC 2640 has been removed, so i18n FTP files name under Windows are garbled, visit https://www.pureftpd.org/project/pure-ftpd/news/ Unable to fix, also not recommended to change the system encoding of Windows to UTF8, which will cause more garbled code, such as zip files.
Note: This example uses mysql 5.x as an example.`},{header:"Installation",slug:"installation",content:`Since the pkg package does not come with database support, you need to install the software via ports:
# /usr/ports/ftp/pure-ftpd
# make config-recursive
Check mysql and leave the rest of the options as default and enter. # make install clean Note: For basic mysql setup visit Chapter 17
Please install mysql yourself, it is theoretically compatible with mysql 5.x, 8.x`},{header:"Configure /usr/local/etc/pure-ftpd.conf file",slug:"configure-usr-local-etc-pure-ftpd-conf-file",content:""},{header:"Generate configuration file.",slug:"generate-configuration-file",content:`# cp /usr/local/etc/pure-ftpd.conf.sample /usr/local/etc/pure-ftpd.conf
# cp /usr/local/etc/pureftpd-mysql.conf.sample /usr/local/etc/pureftpd-mysql.conf`},{header:"Edit the configuration file and add mysql support to.",slug:"edit-the-configuration-file-and-add-mysql-support-to",content:`#Compatible with non-regularized ftp clients like ie BrokenClientsCompatibility yes # Passive connection response port range.
PassivePortRange 30000 50000 # The smallest group ID (UID) that authenticated users are allowed to log in to.
MinUID 2000 # Allow only authenticated users for FXP transfers.
AllowUserFXP yes # User home directory is created automatically if it does not exist.
CreateHomeDir yes # MySQL configuration file (see README.MySQL) MySQLConfigFile /usr/local/etc/pureftpd-mysql.conf`},{header:"Configure mysql",slug:"configure-mysql",content:""},{header:"Create database",slug:"create-database",content:"create database pureftp;\nuse pureftp;\nDROP TABLE IF EXISTS `users`;\nCREATE TABLE `users` ( `User` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL, `Password` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL, `Uid` int(11) NOT NULL DEFAULT -1 COMMENT '\u7528\u6237ID', `Gid` int(11) NOT NULL DEFAULT -1 COMMENT '\u7528\u6237\u7EC4ID', `Dir` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_bin NOT NULL, `quotafiles` int(255) NULL DEFAULT 500, `quotasize` int(255) NULL DEFAULT 30, `ulbandwidth` int(255) NULL DEFAULT 80, `dlbandwidth` int(255) NULL DEFAULT 80, `ipaddress` varchar(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT'*', `comment` int(255) NULL DEFAULT NULL, `status` tinyint(4) NULL DEFAULT 1, `ulratio` int(255) NULL DEFAULT 1, `dlratio` int(255) NULL DEFAULT 1, PRIMARY KEY (`User`) USING BTREE\n) ENGINE = InnoDB CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = Dynamic;\nINSERT INTO `users` VALUES ('demo', 'demo&2022*', 2002, 2000, '/home/www/demo', 500, 30, 80, 80, '*', NULL, NULL, 1, 1);"},{header:"Create login database user and set password",slug:"create-login-database-user-and-set-password",content:'grant select,insert,update,delete on pureftp.* to pftp@localhost identified by "Ab123456&";'},{header:"Configure /usr/local/etc/pureftpd-mysql.conf",slug:"configure-usr-local-etc-pureftpd-mysql-conf",content:`##############################################
# #
# Sample Pure-FTPd Mysql configuration file. #
# See README.MySQL for explanations. #
# #
############################################## # Optional : MySQL server name or IP. Don't define this for unix sockets. # MYSQLServer 127.0.0.1
MYSQLServer localhost # Optional : MySQL port. Don't define this if a local unix socket is used. MYSQLPort 3306 # Optional : define the location of mysql.sock if the server runs on this host. MYSQLSocket /var/run/mysqld/mysqld.sock # Mandatory : user to bind the server as. MYSQLUser pftp # Mandatory : user password. You must have a password. MYSQLPassword Ab123456& # Mandatory : database to open. MYSQLDatabase pureftpd # Mandatory : how passwords are stored
# Valid values are : "cleartext", "argon2", "scrypt", "crypt", "sha1", "md5",password" and "any" # ("password" = MySQL password() function, which is sha1(sha1(password))) #MYSQLCrypt scrypt
MYSQLCrypt cleartext # In the following directives, parts of the strings are replaced at
# run-time before performing queries :
#
# \\L is replaced by the login of the user trying to authenticate.
# \\I is replaced by the IP address the user connected to.
# \\P is replaced by the port number the user connected to.
# \\R is replaced by the IP address the user connected from.
# \\D is replaced by the remote IP address, as a long decimal number.
#
# Very complex queries can be performed using these substitution strings,
# especially for virtual hosting. # Query to execute in order to fetch the password MYSQLGetPW SELECT Password FROM users WHERE User='\\L' # Query to execute in order to fetch the system user name or uid
MYSQLGetUID SELECT Uid FROM users WHERE User='\\L' # Optional : default UID - if set this overrides MYSQLGetUID MYSQLDefaultUID 2000 # Query to execute in order to fetch the system user group or gid MYSQLGetGID SELECT Gid FROM users WHERE User='\\L' # Optional : default GID - if set this overrides MYSQLGetGID MYSQLDefaultGID 2000 # Query to execute in order to fetch the home directory MYSQLGetDir SELECT Dir FROM users WHERE User='\\L' # Optional : query to get the maximal number of files
# Pure-FTPd must have been compiled with virtual quotas support. # MySQLGetQTAFS SELECT QuotaFiles FROM users WHERE User='\\L' # Optional : query to get the maximal disk usage (virtual quotas)
# The number should be in Megabytes.
# Pure-FTPd must have been compiled with virtual quotas support. # MySQLGetQTASZ SELECT QuotaSize FROM users WHERE User='\\L' # Optional : ratios. The server has to be compiled with ratio support. # MySQLGetRatioUL SELECT ULRatio FROM users WHERE User='\\L'
# MySQLGetRatioDL SELECT DLRatio FROM users WHERE User='\\L' # Optional : bandwidth throttling.
# The server has to be compiled with throttling support.
# Values are in KB/s . # MySQLGetBandwidthUL SELECT ULBandwidth FROM users WHERE User='\\L'
# MySQLGetBandwidthDL SELECT DLBandwidth FROM users WHERE User='\\L' # Enable ~ expansion. NEVER ENABLE THIS BLINDLY UNLESS :
# 1) You know what you are doing.
# 2) Real and virtual users match. # MySQLForceTildeExpansion 1 # If you're using a transactionnal storage engine, you can enable SQL
# transactions to avoid races. Leave this commented if you are using the
# traditional MyIsam engine. # MySQLTransactions On`},{header:"Add ftp group and user",slug:"add-ftp-group-and-user",content:`# pw groupadd ftpgroup -g 2000
# pw useradd ftpuser -u 2001 -g 2000
or
# pw useradd ftpuser -u 2001 -g 2000 -s /sbin/nologin -w no -d /home/vftp -c "VirtualUser Pure-FTPd" -m`},{header:"Configuring FTP directories",slug:"configuring-ftp-directories",content:`# mkdir /home/www/pureftp
# chown -R ftpuser /home/www/
# chgrp -R ftpgroup /home/www/`},{header:"Service Operations",slug:"service-operations",content:`# sysrc pureftpd_enable="YES"
# service pure-ftpd start #Start the server
# service pure-ftpd stop #stop the server
# service pure-ftpd restart #restart the server`},{header:"proftpd (with mysql support as an example)",slug:"proftpd-with-mysql-support-as-an-example",content:""},{header:"Install proftpd (with mysql support as an example)",slug:"install-proftpd-with-mysql-support-as-an-example",content:"# pkg install proftpd proftpd-mod_sql_mysql"},{header:"edit /usr/local/etc/proftpd.conf",slug:"edit-usr-local-etc-proftpd-conf",content:`# cat /usr/local/etc/proftpd.conf
ServerName "Test Ftp Server"
ServerType standalone
DefaultServer on
ServerIdent on "FTP Server ready"
DeferWelcome off
Port 21
Umask 022
TimeoutLogin 300
TimeoutIdle 36000
TimeoutNoTransfer 36000
TimeoutStalled 36000
TimeoutSession 0
User proftpd
Group proftpd
MaxInstances 100
MaxClientsPerHost 100
AllowRetrieveRestart on
AllowStoreRestart on
AllowOverwrite on
AllowOverride off
RootLogin off
IdentLookups off
UseReverseDNS off
DenyFilter \\*.*/
TimesGMT off
DefaultRoot ~
#RLimitCPU 1200 1200
RLimitMemory 256M 256M
RLimitOpenFiles 1024 1024
PassivePorts 50000 60000
LogFormat default "%h %l %u %t \\"%r\\" %s %b"
LogFormat auth "%v [%P] %h %t \\"%r\\" %s"
LogFormat write "%h %l %u %t \\"%r\\" %s %b"
SystemLog /var/log/proftpd/proftpd.log
TransferLog /var/log/proftpd/xfer.log
ExtendedLog /var/log/proftpd/access.log WRITE,READ write
ExtendedLog /var/log/proftpd/auth.log AUTH auth
LoadModule mod_sql.c
LoadModule mod_sql_mysql.c
<Global> SQLConnectInfo proftpd@localhost proftpd proftpd_password SQLAuthTypes Crypt SQLUserInfo users username password uid gid homedir NULL SQLDefaultGID 2000 SQLDefaultUID 2000 RequireValidShell off SQLAuthenticate users* SQLLogFile /var/log/proftpd.log SQLNamedQuery getcount SELECT "count, username from users where username='%u'" SQLNamedQuery updatecount UPDATE "count=count+1 WHERE username='%u'" users SQLShowInfo PASS "230" "You've logged on %{getcount} times, %u" SQLLog PASS updatecount SQLLog DELE,RETR,STOR, log_work SQLNamedQuery log_work FREEFORM "\\ INSERT INTO worklog (\\ user_name,\\ file_and_path,\\ bytes,\\ send_time,\\ client_ip,\\ client_name,\\ client_command) \\ VALUES('%u','%f','%b','%T','%a','%h','%m')"
</Global>
We specify in the settings that the server will work on port 21 in active mode and in the range of 50000-60000 in passive mode. These ports should be open in the firewall. For PF, this is done by the following rules.
pass in quick on $ext_if proto tcp from any to $ext_if port { 21, 50000:60000 }`},{header:"Create User",slug:"create-user",content:`For security purposes, we will run Proftpd as a non-root user. Therefore, we will create this user.
# adduser
Username: proftpd
Full name: FTP User
Uid (Leave empty for default):
Login group [proftpd]:
Login group is proftpd. Invite proftpd into other groups? []:
Login class [default]:
Shell (sh csh tcsh bash nologin) [sh]: nologin
Home directory [/home/proftpd]:
Home directory permissions (Leave empty for default):
Use password-based authentication? [yes]: no
Lock out the account after creation? [no]:
Username : proftpd
Password : <disabled>
Full Name : FTP User
Uid : 2000
Class :
Groups : proftpd
Home : /home/proftpd
Shell : /usr/sbin/nologin
Locked : no
OK? (yes/no): yes
adduser: INFO: Successfully added (proftpd) to the user database.
Add another user? (yes/no): no
Goodbye!
Now you have created your own proftpd user and group ID. So you will use it when adding ftp users. You can determine the UID in the following way.
# cat /etc/passwd | grep proftpd
proftpd:*:2000:2000:FTP User:/home/proftpd:/usr/sbin/nologin`},{header:"Logging related",slug:"logging-related",content:"Create a directory to store the FTP server's logs in.\n# mkdir /var/log/proftpd\nCreate a MySQL database and a user with full access rights to the created database:\nCREATE DATABASE `proftpd` CHARACTER SET utf8 COLLATE utf8_general_ci;\nCreate the database user and password (to authorize the proftpd database).\ngrant select,insert,update,delete on proftpd.* to pftp@localhost identified by \"123456\";\nFLUSH PRIVILEGES; #Effective immediately permission\nor\ngrant select,insert,update,delete on *.* to pftp@\"localhost\" Identified by \"123456\";\nVolume of data created.\nDROP TABLE IF EXISTS users;\nCREATE TABLE `users` ( `username` varchar(30) NOT NULL DEFAULT '', `descr` text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NOT NULL, `password` varchar(30) NOT NULL DEFAULT '', `uid` int(11) DEFAULT NULL, `gid` int(11) DEFAULT NULL, `homedir` varchar(255) DEFAULT NULL, `shell` varchar(255) DEFAULT NULL, `count` int(11) NOT NULL DEFAULT '0', UNIQUE KEY `username` (`username`)\n) ENGINE=MyISAM DEFAULT CHARSET=utf8mb4;\nDROP TABLE IF EXISTS worklog;\nCREATE TABLE worklog ( id bigint(20) UNSIGNED NOT NULL AUTO_INCREMENT, date timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0), user_name varchar(20) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, file_and_path varchar(1024) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL, bytes bigint(20) NULL DEFAULT NULL, send_time varchar(9) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, client_ip varchar(15) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, client_name text CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL, client_command varchar(5) CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci NULL DEFAULT NULL, PRIMARY KEY (id) USING BTREE, UNIQUE INDEX id(id) USING BTREE\n) ENGINE = MyISAM CHARACTER SET = utf8mb4 COLLATE = utf8mb4_general_ci ROW_FORMAT = DYNAMIC;\nCreate a directory and a test FTP user, designating the created directory as the user directory:.\n# mkdir -p /home/www/ftp\n# chown -R proftpd:proftpd /home/www/ftp\n# mysql -u proftpd -p\nINSERT INTO `proftpd`.`users` (`username` , `descr` , `password` , `uid` , `gid` ,`homedir` , `shell` , `count` ) VALUES ('test', 'Test user', ENCRYPT('FTPpassword_here' ) , '2000', '2000', '/home/www/ftp', NULL , '0' ); Query OK, 1 row affected, 1 warning (0.02 sec)"},{header:"Service Operation",slug:"service-operation",content:'# sysrc proftpd_enable="YES" # service proftpd start #Start the server # service proftpd stop #Stop the server # service proftpd restart #Restart the server'},{header:"Connecting to an FTP server",slug:"connecting-to-an-ftp-server",content:`Simple example:
# telnet localhost 21
Trying 127.0.0.1...
Connected to localhost.
Escape character is '^]'.
220 FTP Server ready
quit
221 Goodbye.
Use the ftp command to quickly connect to an FTP server.
Usage:
ftp [option] [URL]
Options.
-4 Force a connection using the IPv4 protocol
-6 Force connection using IPv6 protocol
-a Use anonymous login
-q [quittime] Automatically drop the connection if it fails after a set time
-r [wait] Send connection requests every wait seconds
-A force active mode
-d Enable debug mode
-v Enable verbose mode
-V turn off verbose mode`},{header:"Login with the following command.",slug:"login-with-the-following-command",content:"account [passwd] submit additional password append [locol-file] [remote-file] Upload local file to server with remote-file as filename local-file ascii Set the FTP file transfer type to ASCII mode. bell Beep after the file is transferred bye End the session with the server cd switch directories cdup Return to the parent directory delete Delete the file dir Shows the files and folders in this directory features Show the features supported by the server get remote-fil Download the remote-file on the server"}]},{path:"/chapter-16.-servers/16.10-webmin.html",title:"16.10 Webmin",pathLocale:"/",contents:[{header:"16.10 Webmin",slug:"_16-10-webmin",content:`# pkg install webmin # install webmin
# /usr/local/lib/webmin/setup.sh # Start webmin installation wizard, SSL needs to be configured to be on.
# sysrc webmin_enable="YES"
# service webmin start
Next, open your browser and type https://Ip:10000, such as https://192.168.123.157:10000
If the browser says it is not safe, select "Continue" and the Webmin login screen will appear.
This is the administration console. Enter admin and password in the text box, and click Sign In to log in to the console. Setting i18n
Webmin -> Change Language and Theme, in the Webmin UI language field of Change Language and Theme, first select Personal choice and then select Simplified Chinese(ZH_CN.UTF8 ) Click the Make Changes button, then click the menu ->Dashboard and the console will be refreshed to Chinese.`}]},{path:"/chapter-16.-servers/16.11-rsync-synchronization-service.html",title:"16.11 rsync synchronization service",pathLocale:"/",contents:[{header:"16.11 rsync synchronization service",slug:"_16-11-rsync-synchronization-service",content:""},{header:"Environment introduction",slug:"environment-introduction",content:`Server A, Server B both FreeBSD-12.2-RELEASE-amd64
Server A (initiator): 192.168.100.10/24
Server B (synchronization source): 192.168.100.20/24
Requirements : To synchronize data from Server B to Server A`},{header:"Server B (sync source) configuration",slug:"server-b-sync-source-configuration",content:""},{header:"Install rsync package",slug:"install-rsync-package",content:"## pkg install -y rsync"},{header:"Query for information on installed rsync packages",slug:"query-for-information-on-installed-rsync-packages",content:"# pkg info | grep rsync rsync-3.2.3"},{header:"Create a new test folder to be backed up and set its owner to root and create a new test file inside it",slug:"create-a-new-test-folder-to-be-backed-up-and-set-its-owner-to-root-and-create-a-new-test-file-inside-it",content:`# mkdir test
# chown root /home/test/
# touch txt001 /home/test/`},{header:"Edit the rsyncd.conf file",slug:"edit-the-rsyncd-conf-file",content:`# ee /usr/local/etc/rsync/rsyncd.conf uid = root // user of the server OS
gid = wheel // group of the server OS user
use chroot = yes //banned in the source directory
address = 192.168.100.20 //listening address
port 873 // TCP port for communication, the default is 873
log file = /var/log/rsyncd.log //log file location
pid file = /var/run/rsyncd.pid //file location for archived process IDs
hosts allow = 192.168.100.0/24 //addresses of clients allowed to access [testcom] // name of the shared module, a custom name, not necessarily the same as the sync directory
path = /home/test //name of the synchronized directory, must be the user specified by the uid parameter and the group specified by the gid parameter
comment = testcombackup //module description text read only = yes // whether to be read only
dont compress = *.gz *.tgz *.zip *.z *.Z *.rpm *.deb *.bz2 //the type of file that is no longer compressed when synchronizing auth users = root //authorized accounts
secrets file = /etc/rsyncd_users.db //define the password file for rsync client user authentication`},{header:"Create password file for authorized backup account authentication",slug:"create-password-file-for-authorized-backup-account-authentication",content:"# ee /etc/rsyncd_users.db root:12345678 //format: authorized account username:password"},{header:"Modify data file permissions",slug:"modify-data-file-permissions",content:`# chmod 600 /etc/rsyncd_users.db
rsync's service name is rsyncd, start the rsync service program
# rsync --daemon // start the service # sysnc rsyncd_enable="YES" //set boot-up # /usr/local/etc/rc.d/rsyncd start //start the service`},{header:"View rsync running port number",slug:"view-rsync-running-port-number",content:`# sockstat | grep rsync
root rsync 1185 4 dgram -> /var/run/logpriv
root rsync 1185 5 tcp4 192.168.100.20:873 *:*`},{header:"Firewall release for rsync service",slug:"firewall-release-for-rsync-service",content:`# ee /etc/ipfw.rules IPF="ipfw -q add"
ipfw -q -f flush #loopback $IPF 10 allow all from any to any via lo0
$IPF 20 deny all from any to 127.0.0.0/8
$IPF 30 deny all from 127.0.0.0/8 to any
$IPF 40 deny tcp from any to any frag # statefull
$IPF 50 check-state
$IPF 60 allow tcp from any to any established
$IPF 70 allow all from any to any out keep-state
$IPF 80 allow icmp from any to any # open port for ssh
$IPF 110 allow tcp from any to any 22 out
$IPF 120 allow tcp from any to any 22 in # open port for rsync
$IPF 130 allow tcp from any to any 873 in # deny and log everything $IPF 500 deny log all from any to any`},{header:"Server A (initiator) configuration",slug:"server-a-initiator-configuration",content:""},{header:"Create local folder /home/testBackUp/ and set permissions for it",slug:"create-local-folder-home-testbackup-and-set-permissions-for-it",content:`## mkdir testBackUp
# chown root:root testBackUp`},{header:"The initiator accesses the sync source and downloads the files to the local /home/testBackUp/ download directory, requiring human interaction to manually enter the password",slug:"the-initiator-accesses-the-sync-source-and-downloads-the-files-to-the-local-home-testbackup-download-directory-requiring-human-interaction-to-manually-enter-the-password",content:"# rsync -avz root@192.168.100.20::testcom /home/testBackUp"},{header:"Check sync status",slug:"check-sync-status",content:`# ls -l /home/testBackUp/
total 0
-rw-r--r-- 1 root root 0 Feb 2 22:27 txt001`}]},{path:"/chapter-16.-servers/16.12-time-service.html",title:"Section 12 Time Services",pathLocale:"/",contents:[{header:"Section 12 Time Services",slug:"section-12-time-services",content:`Configuring Time Zones
Synchronize time`},{header:"Selecting the correct time zone",slug:"selecting-the-correct-time-zone",content:""},{header:"Select the correct time zone when installing the operating system",slug:"select-the-correct-time-zone-when-installing-the-operating-system",content:""},{header:"Configure the time zone",slug:"configure-the-time-zone",content:"## cp /usr/share/zoneinfo/Asia/Shanghai /etc/localtime"},{header:"Configure synchronized time",slug:"configure-synchronized-time",content:""},{header:"Set ntp service available",slug:"set-ntp-service-available",content:'# sysrc ntpd_enable="YES"'},{header:"Set the ntp service to start on boot",slug:"set-the-ntp-service-to-start-on-boot",content:'# sysrc ntpd_sync_on_start="YES"'},{header:"Edit the `ntp.conf file",slug:"edit-the-ntp-conf-file",content:`# ee /etc/ntp.conf
Add additional clock servers
server time.windows.com
server 0.cn.pool.ntp.org
server 1.cn.pool.ntp.org
server 2.cn.pool.ntp.org
server 3.cn.pool.ntp.org`},{header:"Set ntp service to start on boot (already set above, optional here)",slug:"set-ntp-service-to-start-on-boot-already-set-above-optional-here",content:`# /etc/rc.d/ntpd enable or
# service ntpd enable`},{header:"Start the ntp service",slug:"start-the-ntp-service",content:`# /etc/rc.d/ntpd start
or
# service ntpd start`},{header:"Restart the ntp service",slug:"restart-the-ntp-service",content:`# /etc/rc.d/ntpd restart
or
# service ntpd restart`},{header:"Show current time",slug:"show-current-time",content:"# date"},{header:"Synchronize time manually (optional)",slug:"synchronize-time-manually-optional",content:"# ntpdate time.windows.com"}]},{path:"/chapter-16.-servers/16.13-wildfly.html",title:"16.13 Wildfly",pathLocale:"/",contents:[{header:"16.13 Wildfly",slug:"_16-13-wildfly",content:""},{header:"Installation",slug:"installation",content:`There are currently several versions of wildfly10, wildfly11, wildfly12, wildfly13, wildfly14, wildfly15, wildfly16, wildfly17, wildfly18, wildfly24, wildfly25, wildfly26, etc. Here is an example of wildfly26.
# pkg install wildfly26`},{header:"configure",slug:"configure",content:`Add the following code to /etc/hosts, where server02 is the local hostname (the host name, set during installation).
127.0.0.1 server02
Some other settings are needed.
# sysrc wildfly26_enable="yes"
# sysrc wildfly26_args="-Djboss.bind.address=0.0.0.0 -Djboss.bind.address.management=0.0.0.0"
# sysrc wildfly26_log_stdout="/dev/null"
# sysrc wildfly26_log_stderr="/dev/null"
Then start the service.
# service wildfly26 start
Open http://127.0.0.1:8080 to check the service status. Optional
You can also use /usr/local/wildfly26/bin/add-user.sh to generate an administrator account.`},{header:"Troubleshooting",slug:"troubleshooting",content:"If the service does not start properly, you can view the error log with /usr/local/wildfly26/standalone/log/server.log."}]},{path:"/chapter-16.-servers/16.2-dhcp-server.html",title:"16.2 DHCP Server",pathLocale:"/",contents:[{header:"16.2 DHCP Server",slug:"_16-2-dhcp-server",content:""}]},{path:"/chapter-16.-servers/16.3-nodejs-related.html",title:"16.3 Nodejs related",pathLocale:"/",contents:[{header:"16.3 Nodejs related",slug:"_16-3-nodejs-related",content:""},{header:"Installation on FreeBSD 13",slug:"installation-on-freebsd-13",content:`nodejs relies on a particular version of /lib/libcrypto.so.111, and this means that if you need to use NodeJS on FreeBSD, you must keep an eye on the version of FreeBSD itself, especially if your pkg configuration uses the latest source.
In general, if you want to install node+yarn on FreeBSD 13.1, do this.
# freebsd-update fetch install # must update the base system first
# pkg install yarn # will automatically install the corresponding version of nodejs
To install npm.
# pkg install npm If you skip the FreeBSD upgrade and install the software directly, then on FreeBSD 13.0 you will encounter the following error.
# pkg install yarn
% node
ld-elf.so.1: /lib/libcrypto.so.111: version OPENSSL_1_1_1e required by /usr/local/bin/node not found`}]},{path:"/chapter-16.-servers/16.4-dns-server.html",title:"16.4 DNS server",pathLocale:"/",contents:[{header:"16.4 DNS server",slug:"_16-4-dns-server",content:""}]},{path:"/chapter-16.-servers/16.5-nis-server.html",title:"16.5 NIS server",pathLocale:"/",contents:[{header:"16.5 NIS server",slug:"_16-5-nis-server",content:""}]},{path:"/chapter-16.-servers/16.6-postfix-server.html",title:"16.6 Postfix server",pathLocale:"/",contents:[{header:"16.6 Postfix server",slug:"_16-6-postfix-server",content:""}]},{path:"/chapter-16.-servers/16.7-samba-server.html",title:"16.7 samba server",pathLocale:"/",contents:[{header:"16.7 samba server",slug:"_16-7-samba-server",content:""},{header:"Set up samba as a standalone server",slug:"set-up-samba-as-a-standalone-server",content:"Environment: freebsd 11"},{header:"Install samba",slug:"install-samba",content:"# pkg install samba413"},{header:"Configuration samba",slug:"configuration-samba",content:`edit /etc/rc.conf # ee /etc/rc.conf Add the following to the end of /etc/rc.conf and save it. nmbd_enable="YES"
winbindd_enable="YES"
samba_enable="YES"
samba_server_enable="YES" Create /usr/local/etc/smb4.conf, add the following and save it #vi /usr/local/etc/smb4.conf [root] comment = root's stuff path = /root public = no browseable = yes writable = yes printable = no create mask = 0755 Create the samba root user. # smbpasswd -a root edit /usr/local/etc # cd /usr/local/etc run # service samba_server start //start
or
# service samba_server restart //restart View samba status. # service samba_server status Access shared folders under windows using 192.168.X.X (actual IP is used, Windows needs to enable SMB 1.0 support first) 192.168.X.X`},{header:"Set Samba as a domain member",slug:"set-samba-as-a-domain-member",content:"Environment: freebsd 12"},{header:"Configure a static IP address",slug:"configure-a-static-ip-address",content:`Use the following command to configure.
bsdconfig`},{header:"Configure hostname",slug:"configure-hostname",content:'# ee /etc/rc.conf hostname="fb"'},{header:"Configure DNS",slug:"configure-dns",content:`# ee /etc/resolv.conf # Generated by resolvconf
search SVROS.COM //Set domain controller domain name
# nameserver 192.168.253.2 nameserver 192.168.253.130 //Set the domain controller IP address
nameserver 223.5.5.5 nameserver 127.0.0.1
options edns0`},{header:"edit /etc/sysctl.conf",slug:"edit-etc-sysctl-conf",content:`# echo "kern.maxfiles=25600" >> /etc/sysctl.conf
# echo "kern.maxfilesperproc=16384" >> /etc/sysctl.conf
# echo "net.inet.tcp.sendspace=65536" >> /etc/sysctl.conf
# echo "net.inet.tcp.recvspace=65536" >> /etc/sysctl.conf`},{header:"create /etc/krb5.conf",slug:"create-etc-krb5-conf",content:"[libdefaults] default_realm = SVROS.COM //\u8BBE\u7F6E\u57DF\u540D dns_lookup_realm = true dns_lookup_kdc = true ticket_lifetime = 24h renew_lifetime = 7d forwardable = yes"},{header:"edit /etc/nsswitch.conf",slug:"edit-etc-nsswitch-conf",content:`# sed -i -e "s/^passwd:.*/passwd: files winbind/" /etc/nsswitch.conf
# sed -i -e "s/^group:.*/group: files winbind/" /etc/nsswitch.conf`},{header:"create /usr/local/etc/smb4.conf",slug:"create-usr-local-etc-smb4-conf",content:`[global] workgroup = SVROS server string = Samba Server Version %v security = ads realm = SVROS.COM domain master = no local master = no preferred master = no socket options = TCP_NODELAY IPTOS_LOWDELAY SO_RCVBUF=131072 SO_SNDBUF=131072 use sendfile = true idmap config * : backend = tdb idmap config * : range = 100000-299999 idmap config SVROS : backend = rid idmap config SVROS : range = 10000-99999 winbind separator = + winbind enum users = yes winbind enum groups = yes winbind use default domain = yes winbind nested groups = yes winbind refresh tickets = yes template homedir = /home/%D/%U template shell = /bin/false client use spnego = yes client ntlmv2 auth = yes encrypt passwords = yes restrict anonymous = 2 log file = /var/log/samba4/log.%m max log size = 50 #============================ Share Definitions ============================== [testshare] comment = Test share path = /samba/testshare read only = no force group = "Domain Users" directory mode = 0770 force directory mode = 0770 create mode = 0660 force create mode = 0660
The last two lines of testshare above actually use permission optimization (optional)
create mode = 0750
force create mode = 0750`},{header:"Add samba to the domain",slug:"add-samba-to-the-domain",content:`net ads join --no-dns-updates -U administrator
net ads testjoin
# Should report "Join is OK"
# On your DC, open the DNS MMC and add an "A" entry for your BSD server so clients can find it`},{header:"Make samba start and set it to boot",slug:"make-samba-start-and-set-it-to-boot",content:`# echo "samba_server_enable=YES" >> /etc/rc.conf
# echo "winbindd_enable=YES" >> /etc/rc.conf
# service samba_server start`},{header:"Tesat Kerberos",slug:"tesat-kerberos",content:`kinit administrator
# Enter domain admin password, it should return to the prompt with no errors klist
# Credentials cache: FILE:/tmp/krb5cc_0
# Principal: administrator@SVROS.COM
#
# Issued Expires Principal
# Dec 6 10:15:39 2021 Feb 4 20:15:39 2021 krbtgt`},{header:"Test Winbind",slug:"test-winbind",content:`wbinfo -u
# Should return domain users wbinfo -g
# Should return domain groups getent passwd
# Should return domain users at the end of the list with 10000+ UIDs getent group
# Should return domain groups at the end of the list with 10000+ GIDs`},{header:"If the wbinfo command shows an error, execute the command",slug:"if-the-wbinfo-command-shows-an-error-execute-the-command",content:"# service samba_server restart"},{header:"Create shared folder",slug:"create-shared-folder",content:`# mkdir -p /samba/testshare
# chown "administrator":"domain users" /samba/testshare
# chmod 0770 /samba/testshare
If only the genus master is allowed to read and write, and the genus group is only allowed to read, use the following command to set
# chmod 0750 /samba/testshare
If only generics are allowed to read and write, and neither generics nor others are allowed to read or write, use the following command to set
# chmod -R 0700 /samba/testshare`}]},{path:"/chapter-16.-servers/16.8-nfs-server.html",title:"16.8 NFS server",pathLocale:"/",contents:[{header:"16.8 NFS server",slug:"_16-8-nfs-server",content:""}]},{path:"/chapter-16.-servers/16.9-iscsi.html",title:"16.9 iSCSI",pathLocale:"/",contents:[{header:"16.9 iSCSI",slug:"_16-9-iscsi",content:""}]},{path:"/chapter-17.-web-server/17.1-apache.html",title:"17.1 Apache",pathLocale:"/",contents:[{header:"17.1 Apache",slug:"_17-1-apache",content:""},{header:"Installing",slug:"installing",content:`# cd /usr/ports/www/apache24/ && make install clean
or
# pkg install apache24`},{header:"Start the service",slug:"start-the-service",content:`# add service bootable
# sysrc apache24_enable=YES # Start the service
# service apache24 start # Check the status
# service apache24 status
By definition, the apache service has been started, so now you can open the URL localhost and take a look.`}]},{path:"/chapter-17.-web-server/17.2-nginx.html",title:"17.2 Nginx",pathLocale:"/",contents:[{header:"17.2 Nginx",slug:"_17-2-nginx",content:""},{header:"Install",slug:"install",content:"pkg: # pkg install nginx or ports: # cd /usr/ports/www/nginx/ && make install clean"},{header:"Find the relevant packages",slug:"find-the-relevant-packages",content:`ports: $ ls /usr/ports/www/ | grep nginx
pkg: $ pkg search -o nginx`},{header:"Configuration",slug:"configuration",content:`Configuration tutorials can be found in the official documentation and official wiki.
This article will only briefly explain how to start Nginx and the configuration files for Nginx in FreeBSD.`},{header:"Starting",slug:"starting",content:`# sysrc nginx_enable=YES
# service nginx start
You can check if nginx is up and running by using $ sockstat -4 | grep nginx.`},{header:"Configuration files",slug:"configuration-files",content:`In FreeBSD, the Nginx configuration file is located in /usr/local/etc/nginx/, and the main configuration file is in /usr/local/etc/nginx/nginx.conf
By default, the root directory of Nginx is /usr/lccal/www/nginx/. If you need to change the directory location, please change the
root /usr/lccal/www/nginx;
to your desired directory location, e.g. root /path/to/new/webroot;`},{header:"Example files (Nginx + Typecho pseudo-static + SSL)",slug:"example-files-nginx-typecho-pseudo-static-ssl",content:`#user nobody;
worker_processes 1; # This default error log path is compiled-in to make sure configuration parsing
# errors are logged somewhere, especially during unattended boot when stderr
# isn't normally logged anywhere. This path will be touched on every nginx
# start regardless of error log location configured here. See
# https://trac.nginx.org/nginx/ticket/147 for more info. #
#error_log /var/log/nginx/error.log;
# #pid logs/nginx.pid; events { worker_connections 1024;
} http { include mime.types; default_type application/octet-stream; #log_format main '$remote_addr - $remote_user [$time_local] "$request" ' # '$status $body_bytes_sent "$http_referer" ' # '"$http_user_agent" "$http_x_forwarded_for"'; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; server { listen 80; server_name localhost; #charset koi8-r; #access_log logs/host.access.log main; location / { root /usr/local/www/nginx; index index.html index.htm index.php;
if (-f $request_filename/index.html){
rewrite (.*) $1/index.html break;
}
if (-f $request_filename/index.php){
rewrite (.*) $1/index.php;
}
if (!-f $request_filename){
rewrite (.*) /index.php;} } location ~ .*.php(/.*)*$ { root /usr/local/www/nginx; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $request_filename; include fastcgi_params; } #location ~ .*.php(/.*)*$ { # include fastcgi_params; # fastcgi_pass 127.0.0.1:9000; # } #error_page 404 /404.html; # redirect server error pages to the static page /50x.html # error_page 500 502 503 504 /50x.html; location = /50x.html { root /usr/local/www/nginx-dist; } # proxy the PHP scripts to Apache listening on 127.0.0.1:80 # #location ~ .php$ { # proxy_pass http://127.0.0.1; #} # pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000 # location ~ .*.php(/.*)*$ { root /usr/local/www/nginx; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $request_filename; include fastcgi_params; } # deny access to .htaccess files, if Apache's document root # concurs with nginx's one # #location ~ /.ht { # deny all; #} } # another virtual host using mix of IP-, name-, and port-based configuration # #server { # listen 8000; # listen somename:8080; # server_name somename alias another.alias; # location / { # root html; # index index.html index.htm; # } #} # HTTPS server # server { listen 443; server_name localhost; ssl_certificate /usr/local/etc/nginx/fbxs.crt; ssl_certificate_key /usr/local/etc/nginx/fbxs.key; ssl on; ssl_certificate fbxs.crt; ssl_certificate_key fbxs.key; ssl_session_timeout 5m; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; #\u6309\u7167\u8FD9\u4E2A\u534F\u8BAE\u914D\u7F6E ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;#\u6309\u7167\u8FD9\u4E2A\u5957\u4EF6\u914D\u7F6E ssl_prefer_server_ciphers on;
location ~ .*.php(/.*)*$ { root /usr/local/www/nginx-dist; fastcgi_pass 127.0.0.1:9000; fastcgi_index index.php; fastcgi_param SCRIPT_FILENAME $request_filename; include fastcgi_params; } location / { root /usr/local/www/nginx-dist; index index.php; } } }`}]},{path:"/chapter-17.-web-server/17.3-php-8.x.html",title:"17.3 PHP 8.X",pathLocale:"/",contents:[{header:"17.3 PHP 8.X",slug:"_17-3-php-8-x",content:""}]},{path:"/chapter-17.-web-server/17.4-mysql-5.x.html",title:"17.4 MySQL 5.X",pathLocale:"/",contents:[{header:"17.4 MySQL 5.X",slug:"_17-4-mysql-5-x",content:""},{header:"mysql 5.5 (please refer to 5.6)/5.6",slug:"mysql-5-5-please-refer-to-5-6-5-6",content:""},{header:"Installation",slug:"installation",content:`# pkg install mysql56-server
or
# cd /usr/ports/databases/mysql56-server/ && make install clean`},{header:"Start Service",slug:"start-service",content:`# sysrc mysql_enable="YES"
# service mysql-server start`},{header:"Configuration",slug:"configuration",content:`# mysql_secure_installation
Output.
root@ykla:~ # mysql_secure_installation NOTE: RUNNING ALL PARTS OF THIS SCRIPT IS RECOMMENDED FOR ALL MySQL SERVERS IN PRODUCTION USE! PLEASE READ EACH STEP CAREFULLY! In order to log into MySQL to secure it, we'll need the current
password for the root user. If you've just installed MySQL, and
you haven't set the root password yet, the password will be blank,
so you should just press enter here. Enter current password for root (enter for none): OK, successfully used password, moving on... Setting the root password ensures that nobody can log into the MySQL
root user without the proper authorisation. Set root password? [Y/n] y
New password: Re-enter new password: Password updated successfully!
Reloading privilege tables.. ... Success! By default, a MySQL installation has an anonymous user, allowing anyone
to log into MySQL without having to have a user account created for
them. This is intended only for testing, and to make the installation
go a bit smoother. You should remove them before moving into a
production environment. Remove anonymous users? [Y/n] y ... Success! Normally, root should only be allowed to connect from 'localhost'. This
ensures that someone cannot guess at the root password from the network. Disallow root login remotely? [Y/n] n ... skipping. By default, MySQL comes with a database named 'test' that anyone can
access. This is also intended only for testing, and should be removed
before moving into a production environment. Remove test database and access to it? [Y/n] n ... skipping. Reloading the privilege tables will ensure that all changes made so far
will take effect immediately. Reload privilege tables now? [Y/n] ... Success! All done! If you've completed all of the above steps, your MySQL
installation should now be secure. Thanks for using MySQL! Cleaning up...`},{header:"Use",slug:"use",content:`Login
# mysql -u root -p
Example Output
root@ykla:~ # mysql -u root -p
Enter password: Welcome to the MySQL monitor. Commands end with ; or g.
Your MySQL connection id is 12
Server version: 5.6.51 Source distribution Copyright (c) 2000, 2021, Oracle and/or its affiliates. All rights reserved. Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners. Type 'help;' or 'h' for help. Type 'c' to clear the current input statement. mysql> show databases;
+--------------------+
| Database |
+--------------------+
| information_schema |
| mysql |
| performance_schema |
| test |
+--------------------+
4 rows in set (0.00 sec) mysql>`},{header:"mysql 5.7",slug:"mysql-5-7",content:"Note: If you are upgrading from an older version, please execute mysql_upgrade first"},{header:"Install",slug:"install",content:`Choose one of the following two
# pkg install mysql57-server
# or
# cd /usr/ports/databases/mysql57-server/ && make install clean`},{header:"Start the service",slug:"start-the-service",content:`# sysrc mysql_enable=YES
# service mysql-server start
Example output (you can see that the password is under the /root/.mysql_secret folder and is q(<p2ZZ>lX/:
root@ykla:~ # sysrc mysql_enable=YES
mysql_enable: -> YES
root@ykla:~ # service mysql-server start
Starting mysql.
root@ykla:~ # cat /root/.mysql_secret
# Password set for user 'root@localhost' at 2021-12-13 00:21:02 q(<p2ZZ>lX/:
root@ykla:~ #`},{header:"Trying to log in",slug:"trying-to-log-in",content:`An error is reported for logging in, indicating that the password needs to be changed.
root@ykla:~ # mysql -u root -p
Enter password: Welcome to the MySQL monitor. Commands end with ; or g.
Your MySQL connection id is 2
Server version: 5.7.36-log Copyright (c) 2000, 2021, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners. Type 'help;' or 'h' for help. Type 'c' to clear the current input statement. root@localhost [(none)]> show databases;
ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.
root@localhost [(none)]>`},{header:"Change password",slug:"change-password",content:`Change the current password to your_new_password and refresh the permissions.
root@localhost [(none)]> SET PASSWORD = PASSWORD('your_new_password');
Query OK, 0 rows affected, 1 warning (0.00 sec)
root@localhost [(none)]> flush privileges;
Query OK, 0 rows affected (0.00 sec) Normal Login
root@ykla:~ # mysql -u root -p
Enter password: Welcome to the MySQL monitor. Commands end with ; or g.
Your MySQL connection id is 3
Server version: 5.7.36-log Source distribution Copyright (c) 2000, 2021, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners. Type 'help;' or 'h' for help. Type 'c' to clear the current input statement. root@localhost [(none)]> show databases;
+--------------------+
| Database |
+--------------------+
| information_schema |
| mysql |
| performance_schema |
| sys |
+--------------------+
4 rows in set (0.00 sec) root@localhost [(none)]>`}]},{path:"/chapter-17.-web-server/17.5-mysql-8.x.html",title:"17.5 MySQL 8.X",pathLocale:"/",contents:[{header:"17.5 MySQL 8.X",slug:"_17-5-mysql-8-x",content:""},{header:"mysql 80",slug:"mysql-80",content:""},{header:"Installation",slug:"installation",content:`# pkg install mysql80-server or
# cd /usr/ports/databases/mysql80-server/ && make install clean`},{header:"Start Service",slug:"start-service",content:`# sysrc mysql_enable="YES"
# service mysql-server start`},{header:"login",slug:"login",content:`mysql 8.0 default password is empty, just enter it directly.
root@ykla:~ # mysql -uroot -p
Enter password: Welcome to the MySQL monitor. Commands end with ; or g.
Your MySQL connection id is 8
Server version: 8.0.27 Source distribution Copyright (c) 2000, 2021, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners. Type 'help;' or 'h' for help. Type 'c' to clear the current input statement. root@localhost [(none)]>`},{header:"Change password",slug:"change-password",content:`Set the password to z and refresh the permissions.
root@localhost [(none)]> alter user 'root'@'localhost' identified by 'z';
Query OK, 0 rows affected (0.02 sec) root@localhost [(none)]> flush privileges;
Query OK, 0 rows affected (0.00 sec)
Relogin.
root@localhost [(none)]> quit;
Bye
root@ykla:~ # mysql -uroot -p
Enter password: Welcome to the MySQL monitor. Commands end with ; or g.
Your MySQL connection id is 9
Server version: 8.0.27 Source distribution Copyright (c) 2000, 2021, Oracle and/or its affiliates. Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners. Type 'help;' or 'h' for help. Type 'c' to clear the current input statement. root@localhost [(none)]> show databases;
+--------------------+
| Database |
+--------------------+
| information_schema |
| mysql |
| performance_schema |
| sys |
+--------------------+
4 rows in set (0.01 sec) root@localhost [(none)]>`}]},{path:"/chapter-17.-web-server/17.6-typecho.html",title:"17.6 Typecho",pathLocale:"/",contents:[{header:"17.6 Typecho",slug:"_17-6-typecho",content:""}]},{path:"/chapter-17.-web-server/17.7-ssl-configuration.html",title:"17.7 SSL Configuration",pathLocale:"/",contents:[{header:"17.7 SSL Configuration",slug:"_17-7-ssl-configuration",content:"Transport Layer Security (TLS) and its predecessor Secure Sockets Layer (SSL) are security protocols designed to provide security and data integrity guarantees for Internet communications. The IETF standardized on SSL and published the TLS 1.0 standard document (RFC 2246) in 1999. This was followed by the publication of TLS 1.1 (RFC 4346, 2006), TLS 1.2 (RFC 5246, 2008) and TLS 1.3 (RFC 8446, 2018). This protocol is widely used in applications such as browsers, email, instant messaging, VoIP, and Internet fax. It has now become the industry standard for confidential communications over the Internet."}]},{path:"/chapter-17.-web-server/17.8-postgresql-and-pgadmin4.html",title:"17.8 PostgreSQL and pgAdmin4",pathLocale:"/",contents:[{header:"17.8 PostgreSQL and pgAdmin4",slug:"_17-8-postgresql-and-pgadmin4",content:""},{header:"PostgreSQL",slug:"postgresql",content:`PostgreSQL is a free object-relational database, first released in June 1989.
On FreeBSD, a total of 6 major releases are available, 9.6, 10, 11, 12, 13, and 14.`},{header:"postgresql installation example, for all 6 versions.",slug:"postgresql-installation-example-for-all-6-versions",content:""},{header:"installation",slug:"installation",content:`## pkg install -y postgresql96-server
or
cd /usr/ports/databases/postgresql96-server/ && make install clean`},{header:"add boot items",slug:"add-boot-items",content:"# sysrc postgresql_enable=YES"},{header:"Initialize the database",slug:"initialize-the-database",content:`/usr/local/etc/rc.d/postgresql initdb
Example output.
root@ykla:~ # /usr/local/etc/rc.d/postgresql initdb
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process. The database cluster will be initialized with locales COLLATE: C CTYPE: C.UTF-8 MESSAGES: C.UTF-8 MONETARY: C.UTF-8 NUMERIC: C.UTF-8 TIME: C.UTF-8
The default text search configuration will be set to "english". Data page checksums are disabled. creating directory /var/db/postgres/data96 ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting default timezone ... PRC
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok WARNING: enabling "trust" authentication for local connections
You can change this by editing pg_hba.conf or using the option -A, or
--auth-local and --auth-host, the next time you run initdb. Success. You can now start the database server using: /usr/local/bin/pg_ctl -D /var/db/postgres/data96 -l logfile start root@ykla:~ #`},{header:"Login Usage",slug:"login-usage",content:`Postgresql does not have a root user by default, so you need to log in with the postgres user it created.
Example output:
root@ykla:~ # psql
psql: FATAL: role "root" does not exist
Correct usage.
# switch users
root@ykla:~ # su - postgres # Start the service
$ /usr/local/bin/pg_ctl -D /var/db/postgres/data96 -l logfile start # Create a new user ykla and set a password
$ createuser -sdrP ykla
Enter password for new role: Enter it again: $ # create database
$ createdb new_db
# Log in to the database and give database privileges to user ykla.
$ psql
psql (9.6.24)
Type "help" for help. postgres=# ALTER USER ykla WITH ENCRYPTED PASSWORD 'password';
ALTER ROLE
postgres=# postgres=# GRANT ALL PRIVILEGES ON DATABASE new_db TO ykla;
GRANT
# Quit the database
postgres=# q
$exit
root@ykla:~ #`},{header:"Installing pgAdmin4",slug:"installing-pgadmin4",content:`The following tutorial is based on FreeBSD 13.0.
pgAdmin4 is the most popular open source application for managing PostgreSQL database servers. pgAdmin4 provides a feature-rich graphical user interface to easily manage databases. It is written in Python and Javascript/ jQuery. It can be used in multiple environments such as Linux, Windows, Unix, and can be used in both desktop and server mode.
Note: Install the PostgreSQL database before installing pgAdmin4, otherwise the installation of pgAdmin4 will fail. pgAdmin4 needs to be installed in python.
pgAdmin4 needs to run in python environment, and the installation should be done via pip of python, so install python first.
The default version used in this article is Python 3.8. Please note that there is no python environment on FreeBSD 13 by default.
This can be viewed with the following command.
# python
python: Command not found # means there is no python command`},{header:"Install Python and pip",slug:"install-python-and-pip",content:`# pkg install python
pip is the package manager for Python packages. It is used to install and manage the relationship between Python packages and dependent packages.
virtualenv is used to create a virtual python environment, a python environment dedicated to the project.
The actual installation in this article was done by creating a separate Python environment via virtualenv to install pgAdmin4.
To install pip from the py38-pip package.
# pkg install py38-pip`},{header:"Installing and configuring virtualenv",slug:"installing-and-configuring-virtualenv",content:`Use virtualenv to create a standalone Python environment.
Virtualenv creates an environment for your own Python installation; it does not support libraries with a global or another virtual environment.
Run the following command to install Virtualenv.
# pkg install py38-virtualenv (this installation is python version 3.8 so use py38)
Create a virtual environment for pgAdmin4 by running the following command
# virtualenv-3.8 pgadmin4
If the creation is complete, the following display shows that a virtual environment named pgadmin4 has been created in the root directory of the root user.
Using base prefix '/usr/local'
New python executable in /home/vagrant/pgadmin4/bin/python3.8
Also creating executable in /home/vagrant/pgadmin4/bin/python
Installing setuptools, pip, wheel...done.
done.`},{header:"Installing sqlite3",slug:"installing-sqlite3",content:`## pkg install py38-sqlite3
Activate the created virtual environment.
#source pgadmin4/bin/activate.csh You will see that the shell has changed to (pgadmin4) (the following actions are performed under this shell)
The example is as follows.
(pgadmin4) root@ykla:~ #`},{header:"Installing pgAdmin4.",slug:"installing-pgadmin4-1",content:`The pip source now always requires https, which still needs to be installed due to the lack of SSL certificates.
(pgadmin4) root@ykla:~# pkg install ca_root_nss
Then change the source for pip, here use Tsinghua source.
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
There is a dependency on openjpeg, install it first
(pgadmin4) root@ykla:~# pkg install openjpeg
If an error is reported.
WARNING: Retrying (Retry(total=3, connect=None, read=None, redirect=None, status=None)) after connection broken by 'SSLError( SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: certificate is not yet valid (_ssl.c:1136)')': / simple/pgadmin4/
This is caused by incorrect time, synchronize the time first:
ntpdate ntp.api.bz
(pgadmin4) root@ykla:~# ntpdate ntp.api.bz
17 Dec 16:35:36 ntpdate[1453]: step time server 114.118.7.161 offset +401965.911037 sec
Then install pgAmdin4 and its dependencies rust: \`\`\`.
(pgadmin4) root@ykla:~# pkg install rust
(pgadmin4) root@ykla:~# pip install pgadmin4
Note: If there is not enough memory (less than 4GB) and there is no swap, it will prompt killed, please add a swap first if this problem occurs.`},{header:"Configure and run pgAdmin4",slug:"configure-and-run-pgadmin4",content:`After installation, create a configuration file for pgAdmin4, copy the pgAdmin4 configuration file to
(pgadmin4) root@ykla:~# cp . /pgadmin4/lib/python3.8/site-packages/pgadmin4/config.py . /pgadmin4/lib/python3.8/site-packages/pgadmin4/config_local.py
Edit a local copy of the configuration file using the ee editor.
(pgadmin4) root@ykla:~# ee . /pgadmin4/lib/python3.8/site-packages/pgadmin4/config_local.py
Find DEFAULT_SERVER Change the default server listening address to 0.0.0.0. Find DEFAULT_SERVER_PORT to change the port that the application listens on.
An example is as follows:
DEFAULT_SERVER = '0.0.0.0' DEFAULT_SERVER_PORT = 5050
Manually create the software directory.
(pgadmin4) root@ykla:~# mkdir -p /var/lib/pgadmin (pgadmin4) root@ykla:~# mkdir /var/log/pgadmin
After the configuration file is edited execute the following command to initialize the account and login password.
(pgadmin4) root@ykla:~# pgadmin4
The example is displayed as follows.
NOTE: Configuring authentication for SERVER mode.
Enter the email address and password to use for the initial pgAdmin user account:
Email address: your_email //enter your email address
Password: your_new_password //Enter your login password
Retype password: //Enter your password again
Starting pgAdmin 4. Please navigate to http://0.0.0.0:5050 in your browser.
Now that we have pgAdmin 4 installed and running, we can access the web control panel via http://ip:5050: !`},{header:"Keep pgAdmin4 running in the background",slug:"keep-pgadmin4-running-in-the-background",content:`If the service is shut down, the next time you want to run it, go to the root directory using the pgadmin4 installation user (in this case root) and execute the following command.
root@ykla:~# source pgadmin4/bin/activate.csh
(pgadmin4) root@ykla:~# pgadmin4 & Tip: & means running in the background
After the service starts, type & in the current interface and press enter to switch to the foreground command line and let the service run in the background.`},{header:"Upgrade pgAdmin4",slug:"upgrade-pgadmin4",content:`This article tests that if you use pip to upgrade directly, you are still prompted with the old version.
If you want to upgrade pgadmin4, you should delete the pgadmin4 directory created with virtualenv and then execute the following command again with the installed user.
root@ykla:~# virtualenv-3.8 pgadmin4 After the virtual directory is created, activate
root@ykla:~# source pgadmin4/bin/activate.csh
After activation, do not open the service and perform the upgrade directly
(pgadmin4) root@ykla:~# pip install --upgrade pgadmin4 Start the service after completing the upgrade
(pgadmin4) root@ykla:~# pgadmin4
Login account and password is still the original (no more update prompt after login, check the version is already for the latest).`}]},{path:"/chapter-18.-raspberry-pi-and-embedded/18.1-introduction-to-raspberry-pi.html",title:"18.1 Raspberry Pi Introduction",pathLocale:"/",contents:[{header:"18.1 Raspberry Pi Introduction",slug:"_18-1-raspberry-pi-introduction",content:`Our Android phones, most of the ARM chip, even if the song Huawei Mei the so-called "Chinese chip" is also derived from ARM's patent license, without the license, what chip is not.
And Raspberry Pi is a development board using ARM chips, is a rich interface (HDMI, I2C, USB X 4, POE module, etc.) of the board, equivalent to a lower configuration of the phone, the phone can do things, Raspberry Pi can do. It is generally used for embedded development, such as robotics, routers and monitoring, etc.
FreeBSD's support for architecture is divided by level, ARM is a secondary architecture (FreeBSD 13 was upgraded to treat it as a Tier 1 architecture), so software support is not as good as AMD64, and some software cannot be compiled in source form through ports, for example, compiling X11/xorg will encounter many errors (a list of bugs has been reported).`}]},{path:"/chapter-18.-raspberry-pi-and-embedded/18.2-system-installation.html",title:"18.2 System Installation",pathLocale:"/",contents:[{header:"18.2 System Installation",slug:"_18-2-system-installation",content:`Since the Raspberry Pi 3B+, without any changes, the system can be booted from the USB disk, after testing FreeBSD 12/13/14 are supported, but the speed is very slow, on the one hand, the Raspberry Pi using USB2.0 greatly limit the bus speed, on the other hand, may be a metaphysical problem. (I use a Toshiba (TOSHIBA) 64GB USB3.0 USB flash drive U364 high-speed mini car USB drive).
Therefore, it is not recommended to use the U disk boot, slow I have to hit the niannian cat, who is the niannian cat? It is just a wild civet cat.
All we have to prepare is a Raspberry Pi 4 board, a piece of network cable, and a memory card. Download the image for the Raspberry Pi 4 from FreeBSD.org:
https://download.freebsd.org/ftp/releases/arm64/aarch64/ISO-IMAGES/13.0/FreeBSD-13.0-RELEASE-arm64-aarch64-RPI.img.xz
Download it and unzip it. Burn it with rufus. Plug in the network cable, insert the memory card into the Raspberry Pi, power it on and wait for about five minutes to check the router background to get the IP.
Note: After burning, you need to mount the FAT partition to replace all the files inside, otherwise it will start the screen, the replacement file path is:
https://github.com/FreeBSD-Ask/FreeBSD-rpi4-firmware
Use XShell to login to Raspberry Pi. The username and password are freebsd. root needs to log in and enter su and the password is root.
You can enable ssh remote login privileges for the root account by changing the /etc/ssh/sshd_config file.
Method.
Edit /etc/sh/sshd_config (note that it is sshd, not ssh! These are two files) and modify or add:
PermitRootLogin yes # Allow root login
PasswordAuthentication yes # Set whether to use password authentication.
(You can also remove the comment # in front of the corresponding line, note that the default line of PermitRootLogin is no, change it to yes after removing it. (i.e. PermitRootLogin yes).
Then restart the service:
# server sshd restart
Then there is the problem of time setting, the Raspberry Pi does not have an on-board coin cell to ensure the CMOS clock is accurate. So it completely relies on the NTP service to correct the time, if the time is not accurate, it will affect the operation of many services, such as the inability to execute the portsnap fetch command.
The method is simple.
Add to etc/rc.conf:
ntpd_enable="YES"
ntpdate_enable="YES"
ntpdate_program="ntpdate"
ntpdate_flags="0.cn.pool.ntp.org"
Then turn on the time server:
# service ntpdate start
Enter # date to check the time and finish the calibration. Our country uses UTC+8 Beijing time, although not changing it will not affect the software use, it looks inconvenient, you can adjust the region to Asia / China / Shanghai by # bsdconfig command.
The Raspberry Pi should be automatically connected to the Internet, so there is no need to think about networking.
CPU frequency adjustment (600MHZ to 1500MHZ).
# sysrc powerd_enable="YES"
# service powerd restart`}]},{path:"/chapter-18.-raspberry-pi-and-embedded/18.3-using-the-configuration.html",title:"18.3 Using the configuration",pathLocale:"/",contents:[{header:"18.3 Using the configuration",slug:"_18-3-using-the-configuration",content:""}]},{path:"/chapter-18.-raspberry-pi-and-embedded/18.4-usb-nic-and-wifi.html",title:"18.4 USB Network Cards and WIFI",pathLocale:"/",contents:[{header:"18.4 USB Network Cards and WIFI",slug:"_18-4-usb-network-cards-and-wifi",content:`The Raspberry Pi 4 is a relatively well configured model, so the onboard Bluetooth and WIFI are not available because the FreeBSD SDIO driver does not fully support them (you can purchase a wireless card, we recommend the COMFAST CF-WU810N).
If you have purchased the above wireless card and want to automatically connect to wifi on boot, it is very simple.
Method: /boot/loader.conf write:
rtwn_usb_load="YES"
legal.realtek.license_ack=1
In /etc/rc.conf write:
wlans_rtwn0="wlan0"
ifconfig_wlan0="WPA DHCP"
Note that in the /etc/wpa_supplicant.conf file (if you don't have one, create one yourself with the touch command) write:
network={ ssid="wifi name" psk="password" }
Just save and reboot. This will enable automatic wifi connection on boot.`}]},{path:"/chapter-18.-raspberry-pi-and-embedded/18.5-risc-v.html",title:"18.5 RISC-V",pathLocale:"/",contents:[{header:"18.5 RISC-V",slug:"_18-5-risc-v",content:""}]},{path:"/chapter-19.-literary-stories/19.1-my-story-with-freebsd.html",title:"19.1 My Story with FreeBSD",pathLocale:"/",contents:[{header:"19.1 My Story with FreeBSD",slug:"_19-1-my-story-with-freebsd",content:""},{header:"One of my stories with FreeBSD",slug:"one-of-my-stories-with-freebsd",content:`I remember those boring days when some users in the group claimed that Linux could only play WPS, I questioned that and searched through Baidu, a search engine, to find Ubuntu Kylin, the UbuntKylin kylin project led by the National University of Defense Technology in Hunan, in collaboration with the Ubuntu community.
Speaking of Kylin, it is an auspicious, as Chinese as the loong, but I regret that it has been reduced to a plaything of capital. At that time, I followed the burning method of its forum, downloaded the floppy disk with Baidu, and let my family buy a 4G, USB 2.0 Kingston disk. It burned very slowly.
I used a Lenovo G400 laptop with i3-3110M, 4G RAM, 500G mechanical hard drive, and a graphics card that was more of a bright card HD 4000 + AMD 8570M. I got to the installation screen quickly, and unfortunately my wireless card was a Broadcom BCM43142, which is not open source. But luckily Ubuntu has many proprietary drivers built in, so I was able to get rid of the cheap cable that was wound into a ball of wool. Previously I had only had experience with ghost installations of Windows, and hadn't touched any other operating systems.
When I entered Ubuntu Kylin, I wasn't surprised, I just felt a little anti-human, the window parts were on the left instead of the right, Unity was very resource intensive, I was lagging a lot with this configuration, I started to install other software and I proved one thing, there is more to Linux than WPS, after that I felt the need to dig deeper. This is my desire for freedom, any machine that can hack I am willing to study one or two, Android Root, Kindle brush Android, Apple jailbreak, learning machine crack An software. I feel like this might be a desire for control, but it's not. I'm not a root team, maybe it's the chrome and Ubuntu desktops that are holding me down.
I'm not bothered by why games don't run on Linux, because I don't prefer any games. Maybe this configuration doesn't run any games worth playing at all.
I've been studying all aspects of Linux, but lack of research on the server side, I only have theory and lack of practice, and have suffered a lot since. I saw Bird's Linux server chapter these days and realized that what I had learned the hard way over the years was all there was. I had to sigh, listen to people to eat. Because I only learned the first basic book, I do not believe that only this book can read, went to the largest local wholesale book market, to find "The C language Program" and its answers, but unfortunately, there is not. After all these years, I had taken the NCRE five times, and failed all of them. Ubuntu Kylin was very unstable, so I started installing the original Ubuntu, and then I realized I was wrong about kylin, which Ubuntu was. I have since installed and used almost all distributions for a while.
I'm so sick of the arrogant and cocky mouths of some people in the community that I rarely speak up. One question I still don't understand is why use the inferior CentOS instead of Scientific Linux, both of which are refactored distributions of RHEL code. The latter is far superior to CentOS, and even interchangeable sources with RHEL are not a problem, not to mention the level of developers, who are more often research institutes or universities. Is this what you call blind herding? People hold a purpose to learn Linux, always want to learn what kernel source code analysis, composition principles and other more theoretical things, or for the examination of the Red Hat certification. As you can see, every time a university starts a new semester, the posting community will be flooded with new people asking all kinds of interesting questions. And some of the so-called bigwigs will just keep banning.
I use the Broadcom network card let me suffer a lot of non-existent trouble, so now I have to shout a "stupid Broadcom" everywhere, each compile and install is very troublesome, there are a lot of code to change, check the various manuals. On the contrary, Intel is very convenient, direct drive-free. Later I found out that the Lenovo G400, or laptop computers have a thing called whitelist, I do not want to take the risk of brushing the BIOS, by switching to another network card with others, the same model of this computer has to use the Intel network card.
So now I see that the Raspberry Pi also uses the Broadcom I am angry, not open source to open source products into what hand, adding trouble. "Stupid Broadcom" x3.`},{header:"My story with FreeBSD #2",slug:"my-story-with-freebsd-2",content:`The ugly faces of those people made me laugh, and I stayed further and further away from the so-called communities and forums. The TV show "Martial Arts" says it well: where there are people, there are rivers and lakes, and rivers and lakes never go far and never change. The conflict in the community is rarely a technical level, according to the old saying that wise people rarely express their opinions, only silent spectators, and for the so-called technical group is more of this group of wise people in the huddle. There are technical people will be in the group? A group of friends said well, not afraid and you talk about technology, afraid that you simply do not have the technology also said to talk about technology - less bullshit.
Technology to be transformed into productivity to reflect its value of the phrase is a thorough expression of the pragmatic characteristics of these people. Some people and I say sink your teeth into a system and learn a programming language instead of installing a system every day. I strongly disagree with this idea, and this is the root of their silent adherence to stereotypes. Is the system anything productive? I have not changed my attitude from the past, no, it's not. It's just a philosophy of suffering, tormenting myself, letting go of what works well, setting a circle for myself with the so-called freedom and openness, just like a two-dimensional world of paper people, never to jump out again.
For me personally, I only need the system to meet two points, stability and newness. Most operating systems don't meet this requirement. A single stable one brushes off Ubuntu and its derivatives except Mint linux, and for new ones, Archlinux crashes in three days in my case. I think this is a natural selection process, anyone who really likes these things will go from Ubuntu to RHEL and beyond, and finally stay with Gentoo.
I saw that the Linux Foundation course at Lab Building referred to "FreeBSD" as a distribution of Linux, and I contacted them, and they said they would seriously criticize the teacher who made the course, and that they were also fans of FreeBSD, which is no longer a mistake, but a matter of common sense. This was a matter of common sense, so I doubted the quality of the course and never used the lab building again.
When it comes to programming, I only know C and JAVA, and by that I mean I can write "Hello, world! code. I am very sick of VC++ 6.0. Maybe it is not Microsoft's fault, it is the education system that is wrong, but more the people, and all kinds of a++ + + + + a ridiculous topics that mislead people. I simply choose to give up if I can't get the truth. There is nothing wrong with the classic marble series from the Mechanical Industries Press, it just doesn't make much sense. In practice, no one will use compilation principles and introduction to algorithms these things. All the bottom-level programmers have to do is carry rather than create or research. It's hard to recognize that.
When I first tried to create a student club, I simply couldn't do it. For one thing, there was no one, and for another, there was no money. How can a school that can't even access the Internet meet the conditions for a club to exist? And what can't be done naturally has no meaning to say what the southeast and northwest. Many attempts are failures, which is a very normal thing, can only mean that the development of this thing is not yet at this stage, or choose the environment does not meet, and my failure clearly belongs to this. One mind and one virtue, I think it is difficult. Maybe it's not even possible, I don't have any support.
Life is full of complicated and difficult things, I know this very well, so I did not make any excuses at all, it is useless, as for chicken soup literature what to find ways for success nonsense is also not credible. Before this, I just want to find people who can talk, just like the idea expressed in Liu Zhenyun's book "A sentence top 10,000 sentences", people are very lucky to have a person to talk to in this life. I am more like the old missionary in it, passing my torch in an ordinary institution. But unfortunately, there is no one who can "talk the talk".
As I've said before, it depends on who you're targeting, if you're a foreigner or a programmer, why bother translating the Handbook when you don't even understand it? But obviously I don't think so, and that's why today we have the decline of FreeBSD, where some people have started working on the kernel and others can't install the system, even though FreeBSD is all just a click away. And I don't care about the kernel people, not the developers, I care more about the people who can't do anything.
I wasn't able to install FreeBSD the first, second, or third time, because I was using a Lenovo G400, and I couldn't install it at all under UEFI, it would splash, but it had nothing to do with the video memory, and so far I just hung up a bug report that no one replied to. So I lost my earliest exposure to FreeBSD and fell into the abyss of Linux.`},{header:"My Story with FreeBSD #3",slug:"my-story-with-freebsd-3",content:`The Lenovo G400 was a laptop I bought offline from Gomez. I didn't know anything about it, so I bought it casually, and not casually either. Anyone who is not a particularly crooked businessman knows that basically goods are in line with the basic law of economics that value determines price. So no money lost the freedom of choice. By now, I still do not have this freedom, even if the whole world, there are not many people with freedom. That's why I'm still suffering from 4G memory. I think a lot and do a lot; but the more I fail, the more I think, and the more I do, the more precious it becomes.
The CMOS of Lenovo G400 is faulty, on some version of Kali, loading UEFI boot will cause the motherboard to be destroyed. The BIOS update for Lenovo is only available on the official US website, while Taiwan and Hong Kong are also redirected to download. It seems to have solved the problem, but it took me almost a few months.
Lenovo pre-installed Linpus Linux on the computer, and my G400 was ghosted by the Gomez people at first. I wanted to restore it while I had the chance, because I read that the software was guaranteed for one year. Much later, Lenovo called me and said the computer was fixed, but they couldn't restore Linux, they didn't know what it was. I emailed Linpus, but there was always no response. I didn't think about it again until six months later, so I sent another email. This time, someone who seemed to be customer service answered some of my questions, such as the stability of the system (based on fedora, which made me doubt it), how to remove the help icons on the desktop, etc. But still no answer on how to restore Linux. But there was still no answer on how to restore the preconfigured system. It wasn't until a year later that I dug out these emails from my QQ email inbox and contacted them again, and according to Peachtree, "then there was no one to ask".
Later I learned from some so-called big brother's only words to learn what the United States Empire Lenovo, at present I have completely blacked out Lenovo. but in general, or poverty harmed me. 4G memory can not even open PS, let alone what.
Many people think I am lucky, at least there are computers, but more misunderstanding and ridiculous. I think of a joke, a company recruitment, in the employee benefits that marked "provide iMac for all Apple development engineers", I want to laugh, development of Apple does not use Apple's equipment with what, Windows? It is difficult not to be black Apple? It is obvious that this kind of company is a pit. If you don't need a computer to learn about computers, the person who thinks so probably has a pit in his brain. This analogical reasoning still works very well here.
I was thinking about a simple question, not where did all my time go, but where was my childhood? Or more deeply, where is my youth? It seems to be all sorts of papers, all sorts of mock exams, and maybe all sorts of tutorials, never so it is just not right, but our resistance is useless. Its system dictates everything, and it is difficult to move again. And the sacrifice of the so-called social screw, by the environment of the hammer into the hammer, look at who are like nails, as long as they are not the same as they have to hammer him into. And what about the people who really enjoy themselves? I'm afraid I'm really a sacrificed person.
I have never felt alone, although I have always walked alone, and the great spirit is what sustains me. For this reason I have a very serious mental illness and my doctor prescribed me over 500 medications, but I didn't end up taking my prescription pad to the pharmacy to pick them up. A lot of, inclusive community, is what I would like, but unfortunately, we don't get any support from anything external to me. What I felt at this point was not loneliness, nor despair, but elation. Because despair is at its peak, its peak upwards is just that.
Perhaps it was the pursuit of freedom that made me leave Linux and go to BSD. Linux brought me a lot more than a philosophy of suffering, not something like kernel technical analysis, protocol experimentation, service installation, Red Hat RHCA, and so on. People are never tools, never, not screws, otherwise they are not people. The spirit of human existence is all in the value of people, if self-identify themselves with the attributes of tools, then it is the same as those people: bored, with heavy work and social fill their schedule, refuse to think anything, but also say they are very busy, do not bother him, and ridicule the ideal of people to advise them not to think too much, more practical work, do not talk. People are not tools. The tool property of the operating system is inherent, so is OS a tool?
To discuss what bullshit technology? Those mechanical industry publishers are full of black bricks. What is technology? Show off or what? I don't know much about it. As for learning? I'm afraid it's not the right time yet. I expect to have to finish translating the manuals before I can. Those again no one reads and are not relevant, I don't want to use everyone as a tool, as a duck to instill knowledge, never pray for others to be like you, that's not humanitarian and not realistic.`},{header:"My Story with FreeBSD #4",slug:"my-story-with-freebsd-4",content:`FreeBSD is 28 years old (2021). But graphically it still sucks, as it does in the open source world. In software engineering parlance it is a lack of user requirements analysis. As some people say, you just write code every day, never mind what's useful. With this kind of thinking, more junkware and unfriendly software has been made, some of it building wheels. The upper layer theory has become almost independent of the bottom layer, and if you can see assembly in C's pointers and arrays, it's not there today. So I don't think kernel analysis would help us much with FreeBSD, if I weren't a developer. After all, it's a market economy now, and any measure of value is price. Again, people are seen as tools, and if your boss retains you, it is largely because you are the lowest cost of all his available options.
Some people are populist now, and I have always said that the People's Post and Telecommunications Publishing House has delayed the development of the computer business on the mainland. It is well known that there is only one book to get started with Linux - Bird's Linux Private Practice. This book should have come out four years ago, and has been pushed until now. But I am very sorry to get the new edition of the book, the fourth edition. The cover of the book says "based on Linux 7.x", I can't help but doubt its quality, Linux version number has not yet reached 6, this is 7? The translator said he had returned the book to the factory for reprinting, and did not see any apology for saying that it could be collected as a misprinted RMB. And some people say it's Bird's political stance that is problematic but can't come up with any evidence, and that's what people are saying.
There is a problem with self-learning, that one thinks one will, but in fact one will not. Or it doesn't match the so-called mainstream education assessment methods. Many people apply the natural sciences to the social sciences, analogical reasoning, and this is one of the things I hate most. A lot of populism is like that. A lot of people put too much emphasis on individual agency and don't care at all about the hostile environment, which is also a populist manifestation of the idea that more people means the truth. Anyone who thinks otherwise is labeled as such. It is thought that it is the individual who does not work hard, which is completely capitalist in sarcasm a beggar so hungry why not eat meat.
I do not know where the problem, I do not consider whether there is no help, it is not numb, but helpless. There is no criticism whatsoever.
Back to the network to help each other, I do not know how to treat, I am now more onlookers, to be a "wise man" (see story three). I've been hurt a lot by the fact that I used to help people install operating systems and do some troubleshooting on the Internet for free. But I actually got nothing out of it, and no one thought that these simple things meant anything to academic research. I was just a waste of time, and the wise guys, once I was useless, ignored me. It was as if I was a tool. This happened too much, not just to a few people, so I reassured myself that I knew Cong Fei's story and could face his thoughts head on. The purpose was not to get anything in the first place, but why would you ignore it? As I've said before, that's often the case with free stuff. A thing must be paid for in order to show its value, even if it only costs a penny, so I understand why some goods are tried for a fee. These are not found in domestic economics textbooks. In a nutshell, the value of FreeBSD is that it fails due to the lack of commercialization like Linux, and I am a "wise guy" who dives in and out of the crowd, never expressing my opinion, just watching in silence.
Too many "wise guys" and the organization died out. And the reason is even simpler - "they are very busy, at work, no time". As if they are busier than President Trump on a few points. I've seen many of these people in the Linux group, everyone says he is a big brother, but in fact, for the group in addition to a loud name, there is nothing else useful to the group, the external also does not play any indirect use such as publicity. People simply know that the group who is a big brother, and then what? Expect them to answer questions and solve problems? I think most of them will be "very busy". Yes, the big guys are so busy, how can they solve their own simple problems? More like mockery. So my inference is that the big guys are useless and the little guys are useless, which is a terrible result. The end result is probably more like a university club, which understands, but not particularly.
I've been in four "hobbyist" related organizations. Two online, two real. So now I'm completely disillusioned. The leader of the team told me to start a forum, so I went to contribute. In the end, it's the people who are the problem, a group of people who play every day, how do you expect to contribute to the team, since they are not willing to sacrifice some, the team is better to disband. The system is regulated, there are philosophical theories to guide, funding to meet the market demand, that is obviously a problem with the people. The Chinese education system makes it impossible for me to find a person who meets my needs, yes, there is none in the whole of China. It is clear that if you want a nation to die out, education is the best way to do it. I couldn't find anyone who had a dream for the team, not eSports.
The more people in the group, the closer to the social average. Zhihu, Douban, and B station are pulling down their own user atmosphere and core values. This is for traffic cash. This is the sadness of the times, not just my personal sadness. My sadness can not make people feel anything, the next second readers click on the side of the screen x, and then go to do what will naturally forget all this. And what you forget is the pain of someone else's half-life of depression. And one day, you will be forgotten too. But that's okay.
So when I learned that the "Qintai" is in Wuhan, I went there. I went there in the hope of seeing a soulmate like a mountain and flowing water, but it was hard to find one, and all I saw was the "First Guqin Rating", another money-grubbing thing. It's an insult to the place. It is better to let Tao Yuanming's Peach Blossom Source live forever in academic papers and textbooks. I know, I have no best friend.
In fact, relying on people rather than other things, the president of National Tsing Hua University Mei Yiqi said, "The university is not the building of the big, is the master of the big." This conflicts with what I just said, quoting famous people does not add a point of credibility to the proof scientifically, I just used it as my citation. I would say it's not that the group doesn't need big guys, but it needs real big guys, not wise ones. Otherwise it is useless even if you gather more people, indoctrination that is a matter for the Ministry of Education and I am not in the business. According to management theory, there are informal organizations in the organization, which is the proverbial "circle". This is also a class division method. I do not agree with it. But its existence cannot be denied. For people who can't even eat, how can they study anything FreeBSD, Steve Jobs and Dennis Ritchie died almost the same week, but all I saw at that time was Steve Jobs, and someone wrote a very expensive biography of Steve Jobs. It's okay that the great master's death is not commemorated, it's a different circle. I just think there should be a Ritchie biography too, that's what he deserves, we owe him a biography. If you don't know who he was even now, click on the "X" in the corner of the screen.
Many people say that there are no viruses under Linux, and that they are infected by dual-system Windows. But that's not true, it's just not enough interest. When you find out that the system is not working properly, it has become a virus incubator. I foresee today that the future of the Linux platform will never be much less Trojan than Windows, or even macOS for that matter. There is no absolutely safe operating system, OpenBSD has been exposed to backdoors, people are unreliable, and it is a ridiculous idea to try to replace machines with humans to improve computer security. Lack of awareness of network security is also a theoretical argument for the existence of big data analysis in domestic lack of virtuous enterprises. All kinds of data collected at your leisure, anyway, the user does not care. A poison even said that users are willing to sacrifice personal privacy for the sake of convenience. Worthy of the "poison". It is distressing.`},{header:"My Story with FreeBSD #5",slug:"my-story-with-freebsd-5",content:`Much later, I posted a question in FreeBSD about the G400 splash screen, and three or four other people gave some replies at that time. But to no avail, and neither did the official FreeBSD forums.
I think it was 10.3 at that time, as I recall. 10.3 had not yet been released. It was in beta. I thought it was a driver problem, and the only thing that worked at that time was a hundred viruses, so I couldn't get any useful information and it was a complete waste of time.
I'm sure it's not a big deal, but once some SB makes a change, it all changes. For example, in the my.ini file of MySQL database 5.7 on Windows, the data directory is specified by yourself, and there is no data directory in the installation path itself. Some brain-dead tutorials will tell you to manually create a new one, but this will instead prompt you that data exists and cannot be initialized. This is interesting, A says to leave the data directory alone, B says to create a new one. If someone believes B's bullshit and doesn't read the error output, then I'm afraid he's going to waste more time. Of course, that aside, installing such things on Windows is itself a waste of time. In my experience with Linux over the years, there have been a few SB tutorials like this. I think I could even write an article tomorrow on how to recognize the credibility of articles.
There are relatively few tutorials here in FreeBSD, most of them are not much of a pitfall, or maybe it's due to the base problem, there are too few users. Most of the ones searched through the hundred drugs are about system installation and still use decade-old commands like pkg_add. Further in depth is what fnmp (freebsd, nginx, MySQL, php) such things are configured.
There are not many cloud server providers that provide FreeBSD images from a worldwide perspective, Aliyun's FreeBSD was 10.1 at that time, and pkg was not working at all, saying it was a bug and had to be upgraded to 10.3, then I searched according to a hundred poisons and watched all kinds of junk tutorials, and finally got up there. But I was prompted that there was a .so file in pkg that could not be found. I couldn't find any information by searching through the hundred virus. I had to reinstall the system and do nothing but run the freebsd-update command directly, which worked. Now I think I know what pkg-static command can adjust soft links. I haven't tried it either. I feel sad that using pkg-static is a waste of my life. And the rest have no choice at all. It's like chronic suicide.
With FreeBSD not working properly with the G400, I started installing a virtual machine. The installation interface is similar to Debian, in that old blue background style, and FreeBSD is extremely easy to install, with no problem getting to the next step. This can't even be done with XP, which can't write to a flash drive, and if you use floppy disk, I don't know how to write him in purely now, but there's no need to study it, I never use XP or win7.
I don't know how to write him in pure, but there is no need to study it, I never use XP and win7. The speed is very slow (if someone can contact the FreeBSD official, please tell the University of Science and Technology can provide mirrors, see the history of the push "mirror station"), never more than 20kib / s, and can not hang to let him download, will timeout of ...... I can only watch and let him finish downloading more than 500 packages. Here I found a thing, no matter what device, what operating system, what software, as long as you keep an eye on him he will download fast, will not break, you leave not look at him he will be slow, will be disconnected. It is reasonable to say that this is not subject to human will, but now a bit like Schrodinger's cat. I wonder if anyone has this experience? I think it has nothing to do with the background foreground services, I also control variables over.
To be honest I don't see any difference between Linux and FreeBSD. If you install a bash, the shell scripts are mostly common.
What puzzles me is that there is no free command, nor is there an ls pci command. It is logical that such commands are either built into bash, or are abbreviated variables, or are provided by some package.
ls pci is part of the pciutils package, so isn't it easier to use this to see device information than dmesg? Isn't this a philosophy of self-torture? I am extremely against it. A similar package is usbutils (ls usb command).
The free command is even more puzzling to me, because I personally could not find out what kind of command it belongs to, and then I was told by a poster that it belongs to a package: procps (https://gitlab.com/procps-ng/procps), which is licensed under GPL v2. The free command reads procfs information, but FreeBSD The free command reads procfs information, but FreeBSD has long since deprecated this pseudo-file system, so I assume that the inability to use free is the reason. I'll be looking at this issue later. Because FreeBSD's native vmstat is too hard to use. Far less intuitive than free.
Strongly opposed to the philosophy of suffering.`},{header:"My Story with FreeBSD #6 - My Years in the Open Source Community",slug:"my-story-with-freebsd-6-my-years-in-the-open-source-community",content:`The six elements of fiction: time, place, characters. The cause, the aftermath, and the effect. The "character" is the heart of the novel. Without characters, everything is empty, and animals in animal fiction are considered characters. Speaking of me and FreeBSD, I have to talk about all the things I've seen in the open source community over the past seven or eight years. The open source community is a general concept, not just a community, forum, association, posting bar, or a variety of QQ groups, TG groups, microblogging groups ....... The list is endless.
As I said before, small circles have a small circle of good, but the bad side is also very obvious, outsiders almost do not fit in, the lack of inclusiveness and openness. Among them, I feel that the most difficult to integrate is some USTC association, Gentoo group as the representative of the TG group.
The USTC association put the link to join the group on the TXT record of a domain name, which is not hard to find, just find a web page and check it out. Their group name is combined with the 24 solar terms, like "USTC Valley Rain". This reminded me of Chinese medicine at the time. It felt like they were selling Power Pills. The first thing I did was to ask "Is anyone using FreeBSD?" and a few "masters" came out and said, "Just say what's up". He said, "He's rude, don't reply to him", "Ignore these questions", as if I was cursing. "You're an idiot" is not a compliment? I'm going to post a ...... "you're an idiot" right now X3! This group is really interesting, I cross-examined him about how I'm being rude, I just asked if anyone was using FreeBSD can't I? Someone else threw out the art of asking me questions. I withdrew from the group, and recently I asked the group again "Does anyone use FreeBSD?", but no one replied. If this kind of group doesn't "die", then there is no reason.
Gentoo's TG group is even more interesting, their administrators call each other "big brother" and "giant brother", each talking about his own, as if isolated from the rest of the world in the "Huashan Jian". It's quite a feeling of a hero in his twilight! This circle is not a matter of whether you want to blend in or not, it is you they will not care about you, who are you? Are you an overseas student? No, then you should not speak. Yes, I have been afraid to speak in that group.
I was told that the circles are different, don't melt hard. The only purpose of the group is to rip. I added a Linux group to ask how to configure the SSL certificate after a hundred poisonous cases. An administrator came up and asked me "Do you know what is SSL protocol and do you know how the underlying encryption principle of HTTPS is implemented?" I was so scared that I rushed out of the group, but it turned out that I had to learn the principles of cryptography to configure SSL for Nginx. I thought I wouldn't know what he was talking about, but it didn't affect my configuration of SSL certificates in any way. You think he knows a lot, in fact, he does not know. There are also several groups called what "water cube" to ......
It is said that no one wants to engage in technology after 30 ...... I seem to have added a middle-aged technical group? It's a WeChat group about open source homebrew kernels. Yes, middle-aged and old people only use WeChat, that's my bias. In my opinion WeChat's anti-human design is not much less than Unity, Ubuntu's default desktop. I'm talking about middle-aged people, do you think they will discuss with you in the group about stupid issues like synchronization and asynchrony? They are concerned about the world! Day after day in the group of rumors is also a common thing. This circle is not whether you can blend in, but you simply do not want to blend in. Every day, the East family, the West family short. It's a sad state of affairs!
There are not too many groups about FreeBSD, you can search on QQ and see that there are only three or four that you want to add to. But if you go in the wrong direction and don't turn back, do you expect the earth to circle back? Some of the things I've learned about the FreeBSD group are described below.`},{header:"My Story with FreeBSD #7 - My Years with the Chairman",slug:"my-story-with-freebsd-7-my-years-with-the-chairman",content:`I met the chairman of the committee in the FreeBSD QQ group: the sky was still a bit hazy and there were not too many sunny days. In the words of the poet Du Fu, "When the flowers fall, I meet you again".
The chairman of the committee was studying at the University of Waterloo in Canada, and the Co-operative project of the University of Waterloo made the chairman of the committee a real person. At that time, I didn't envy him much, but now I don't envy him any more.
The committee chair is a doc committer, responsible for the revision and translation of documents. So the chairman of the committee in the QQ group recruiting troops to translate the Handbook manual is a matter of course. But often contrary to expectations, the chairman of the committee to engage in a set of translators more complex translation process, in general terms is to first create a project in Github, and then through the Issue to claim their own translation part, and finally through the pull application to merge the translated po translation text. For an experienced programmer this is not difficult, but for the average person synchronization to the local are a little hard, because Github directly under the 404, some areas and even http://github.com can not open, the reason we all know.
So my friend Mao Dogzi said he would not git, directly download po documents, after translation and then send QQ to the chairman of the committee can not? The chairman immediately said yes, so the hairy dog began his road to translation ......
Similarly, I also began my translation of the road, I translated what seems to be Xorg chapter. But the editor became a problem, so I ended up translating rather hard, and because I forgot to save it by changing the system to the computer, I lost my translated document. I wanted to continue the translation, but the commissioner's Github Issue marked me as Abandon, so I didn't continue ......
Hairy Dogzi also sent his translation to the chairman of the committee by QQ.
After a long time ...... about half a year, I thought they had translated the FreeBSD Handbook, but the chairman of the committee abandoned the whole project Abandon. Hairy Dogzi sent a QQ asking the chairman of the committee, who said there was no pull on github for Hairy Dogzi. Yes, the chairman of the committee and I both lost po files, the difference being that I lost mine and the chairman of the committee lost Hairy Dogzi's.
Years later I wanted to restart the translation of the FreeBSD Handbook manual, but it had to start with an editor ......
Po has only one editor for Windows, called Poedit, and the author is called Vslavik, and if I hadn't learned to swear in English, I would have educated him on what it means to be a human being. I crowdfunded in the group to buy a premium membership, originally intended to pay with Visa credit card, a look at Alipay ...... long time speechless ...... I withdrew the cash half a day not to say, but also by WeChat deducted a huge amount of fees.
I use Poedit pre-translation, that is, machine translation, he will not save the results of machine translation, so every time you open the need to pre-translation, and over time I suddenly can not pre-translation, I went to Vslavik, he said I have pre-translated tens of millions of words, with his software earned a lot of money and so on, I said this is your software is a bug, not my business, I am for open source software documentation translation I said it's your software that's buggy, not mine, I'm translating open source software documentation, I don't make any money. But Vslavik non-say I violated the user agreement, do not give me the solution, which I have to curse, English cursing will not, and then also that did not say anything. Instead of blaming Vslavik, the chairman of the committee came to bemoan me, which made me very ashamed.
Then I found that my translations could not make compile, po this document on the format requirements are too strict, one by one is impossible to change only rm -rf.
In 2020 I heard that the FreeBSD Handbook had a new online translation site at https://translate-dev.freebsd.org/ I submitted a request and was told in Chinese that I was welcome. I opened the backend and saw that the translation was at 99%, goodness, who translated it? I don't know, it's 99%. What else do I need to do? I sent an email to the person who welcomed me, and now half a year has passed and I haven't received any reply. Am I too realistic. But now Handbook is still the same ......
I have not seen the commissioner for a long time, once again borrowed a few lines of poetry from Mr. Du Fu ...... when a wine, heavy with fine papers.`}]},{path:"/chapter-19.-literary-stories/19.2-freebsd-and-cats-choosing-the-1.html",title:"19.2 FreeBSD and Cats - Choosing the 1% for Life",pathLocale:"/",contents:[{header:"19.2 FreeBSD and Cats - Choosing the 1% for Life",slug:"_19-2-freebsd-and-cats-choosing-the-1-for-life",content:`Many people think that FreeBSD is just an operating system, and extremely bad as a desktop. There is no denying the fact that FreeBSD is, and FreeBSD's little demon is its icon, representing the daemon and its fork.
To be honest, it's a bit ugly to my aesthetic. That's why we don't use it for any of our promotional icons, and use a more aesthetically pleasing alternative image.
Yesterday someone asked me what is the use of the public, can earn money, since it can not be widely promoted, and can not earn money, then what is the use? This is actually a difference in values caused by the different levels of needs of each person, we do not have to pay attention to. The previous article paragraph "pragmatic and retreat" I have said very clear, not to repeat. What a headache. The old adage, "Different wills are not friends, different paths are not ways," has been a source of deeper reflection over and over again.
What is FreeBSD? We all know that the iPhone uses iOS, the MacBook Pro uses macOS, our phones are Android, our computers are Windows xp/7/8/8.1/10, and probably computer science students have come across Linux. This is probably the only way more people will know what FreeBSD is. But FreeBSD is rarely installed directly on our phones, but more often on embedded devices, like routers, or servers.
And we know that the hardware needs to be supported by drivers in order to work, and that drivers are the bridge between software and hardware. For example, if you play games, you have to install drivers and update them according to the graphics card. Due to copyright and vendor support issues, FreeBSD only supports a very small number of hardware devices, or the performance of the support is very poor.
It's a dead-end cycle, similar to the current so-called domestic operating systems, lacking an ecosystem: users don't use it --> no need to develop it --> no support, how can users use it? --> use something else --> users don't use it
In fact, here we can see a company's corporate ethics and business foresight, most domestic companies are narrow-minded, lack of ethics, it is sad. A certain penguin once supported Linux for a few months, and then the building was empty, leaving a beta version empty. A bitch does not say that they update the progress, but rather that it is the users themselves why they have chosen to live in the 1%? On the contrary, most of the software of foreign companies support all platforms, and there is no system discrimination.
The choice is free and beyond reproach. In retrospect, many people questioned why they should use FreeBSD, the old clich\xE9, love it or not.
So what does it have to do with cats?
I don't know whose cat it is, but it looks like no one is feeding it, so I just gave it some buns. After that, I was afraid it would run away and kept it in a cage. But it never had the idea of slipping out when it was full.
When it was released, it had changed from a black cat to a flowered cat, mostly yellow and white, with a black forehead. We never give animals any names because we don't really understand what the point is.
This cat is probably one of the best cats I've ever seen because it's all I remember now, even the dog and rabbit or whatever I can't remember. I just remember waking up in the middle of the night one day and going out and seeing a hedgehog, so I just took a plastic bucket and snapped it on the land, thinking about it the next day. The next day I remembered that I should have put a few red bricks on the bucket. Since then I've been thinking, why didn't I put a brick on it? God willing, another hedgehog attempted to cross the aisle, I grabbed the balled up hedgehog, put it on the steel plate, buckled the bucket again, and added three or two bricks. This time it didn't run after all, hedgehogs have the cutest noses ever. However this species doesn't seem to like fostering, and it was released.
Cats are fond of sleeping, and he slept for a long time. Sometimes it's better to be a cat.
It is probably several years old. The only difference between it and a dog is its ability to escape the confines of the yard on it. He sits on the coal stove with his fur nearly on fire; he lies in front of the electric heater with his beard burnt. Probably its nose was not discolored by my pinching.
The cat does not usually bite, it only scratches with its claws. This is true of semi-domesticated animals. It rarely meowed and often put dead mice under the bed. I realized that this cat eats mice. I have always wanted to raise the cat a little fatter and better to hold, at least as much as a rabbit, but it loves the sun and loves to fly.
When it sees me, instead of licking me like a dog, it just opens its eyes, then closes them and continues to sleep peacefully.
This street are almost demolished, leaving half of the ruins and half of the stalls selling snacks. It's going to be demolished here too. This is a rented house, and I just remember to keep it inside. And I can't find it during the day. Have not seen the cat since then, and never had a cat.`}]},{path:"/chapter-19.-literary-stories/19.3-linux-and-the-philosophy-of-suffering.html",title:"19.3 Linux and the Philosophy of Suffering",pathLocale:"/",contents:[{header:"19.3 Linux and the Philosophy of Suffering",slug:"_19-3-linux-and-the-philosophy-of-suffering",content:`Among many rabid FreeBSD fans, they don't even allow people to write FreeBSD as freebsd, to emphasize with you that F and BSD are both capitalized. And say it's some kind of respect or something. There are four ways to write fennel for fennel beans in the same way that there are four ways to write fennel for fennel beans in the same way that there are four ways to write fennel for fennel beans in the same way that there are four ways to spell FreeBSD, you know? You know, "You can't write it? ...... I'll teach you, remember! 'FreeBSD', 'freeBSD', 'Freebsd', 'freebsd ' These words should be memorized. When you are a FreeBSD administrator in the future, you should use them when writing documentation."
I think it's a disease, to regulate others with your own requirements, at least the same as Confucius.
As soon as Fanatic Powder arrived at the store, all the people drinking looked at him and laughed, and some called out, "Fanatic Powder, you've got a new scar on your face!" He didn't answer, but said to the counter, "Warm two bowls of wine and ask for a plate of fennel beans." Then he discharged nine large pieces of money. They shouted again in a deliberately loud voice, "You must have lower-cased the word FreeBSD again!" The fanatic fan's eyes widened and said, "How can you smear someone's innocence ...... out of thin air like that?" "What innocence? I saw you spell out freebsd in lowercase in the group the day before yesterday, and you were hung up for ten minutes by the group owner and administrator." The fanatical fan then rose red face, forehead of the green tendons streak out, argued, "lowercase can not be considered wrong ...... special expressions! ...... reading people, can be counted wrong?" The next is difficult to understand words, what "people are not sage, who can not be wrong", what "special grammar" and so on, led to the crowd are laughing: the store inside and outside the air filled with happy.
After discussing these ridiculous case issues, let's talk about the philosophy of suffering that we used to talk about.
The company's main goal is to provide a solution to the problem of the problem. The first thing you need to do is to get a good idea of what you want to do. It's not freedom, it's bondage. This is the embodiment of the philosophy of misery through and through. The specific performance is to torture themselves, repeatedly build the wheel, do not respect reality. Those who say don't care what it is, first write a project, are such people, causing even greater sorrow. Is not respect the performance of software engineering, completely ignoring the user and market demand. Write something how others use, how to see? Bragging about what command line is better than graphical, what development cycle, adding a few boxes can affect the development cycle? It's all influenced by the philosophy of suffering, as if it's a great thing to go through some extra steps to achieve Windows-like functionality on UNIX. It's an interesting philosophy of suffering when someone can't even tell fcitx from rime and then tells me ibus is good.
How do you define the philosophy of suffering?
Building the wheel (meaninglessly repeating the work of others) and ignoring existing software development principles.
The idea that you can do it with A, but you have to bind yourself to do it with B by using some kind of arcane bullshit principle about meaningful values.
despise all software that uses the mouse and memorize vim keyboard diagrams.
So in retrospect, are users with WP phones also victims of the philosophy of suffering? Are users of Linux desktops and FreeBSD desktops also practitioners of the philosophy of suffering?
In a sense, yes, they are. Some people have to learn C under Linux, saying that it's better to understand how the IDE works, that preprocessing compiled assembly links is not intuitive under the IDE, and that they have to tinker with GCC. What is the use for beginners? Those are required for a compilation principles course, not C. As a programming language course, you can never extend its course content infinitely, and the purpose is different, what pointer such things in high-level language is almost invisible, boasting what better understanding of pointer and array implementation principles is the performance of the philosophy of suffering, is tantamount to dragon slaying. I still say that the compilation principle and introduction to algorithms is useless, most companies can not use, to have a position on their own, is moving the brick does not need to learn quantum mechanics. Unless only for hobby or academic purposes.
User needs determine the direction of software development, and the lack of commercial support for open source products often ignore it. It is also a philosophy of suffering to bind users with the GPL protocol. According to this view, using Windows is not a philosophy of suffering? I think people are not tools, and what should be a tool must be a tool.
I respect those who value it as a family friend and not as a tool, but please be aware that people are social, so please care more about others, no matter who they are.
More than once I've seen the phrase "more technical talk, no water", sometimes a variation of "have you written any projects?" Sometimes it's a variation of "Have you written any projects?", "Here's what you can do with it", "Try programming and finish ......". Sometimes it is even in English, a mixture of Chinese and English. I think this destroys the purity of the language.
So many computer industry or enthusiast circles have a special "water group", there is an organization with a more interesting name, called "water cube" to "water". What they consider "water" is not exactly related to computers or their subject matter, but sometimes just a random posting to show their authority.
"If you don't do it my way, we don't have a premise to communicate." That's their point. "There is a sequence of hearing and a specialization in the art", Han Yu's "Teacher's Discourse" elaborates on this, and the only difference between us and him is just time. These have absolutely nothing to do with talent or anything. It's not as complicated as building a rocket. So I don't think this rule, this rule of equal dialogue between two parties, is based on compliance with the rules that one party has first. Now there is this political term "political correctness" that has been introduced in the computer community to oppose this inherent rule.
What does technology have to do with this? What does it matter to me? Yes, as I said before, it is always assumed that these things are useless and that the best technology is the best. This is a reflection of the lack of humanism. These useless things are not because they are really useless, but so useful that they don't know how to use them. Thus, they are considered metaphysical. The connection is universal.
Linus says it hasn't changed, the Linux community has gotten dirty. It is said that "the strong make the rules and the weak can only follow them", but were the strongest the strongest to begin with? What is the point of being strong? I think that the strong have a greater responsibility to develop innovations. Otherwise, it is no different from social Darwinism - "the survival of the fittest". This is extremely incorrect and, moreover, disrespects the spirit of science. How can the conclusions of the natural sciences be falsified without verification, and then pressed to the social sciences? If it is all "competition", then why to build what "harmonious society", why the Nobel Peace Prize to "to promote the unity and friendship of the nation-state, the abolition or reduction of armaments, and for the organization and promotion of the peace conference Why should the Nobel Peace Prize be awarded to "the person who has made the greatest effort or contribution to the organization and promotion of the peace conference"? It's not just a direct fight, you said it yourself, who is strong who on. The computer industry is also very simple, as well as according to this routine, who has the highest technology who has the most money, who has the say, who is respected in the community. Obviously not. Does anyone remember Dennis Ritchie, who died in the same month as Steve Jobs? Everyone's choice is free, and you are perfectly free to quit organizations whose rules you do not want or have the ability to change. It's like Funtoo Linux is to the Gentoo Linux community.
I try very hard not to make my organization this kind of thing. I give people more choices and I stick to my principles.
Back to the question of what "water" means. We all know the truth: "The more people in a group or organization, the closer it is to the social average." Like Zhihu Douban and even B station have encountered the commercialization of the dilemma. The current users hardly give them much commercial value at all, while the expansion will reduce their professional standards and user atmosphere. So how do you allow people to join and not affect such things? Unless the other person is at a higher level, so what meaningful thing can they get by joining? That's why we prefer newcomers. Not a stubborn old programmer who even wants you to call him "uncle". This is obviously not a circle of people. You talk to him about life, he talks to you about age, you talk to him about technology, he talks to you about experience, you talk to him about projects, he talks to you about salary. We must have this awareness, talk about technology to have to take something, but do not have to be strange goods.
Some people have pulled these away, that it depends entirely on the "people". This is not true, the reason why the feudal system has lasted so long, lies in such a system or sets of systems. \u2460 centralized power \u2461 franchise system \u2462 imperial examination system \u2463 ideological dictatorship. This is completely dependent on people? It is the West whose rule of law has a long history. No one can talk about technology out of life. Nowadays, there are hardly any so-called "truth seekers". There are no more people like Yan Hui who forget their worries and have fun. It's still about survival, isn't it? I don't understand the difference between people who talk about blockchain, big data, artificial intelligence and the old Confucian who talked about Mencius ruling the country and Confucius educating people in ancient times. I'm afraid they are also a Confucian. The "F" and "BSD" in "FreeBSD" should be capitalized, otherwise there are four ways to write it. You should learn to strike, and use it in the future when doing operations and maintenance.
Some beginners are also very funny, also talk about "do not water", they came in originally is the "water" process. The more people, the lower the level of professional organization. I try to change this situation. Or the old saying, one heart and one mind, we do not think the same, there is no need to waste time. Someone also wrote a book for newbies called "The Art of Asking Questions", or just read fuck. admittedly I recognize that not everyone is as educated as Confucius. But I am still willing to give more help, because, at one time, everyone was.
Lastly, I would like to advise readers not to use a hundred poisons, but to make good use of Google, Duckduckgo and so on. This is also a prerequisite for you to be able to read this article, otherwise you are unlikely to clearly understand what I mean. I recognize that the reader's own reading comprehension is a re-creation of the work, but here please make sure not to.
What is the philosophy of suffering? I did not make up this term, but it actually exists, and in all my years in academia I have seen many places that are filled with the philosophy of suffering and the members that make up those places and the software they develop.
Software engineering, an industrial approach to standardize and streamline software development to make it more efficient.
The first step in software engineering is user requirements analysis, the source of most suffering is to ignore this step, always think that "write" code is the most important, and "algorithm" is the most important of its touted, so write documents, user requirements analysis and so on, and themselves do not have much to do with. Just write the code yourself, is there anyone using it? Build the wheel? That is not a problem I need to consider, ignoring science, not respecting science is an important root cause of the philosophy of suffering.
Some people think that they are doing kernel development is very powerful, but in fact, it is just the same.
It's fascinating to see people who don't even know that the Linux kernel is not completely open source (see the GNU Linux-libre project, a completely open source linux kernel), who think that the kernel is completely open source, and who say things like "if it's not open source, how did I compile it? I have seen many of these proud people at both USTC and TUNA, or rather all of them. I have no comment on this. They are people who are poisoned by the philosophy of suffering.
The quality of open source software is often poor, with all kinds of problems, even very easy to find. Take the GUI ZenmapGUI, there are at least two important bugs: one is that it is often impossible to enter any text in the input box, and it is not related to the input method keyboard (the problem is repeated on multiple computers); the second is that when switching the scan window, the log of the scan input is cleared and the log cannot be found. So I'm curious whether these people have used the software they developed themselves or not, because all those who have used it have this problem. Wouldn't this be considered an affliction? (Bugs have been reported but not responded to.) The reasons are human and financial, the developers are of different levels and have limited ability, and the second is that they have their own jobs and can't be distracted too much.
Simple bugs like this can be found everywhere. For example, when installing Debian, if you create a normal user, you will not succeed with su or sudo su because it does not change the sudo configuration file (the line ALL=(ALL) should be added). Although it is only one line, but enough to bother newcomers, on the contrary, windows will never have this problem, blue screen reboot you are most likely to be able to boot, but kernel panic how to do it? I think the reboot is useless. Is it a technical problem? It is that it does not care about these problems.
So the question arises whether to translate the FreeBSD Handbook documentation, what is the significance of the problem, and of course the lack of manpower is the main reason for the various excuses. What will be translated is not necessary, and what will not be translated is useless, or not.
Computer philosophy does not have a completely unified theoretical system at present. Computationalism is a major mainstream, from the Pythagorean school, which believes that the number is the original of everything, the number is the harmony and unity of the beauty of things that make up the world.
Computationalism is implicit in The Matrix: how can we prove that we really exist and not a digital signal simulated by a computer?
The philosophy of suffering looks like just a way of behaving, such as installing VIM on the Windows platform and claiming that it is 10,000 times better than Notepad. But otherwise, the philosophy of suffering only manifests itself through these behaviors, and its roots require further critical thought.
Many open source will not understand what is open source but talk about open source.
"Why don't you use LaTeX to write a novel, and why do you use Word?"
"Why do you say LibreOffice is not compatible with Word, and why don't you say MS Word is not compatible with LibreOffice?"
"Free and Software Foundation's 'Free' means free, no money."
"Why don't you use GIMP and go use PS."
All of the above is a series of jokes I've seen. Does he himself say that those things have usability?
Elementary school students say libreOffice is good, so I went to install a, not to mention the anti-human interface design, let's say he crashed 3 times in 10 minutes, even before the crash editing records are not, "this thing is also a human can use?" I could not help but sigh. He doesn't even have a small two-by-four font, only something like 12345678. This thing first line indent settings are difficult enough, are centimeters to units, and the first line indent does not adjust with the paragraph text adjustment. This certainly implements the open source philosophy of anti-humanity.
Pupils say LaTeX is good, I read half a day did not find for a text worker what is good for this thing.
Elementary school students say GIMP is better than PS is even more nonsense.
Students say Free is free is even more fallacious, Free is free, not free, that is, open source is allowed to charge, Microsoft's open source model is such. Microsoft is not in fact closed source, it is conditional open source, provided that a certain number of copies of Windows are purchased, and for good reason. There are people who say that Windows is closed source, which means that this person not only does not know Windows, but also does not know what open source is. If you don't believe me, take a look at https://www.microsoft.com/en-us/sharedsource/enterprise-source-licensing-program.aspx
Saying that he is a schoolboy is an insult to schoolchildren, which is just a cerebral palsy. This is the philosophy of suffering abbreviation idle nothing to do, in that build the wheel.
This kind of person is even more disgusting than the tycoon who not only has no skills, but also hangs around there with half a bottle of water.
His example of Windows seems to be useless, but is it?
Of course not.
Take for example the NTFS file system, a file system that Linux has never been able to do in its lifetime. This file system is far more stable than the so-called what xfs ext, not to mention btrfs, that is a joke. As for zfs, this file system is even funnier, designed to only expand the file partition, can not shrink.
NTFS no matter how you accidentally power off he can boot smoothly, in contrast Ext this kind of thing is no reliability to speak of.
The most important thing that they ignore is the compatibility of Windows.
Windows 11 of the 2021 era can even run 26-year-old windows 95 programs, and even more, without recompiling the source code.
This is something that no Linux system can do, and they are not even compatible with programs that are a few days old.
Their programs depend on specific C libraries, on specific kernel versions. Even Gentoo is not an arbitrary choice. That's a joke.
And people say that Linux software doesn't need compatibility, hahahahaha, look how ridiculous these open source kids are!
Don't mention Macos, that's Apple's strategic incompatibility, and he can be compatible if he wants to be, old software has old behavior, new software has new behavior.
Xorg and his so-called replacement wayland are two mountains of shit.
Open source software is fundamentally against software engineering, because the first step is not to design for user requirements, they don't care whether the user can read LibreOffice or not, they don't care whether you can compile the program or not.
These students do not even have the above points of common sense to come out of the half-bottle wobbling, jingle bells banging.`}]},{path:"/chapter-19.-literary-stories/19.4-from-an-idea-to-see-if-freebsd-is-commercial-or-collegial.html",title:"19.4 From an idea to see if FreeBSD is commercial or collegiate",pathLocale:"/",contents:[{header:"19.4 From an idea to see if FreeBSD is commercial or collegiate",slug:"_19-4-from-an-idea-to-see-if-freebsd-is-commercial-or-collegiate",content:`I read a post on a well-known computer networking forum about how I wanted to make a mobile terminal operating system based on FreeBSD, just like Android, Apple's IOS.
It is impossible to think backwards that FreeBSD was not considered when Android was first developed, because FreeBSD is better than Linux in terms of both code quality and BSD protocols, which is the view of some people; others think that FreeBSD is made at best like Android, and that the driver problem cannot be solved in the first place; others start from the technical side, saying that xorg is hindering its Although the virtual machine has been removed, the performance will be improved, but the number of developers who will FreeBSD is very small; more people advise it to get down to earth, this does not make any money at all.
But as I understand it, FreeBSD is mainly due to the lack of large commercial companies to support its services. Because we all know that open source products are generally profitable by selling services rather than the software itself. According to the GPL agreement, the source code is available, just recompile it, just like the relationship between RHEL and CentOS, Scientific Linux. So over time it has become a vicious circle. However, there is a large part of the FreeBSD user community that believes that the BSD agreement has prevented its development, because under the two-pronged agreement, modified products can be made available without open source, for a fee. But these ideas are also incorrect; look specifically at Apple and FreeBSD, and the many commercial giants in handbook that use FreeBSD services, to see that going back to source code is more likely to save companies money and is a mutually reinforcing relationship.
FreeBSD's support for ARM sucks, but isn't the arm instruction set for mobile terminals now? Can it still be MIPS? That said, I really hope that FreeBSD can support the Dragon Core processor. FreeBSD's embedded development is by no means a matter of neutering the kernel, adding a few phone calls and texting software, but the difficulty is close to starting from zero.
In fact, not only FreeBSD's embedded development, Linux's process is also roughly the same, Ubuntu Phone, FireFox OS, Windows Phone are all failed products that want to migrate from their PC side to embedded devices.
In fact, more people are emphasizing the risk and avoiding it. Someone spoke at the graduation ceremony of a famous university in China and said that one should believe in the existence of fairness and justice in society and the existence of true academics.
It may be true that someone believed, but what was given to him would eventually be the sound of getting together to clink glasses years later. What the land really lacks is is that seed she said was never there. In the same way, traveling alone without friends is a loneliness at the deepest level.
We truly bless those who have dreams and are willing to do it, and sympathize with those ordinary students who are shackled by reality and cannot move forward, but pray more that you, each individual, value yourself more and just be happy.
As for FreeBSD, I always look at it as a tool, tool attributes are its basic attributes, maybe before it is a toy, is something else, but I value people more. See to do embedded, just waiting for the Raspberry Pi 4, and that's all, Broadcom's processors and wireless devices are very annoying, not open source at all, but also to do this open source devices, resulting in driver problems.`}]},{path:"/chapter-19.-literary-stories/19.5-the-linux-community-has-become-a-dirty-quagmire.html",title:"19.5 The Linux community has become a dirty quagmire",pathLocale:"/",contents:[{header:"19.5 The Linux community has become a dirty quagmire",slug:"_19-5-the-linux-community-has-become-a-dirty-quagmire",content:`The title quote is from Linus Torvalds, the chief maintainer of the Linux kernel and father of Linux. The original quote is "The Linux community is now a dirty quagmire".
This phrase is not just used in kernel development, but in all phases of Linux, including and not limited to the various Linux community organizations in China. This article focuses on the latter. As for the Linux kernel, systemd, Code of Conduct, and all those other controversial issues, it is a puddle of mud.
I have to admit that most of the Linux communities in China, one or the other, are dominated by the so-called tycoon. They look fancy and pretty, and actually make their Linux community into an illusory organization where only the tycoon speak, without any real role. Do you see any new people in your group who dare to speak?
I'm not going to explain what a tycoon is, those who know know know.
The Linux community we all want is like this: "We all know that newcomers are indeed very rookie, also like to complain, and with a strong Windows habit, but since we ask here, we should have the responsibility to help them solve the problem, rather than directly throw cold water, simply deny or publish a post that does not help solve the problem. Sharing and putting people first, that's the spirit of Ubuntu."
Have the tycoon forgotten these words? I don't deny that some questions are stupid, like how to uninstall software from apt. Because such problems can often be solved by search engines.
But what about the truth?
"Please ask the big guys, how should I configure the HTTPS certificate, I have checked the search engines are incorrect."
"Do you understand HTTP principles?"
-- The above was personally experienced in the official QQ group of Linux.cn, and was also answered by an administrator.
"Has anyone ever used FreeBSD?"
"What do you want to ask, just fart", "Don't pay attention to him, he's rude"
"I'm just asking and no one is using it, why is it a problem with politeness?"
--The above happened in USTC's TG group.
"Tycoon, have you finished writing your paper?"
"I haven't finished it yet, tycoon."
"Tycoon is awesome!"
--The above happened in the USTC QQ group.
"People who can't climb the wall are animals, they are worse than dogs and pigs. They only eat shit."
--The above happened in the Gentoo Chinese community QQ group announcement.
"Don't ask, see if anyone cares about you?"
--The above happened in the RockyLinux Chinese group QQ group.
ipxe isn't a priority at the moment.
We need many more mirrors around the world in more countries for that to be useful.
Considering most people don't network boot from their personal notebooks/desktops, I call bullshit.
Network booting is typical in data centers and large enterprises.
omg bro you're trying so hard to put your malware inside artix.
You can't audit it.
You and your images are not part of our infrastructure.
Which means we have no control over it and therefore cannot stand behind it.
As long as you don't share it here, you're are fine.
It is unofficial and potentially very dangerous.
i see,i think they force me to talk about bedrock.
Again, your response has nothing to do with the conversation...
your translator is pure shit.
What is the point having those in the repo?, one cannot use them.
-- The above happened in telegram @artixlinux group.
Some people may say that there is no evidence of isolation, but are the above 6 examples enough? And as you can see, it has nothing to do with the time the community was founded and the number of people, the RockyLinux group was founded less than a year ago and the number of people is less than 100.
So I have to ask, who is the real beast? It is obvious that these tycoon are no good. If there is a problem, he is not there, and as soon as he starts bragging about it, he comes out. Hello everyone, I'm good, blowing each other big brother, mutual support giant tycoon.
The only role as an administrator in the group is to fight and brag. This is their only role. They will be these look like they are very powerful ah! You all can't work! I will, you little trash!
So what is the purpose of your group? To make it easier for you big guys to call each other "big guys"? Those really big people will be in a group to brush up their presence? You can shut up if you don't help others, just leave a place for the good guys. Don't waste the good guy's place.
It's the real crap that's soiling the Linux community. It's the UNIX philosophy that is defiled.
All they do is brag and contribute nothing to the community. The author at least translates the gentoo wiki, but what do these giants who call each other giants do? What do these so-called giants do? Beat up newcomers and brag about their "pride"?
These so-called giants have the appearance of years of ugly daughters-in-law, and when they become mothers-in-law they start to squeeze their daughters-in-law like crazy. This is really funny.
According to Shen Teng's skit is "you do not help to the good guys to give a place, you are not how awesome, the earth is missing you can not turn".
He has a little power, but he has to play him to the limit. It was these "animals" who held the upper echelons of the Linux community for so long that led to today's decline. They have divided up almost all the Linux organizations in the country, so that newcomers are like entering a wolf's den.
At the same time, I would like to advise those newcomers who still want to join a certain Linux organization that these tycoon generally have a monopoly on the best educational resources and have written a bunch of useless programs that create wheels. In fact, there is no place for anyone else to speak in the group, it is the "animals" who rule the Linux community together with the initiator.
They do not only contribute nothing, but also persecute newcomers and kill people, as is common! They cut the Linux community and the newcomers with their invisible sharp ground.
You want to fight back? No way! You can either be forced to call him a giant and be insulted by him, or you can stand on your own feet and learn on your own. That's the extent of their privilege, that's the extent of their arrogance.
A large number of tycoon have taken over the Linux community, the community. The whole Linux open source community has been polluted by them. It's hopeless. They are very knowledgeable, but they do nothing but evil and contribute nothing to the community.
What about the administrators of these so-called self-proclaimed Linux domestic communities? They look down on people who don't have ladders and can't climb walls, and they look down on people who use Ubuntu, forming a whole chain of contempt.
I still don't understand the philosophy of suffering of these giants, who like to create wheels to fool the newcomers, not to install KDE, Gnome and other complete desktop environment, but to get some fvvm window manager. They like to make the newcomers to install KDE, Gnome and other complete desktop environment, but to get fvvm window manager. I don't think so, it's just a philosophy of suffering.
I still don't understand what is the point of bragging about a system that is less stable than Ubuntu. But these so-called tycoon love these infamous things.
It seems that they are the ones who hold the keys to heaven and the world, so it's not new that they control the whole Linux group. It's your fault if you don't get down on your knees and call him a giant!
So what do we want to emphasize? Is the emphasis on antagonizing the Linux world? Are these people only present in the Linux community? Quite the opposite. That is, not really. You can compare the Farscape forums with the Black Apple forums abroad.
The fact is that these tycoon are everywhere, it's just that the Linux community is in a more serious state.
For the author himself, it is these giant tycoon in FreeBSD groups under the name of administrators that make it possible for the author to create a community of his own, a community that he leads.
A person who posts bits and pieces of kernel analysis in some FreeBSD group every day is not there to share his tutorials for the benefit of others, nor is he posting them incompletely: it seems like a college student posting a differential geometry topic in a QQ group of elementary school students. He is not trying to teach you advanced mathematics, but to show his noble status.
Tycoon is everywhere and has penetrated the whole computer world, what should we do and what can we do?`}]},{path:"/chapter-19.-literary-stories/19.6-linux-is-lost-refuting-the-great-freebsd-defeat.html",title:"19.6 Linux Defeat - Refuting the Great FreeBSD Defeat",pathLocale:"/",contents:[{header:"19.6 Linux Defeat - Refuting the Great FreeBSD Defeat",slug:"_19-6-linux-defeat-refuting-the-great-freebsd-defeat",content:`I suggest reading the original article first: The Great FreeBSD Defeat Readers of my previous article "The Linux Community Has Become a Dirty Quagmire" and my previous article "Linux and the Philosophy of Suffering" know that Linux is filled with an unspeakable sense of pride, from the developers to the community and even the users. It was as if they were the true descendants of UNIX, the only truth in the open source world, and that whoever owned Linux, whoever knew Linux, would have the right to speak.
After more than 30 years, things have changed, and Linux has come to this point, which is a dislocation in any sense.
Wang Yin wrote an article on Linux - working exclusively with Linux - and then posted an article on Linux - talking about Linux, Windows and Mac. The misalignment will be corrected later. Linux is no different.
Arch Linux users are constantly touting the beauty of Arch Linux. Nano, Vi, all rely on Glibc, and not updating means you can't use the basics, and you are forced to update, and they don't care if it causes your system to crash - I can't give you a blue screen anyway. I don't know if the authors of these Arch Linux persuasion articles will be as honest about their misplaced position as Wang Yin was years later. I don't know if the authors of these Linux persuasion articles will be able to honestly admit their misalignment years later, just like Wang Yin.
It's hard to paint a tiger with a dragon, like the emperor's new clothes. Starting with imitation, no matter how you look at it, Linux is doomed.`},{header:"01 The GPL is a success, and the GPL is a failure",slug:"_01-the-gpl-is-a-success-and-the-gpl-is-a-failure",content:`GPL license brings people the most feeling not "free" but "contagious" and "infected", as if GPL is a plague that will bring disaster wherever it spreads. It seems that the GPL is a plague that will bring disaster wherever it spreads. And it seems that there are few people who misunderstand it, that GPL is not "free", but closer to "libre". Nor does it mean that your code will be 100% open-sourced and given back to the GPL. A famous example of this is Boox, an Eink ecosystem company that uses GPL code but does not open source it.
The reason FreeBSD is drawing a line in the sand with the GPL is because the GPL is getting in the way of FreeBSD's development goals - One of the ongoing goals for the FreeBSD base system is a migration to modern, copyfree or at least more permissively licensed components. One of the ongoing goals for the FreeBSD base system is a migration to modern, copyfree or at least more permissively licensed components.
If anyone is saying that BSDL can be abused by large companies, then Anti-996L is the best license, and never the GPL. Because any license can be abused (except Anti-996L). Anti-996L is the best, most excellent license in the world. It guarantees that your code will not be abused by any company - because no company will dare to use it.
Apple has reused a lot of FreeBSD code, and has also funded its development of LLVM, as have Intel and Netflix.
Being "used" is not necessarily a bad thing. After all, only things that have no value are not exploited, and only "hello world" code that has no use is not abused. This is what Zhuangzi called "useless use is a great use".
Although we have seen many developers delete libraries and run away due to project abuse, the matter also works both ways. Open source developers put Christmas eggs in their code, and commercial companies and the people who "use" them pay the price - whether it's getting fired or being questioned about who ate your button.
Thanks to the GPL, one CentOS goes down, millions of XXOS rise up, and as you can see, tutorials will be more complex and less universal from now on. Si Feng, who previously wrote an article attacking CentOS, said "CentOS: always stay away from it" - if you have to choose a Linux distribution for your server (assuming you don't consider other non-Linux systems like (https://feng.si/posts/2019/07/centos-the-last- Linux -distro-you-should-ever-consider/) and many people criticized him at the time for being ridiculous. But now it seems that it is not certain who is ridiculous. Now look at the replies under that article, I wonder if the words are still there, where is the man? I'm going to follow his example and say something like - " Linux: always stay as far away from it as you can".`},{header:'02 "Is Linux really a good thing"',slug:"_02-is-linux-really-a-good-thing",content:`Linux is really in a good time, in fact Linux is not related to GUN, GNU project has always rejected Linux, they want to have their own operating system or kernel, they call it - GNU Hurd. ......
Linux distributions are just a bunch of GNU tools + package managers + Linux kernels in a loose operating system (the first two are generally referred to as "Userland"). Everyone maintains their own, just like Ubuntu rarely gives back to the upstream community, which proves that the GPL license is indeed inferior to Anti-996L.
GNU Hurd is misplaced, and Linux is taking over all developers' computers, just like the broken window effect, if those windows aren't fixed, more windows will probably be broken by vandals. More and more developers are going to Linux instead of GNU Hurd, and it can be said that "all the good stuff is going to Linux", but is Linux, which is the best of development, a good thing? The answer seems to be yes, but it is not.
Hardware-wise, Linux's GPL hinders hardware compatibility expansion (how did they solve this problem?) There are still many users who think that Linux is fully open source, and they think - how can I compile it without open source? So what does the "Linux -libre" project (https://www.fsfla.org/ikiwiki/selibre/Linux-libre/) remove? -- Linux , the kernel developed and distributed by Linus Torvalds et al, contains non-Free Software, i.e., software that does Even after allegedly moving all firmware to a separate project as of the end of the year, it is not possible to install additional non-Free Software that it doesn't contain. Even after allegedly moving all firmware to a separate project as of release 4.14, Linux so-called "sources" published by Mr Torvalds still contain non-Free firmware disguised as Linux, the kernel developed and released by Linus Torvalds and others, contains non-free software, i.e. software that does not respect your basic freedoms, and it induces you to install additional non-free software that it does not contain. Even after allegedly moving all firmware to a separate project starting with version 4.14, the so-called "source code" of Linux released by Mr. Linus still contains non-free firmware disguised as source code.
Software-wise, Linux does have a large number of packages, even more than Windows, which has a positive impact to some extent, but a more negative one. There are a lot of developers who do not maintain their projects very well, because their GPL does not serve as any guarantee and the developers are not under any obligation to provide any guarantee for the software. You want to add a screenshot feature to an IM software because similar Windows IM software (e.g. QQ, WeChat) has this feature and it's important. But the developer will tell you, you can use other software to take a screenshot and copy it in; or say we are GPL, you can see the source code, you can change it yourself, you can't change it, that's your own problem, we have nothing to do with it. You can report bugs all you want, but we can simply say "No".
In terms of security, OpenBSD has removed the Linux compatibility layer and its common software "sudo" in order to improve its security. Linus has previously attacked the OpenBSD crowd as a bunch of masturbating monkeys and considered them to be toys. People still don't know about the relationship between SELinux and the FBI all those years ago (SELinux (Security-Enhanced Linux ) was developed by the NSA). Well, yes, it's also a GPL software, "You think there's a problem you can go look at the source code yourself! and point it out to us." But what more people don't know is that Windows open source is meaningless, dozens of terabytes of source code, whether he is open source or not is the same for what it means - you can neither read nor finish it, it is the same as not open source.`},{header:"03 The commercial layout of Linux",slug:"_03-the-commercial-layout-of-linux",content:`Linux users, or those who use the so-called "community and open source" versions of Linux with commercial distributions, are not fundamentally different from the "mice" they deride as Insider. The so-called commercial layout of Linux is to expose more users to the philosophy of suffering and to a software that is not perfect and unstable at all.
The commercial version of Wine is called Crossover, which is distributed by the famous "Suzhou Sijie Mark Ding", an open source software that emulates Windows programs on UNIX-like operating systems, and is the peak of the suffering philosophy. Crossover, on the other hand, has used open source as a testing template to gain a wealth of experience to improve their own programs. A similar famous operating system is Fedora, the community version of RHEL, the open source version.
These GPL software is always at risk of closed source, but they also said that GPL allows Fork, so there are many copies of Kui - the plum. For example, Mysql vs MariaDB, Rcoky Linux vs CentOS, OpenJDK vs OracleJDK ...... So which one should I use? You don't know, because GPL software prevents you from abusing him. Do commercial companies really want to live and work with open source software? The answer is no, they just don't have a better choice, see how Apple looks at GCC after using LLVM. more and more commercial companies are recognizing this reality.
The business layout of Linux is to let users test their software for free, then make money, "give back" to the community to continue to let users test their software for free, and finally the users will be very grateful for the contribution of these companies to their open source business. What the users get is a software full of suffering philosophy, and nothing else. In their parlance, this is also called "exploitation".`},{header:'04 The "Great Dictator" is not necessarily a good thing',slug:"_04-the-great-dictator-is-not-necessarily-a-good-thing",content:`It is well known that the Linux kernel is developed under the sole responsibility of Linus. We still don't know when dictatorship has become a commendable thing. Or maybe they think that if the project goes well and Linus chooses a successor, the Linux kernel will be like the Chinese Emperor Qin Shi Huang wanted it to be - ordained to live forever. They brand everyone who disagrees as "leftists" and label them as such, and no one tells you that those days are over?
The Linux community is the same as their development style, full of tycoon who say one thing and no one else does. If you want to ask what the Linux development model is and what their community is - look at Baidu's postings: there are five or six people who claim to represent their fellow bar members but contribute nothing at all, running around trying to unite and unite to overthrow the existing bar owners; there is one who claims that the bar is his own private property and that the bar owner has to be his own clown for all generations; and there is another who is a regular bar owner. There is also a fixed bar favorite, but never recognizes his own identity, and is still saying that others are clamoring for attention; the rest are onlookers who are just lying around.
The Linux community is, as Linus says, a dirty quagmire, and anyone who tries to debate these people and try to disprove them will be brought down to the same level of intelligence and watch as he beats you with his vast experience.
Linux itself has been cursed out by more than a few developers whose Code of Conduct (CoC) is the same with or without it. Similarly what would GNU do without Richard Matthew Stallman? As it is now?`},{header:"05 Linux is not getting any younger",slug:"_05-linux-is-not-getting-any-younger",content:`We all know that quoting any famous person doesn't add one iota of validity to your argument.
The aforementioned GNU Hurd was indeed designed to be a very good microkernel operating system. But it was a missed opportunity that led more developers into the Linux quagmire.
Linux has been packaged by countless people as a great product of the GNU Project, a great product of the GPL, a great product of the Linus dictatorship. No one can criticize it for any reason, except Linus himself. The truth is that it is the emperor's new clothes, and you want to lift the shiny coat of Linux to get a glimpse of what is inside, only to find that Linux is not wearing any clothes at all on the outside.
Before bashing the FreeBSD community, please look at the quagmire that is the Linux community, it's not a case of "50 steps forward, 100 steps back", it's a case of "big brother, no brother". Readers here can move on to a previous article - "The Linux community has become a dirty mud puddle". The Linux community, the philosophy of suffering, is the most unqualified to say that other people's communities are dirty and filthy - they talk about RTFM every day. no one dares to say anything about the Linux community, no one dares to say anything, and they are left to trample, to slander, to destroy other communities.
The Linux community is not what it was back then - we all know that newcomers are really new and like to complain and have a strong Windows habit, but since we are here to ask, we should have the responsibility to help them solve their problems instead of just throwing cold water, simply dismissing or posting posts that don't help in any way to solve the problem. We should not just throw cold water, simply deny or post posts that do not help. Sharing and putting people first is what Ubuntu is all about.
They'll call those problems "Nikkei" and move you out of their community. Of course you have to admit that some people don't listen: you tell them four times, post various forms of tutorials (both pictures and videos and text), they say they did it from the documentation, you look at them and tell them to post pictures. "That's what you got for doing it? The configuration file did not change a word," he changed the normal operation, and will not say thank you, and then continue to ask some "Nikkei" questions, you then back to him, he will say that you "finger-pointing", will not guide people only If you get back to him, he will say that you are "telling people what to do", that you can't guide them, that you just let them read the documentation, that you are preventing people from teaching them, and that you are posting in the Linux community that there is something wrong with the FreeBSD community. But they tend to get warm and fuzzy, thinking that the other person is right and that they are 100% correct. Then they celebrate each other and call each other brothers.
You tell him that the "lib32" compatibility layer is very important, and that the latter cannot be installed, so you must choose now. He will tell you "I just don't use the garbage 32-bit, I just want to use the pure 64-bit system, it's my own business if I can't press it, it's none of your business", "Since you know all that, why do you still come to ask some questions? . These people have no right to complain about the FreeBSD community, they don't even have the lowest level of quality, they are only worthy of being in the muddy Linux community, it is the Linux community that has created this perverted mentality of their deformed personalities - neither the questioner nor the answerer can see anyone.
There are countless absurdities related to Linux. The Linux community was stirred up by the systemd vs. SysV init debate. systemd tried to take over everything - networking, logging, disk management, boot, clock, power, Cron, locale ...... And then it created a split in the major distributions, albeit a very split one. Not to mention the aforementioned how things like SELinux got into the Linux kernel. Red Hat - the commercial layout of Linux that they are so proud of is taking control of the entire Linux landscape one step at a time. Linux is becoming more and more of a tool, and the toy-like Linux that was once young and fun is long gone.`},{header:"06 The dragon slayer finally becomes the evil dragon",slug:"_06-the-dragon-slayer-finally-becomes-the-evil-dragon",content:`Wer mit Ungeheuern k\xE4mpft, mag zusehn, dass er nicht dabei zum Ungeheuer wird. Und wenn du lange in einen Abgrund blickst, blickt der Abgrund auch in dich hinein. If you wrestle too long with the dragon, you will become an evil dragon yourself; when you gaze into the abyss, the abyss gazes at you.
--Friedrich Wilhelm Nietzsche
Linux defeated a series of operating systems: GNU Hurd, FreeBSD, OpenBSD, and a bunch of other BSDs, beat Windows server, MacOS in the server space, and gave rise to Android in the mobile platform.
The development of Linux looks like a victory for the GPL, a victory for the Linus dictatorship, a victory for the open source community, and a victory for the commercial layout of Linux.
Is this really the case? Is it the emperor's new clothes or the broken window theory?
The new will replace the old, the metabolism of everything, and Linux will not last forever, and one day there will be a better operating system to replace it. This is the basic law of how things work, it's inevitable, and all these people are doing is extending the life of Linux. Linux, which seems to be thriving, is already dying.
Linux is a lost cause.
It's just that no one wants to unveil the emperor's new clothes.
The dragon slayer has become the dragon - Linux and the GPL are holding back more and more new technologies. They are forcing people to spend a lot of money and effort to maintain a mountain of code - every mistake, I'm talking about you: GCC, Xorg, and its so-called replacement, Wayland.`},{header:"07 Conclusion",slug:"_07-conclusion",content:`Linux is on its last legs, and it would be wise to leave the GPL and choose Anti-996L as soon as possible.
Of course, no matter if Linux is the emperor's new clothes or not, and no matter how much of a philosophy of suffering it is, it brings a choice to the world, and the times make the heroes.
The version number of the Linux kernel has been brushed up to 5.17-rc5, so maybe there will be 6.17-rc5, 7.17-rc5, 8.17-rc5 ......
But Linux is a lost cause, and no one can save it. All we can do is try to use him for as many things as possible and finally use Linux for the rest of his life.`}]},{path:"/chapter-19.-literary-stories/19.7-fiction-freebsd-from-getting-started-to-running.html",title:"19.7 A Novel - FreeBSD from Getting Started to Running",pathLocale:"/",contents:[{header:"19.7 A Novel - FreeBSD from Getting Started to Running",slug:"_19-7-a-novel-freebsd-from-getting-started-to-running",content:""},{header:"Chapter 1: Universities and Bazaars and Cathedrals",slug:"chapter-1-universities-and-bazaars-and-cathedrals",content:`Eric S. Raymond wrote a book called Cathedrals and Bazaars that deals with important theoretical and practical applications of the open source movement.
At the moment, this is the book that Hongkai Zhang is reading. At that time, in the library, the book was padded under the leg of a circular table, and it was he who rescued it
Except for the torn cover and twisted spine, it was still barely readable. Before that, Zhang Hongkai was studying international economics and trade, and had never been exposed to computers, let alone knowing what the open source movement was.
Zhang Hongkai learned about the magical internet from middle school, and his grades have fallen so much since then that he even scored only 9 points in middle school math once, but of course, his highest score was only 5 points more than passing. He was able to get into college, according to his own words, it was a miracle. Even in the college entrance exam, he only scored 74 in math. He had to go to an ordinary second-grade school, Qingcheng Teachers College.
Qingcheng Teachers College, located in Qingcheng City, is the confluence of seven rivers and eight roads, founded in the Republic of 20 whole, although a long history, but to a hundred years later, is still just a "college".
There is an upside to the book's dirtiness: when Zhang Hongkai told the librarian about it, the volunteer student reported to the teacher and told him, "Please help throw it away, thank you!"
Instead of putting the book into the bin of recyclables, Zhang Hongkai shook his hand a few times and wiped it with his hand, intending to take it back to his dormitory and read it slowly. After all, school had just started and there was still plenty of time.
After the book was cleaned up, its original appearance was revealed, and the words "Cathedral and Bazaar" were also revealed. Although Zhang Hongkai had learned the title of the book by flipping through the title page. But he did not understand how the cathedral and the marketplace were related to computers. Obviously they are two things, no, three things, that are not related to each other.
The weather in Qingcheng City is still the same as usual. It is said that the July fire is flowing, but the mosquitoes don't seem to be afraid at all, still buzzing around, making it impossible for Zhang Hongkai to sleep.
"No way, mosquito tablets have been used up, the school even air conditioning is not available", Zhang Hongkai can not help. Other people in the dormitory have been dead asleep, he lit up the phone, it was already late at night 3:37.
The book had been cleaned up and placed next to the bed. I don't know if it was the moonlight or the light of the phone, but Zhang Hongkai opened the book again.
......
"This book was written by a foreigner and translated by a domestic person." This is the final conclusion Zhang Hongkai came to after observing the cover for ten seconds.
An open university, a university without walls is the real university. Then Qingcheng Normal could only be a "college" indeed.
Tomorrow is the Mid-Autumn Festival Party and Orientation Party, which is another good opportunity for Zhang Hongkai to read books.
The roommate also wondered what he was reading these days, and had dark circles under his eyes.
"The actual fact is that you'll be able to read a lot less, be moderate, and eat a lot more of the Six Flavored Pills.
The company's main business is to provide a wide range of products and services.
Is the roommate misunderstood something? And what does he mean? The actual fact is that you will not be able to get a good deal on your own.
The book is not very thick, only less than 200 pages.
The reason for the slow reading is that he can't understand it at all and always searches for the meaning of a word when he sees one.`},{header:"Chapter 2 Installing UQilin",slug:"chapter-2-installing-uqilin",content:`In a QQ group, Zhang Hongkai asked, "Have you ever used Linux? Soon the QQ avatar flashed up, "Linux? Isn't that only WPS?" The people in the group still told him. "You can only use WPS if you install Linux," I told you, and then added another sentence.
UbuntuKylin is a localization of Ubuntu, a collaboration between the National University of Defense Technology and the Ubuntu Foundation.
"Anyway, the official website says so," said Zhang Hongkai, who was planning to install a Linux, but searched for Linux on Hundred Poisons and came up with Ubuntu, while a search for Ubuntu jumped directly to the UbuntuKylin website at https://www.ubuntukylin.com / .
As for why we want to install Linux, it's simple, one is to see how the system looks like in the book, and the second is to see if Linux can only use WPS.
"Oh, to use the soft disk pass, there is a good man named Wang Tao, and someone to wish Wang Tao a happy new year", the official website of the soft disk pass is https://cn.ultraiso.net/ , which is Zhang Hongkai looked for a long time to find.
The first step, what to buy a USB flash drive, and so on, Zhang Hongkai found that it seems that the hard disk installation is also possible, to download a easybcd, he found a green version and then set the grub parameters, the hard disk is HD0, partition is X.
His computer is a Lenovo G400, configured with i3-3110M, 4GB of RAM, and HD4000+AMD 8750M graphics card.
"Let me see how the G400 into the BIOS, oh", Zhang Hong Kai, understand, the G400 has a small button next to the power button, press down, select the second BIOS Setup on it. "So it's quite easy to say."
Wait, how to enter the win 8 again?
......
It looks like the hard drive installation is not very good, so try Old Mao Tao and Da Cabbage? But it also seems to require a USB drive. I can't help it, Zhang Hongkai urgent use, went to the computer store to buy a Kingston 4G USB flash drive, USB 2.0, charges 50 yuan. The casing is red, can also be turned, the model is DT 101.
He rewatched the first tutorial and it seemed that the floppy drive was the easiest solution. Oh, to first compress a space from the D drive to leave the Ubuntu system. As for the size, Zhang Hongkai thought 20G would be enough, and in fact the D drive is not very large.
"There seems to be a wubi installation?" But he searched and searched, and the wubi installation seemed to have been deprecated.
"I have to say, Wang Tao is really a good guy," Zhang Hongkai exclaimed.
"WPS here I come, no it's Linux."
Went in and selected the DT 101 USB device, then the purple box with a few English options, "install , install, this point in English I still know." So Zhang Hongkai clicked install Ubuntu.
The code scrolled up, about ten seconds to see the screen. It was also purple. By the way, he installed UbuntuKylin 14.04.
The first thing I did was to select the language, "I'm familiar with this one", and I scrolled down for a while before I found the four words "Simplified Chinese".
Then it was time to click "Continue".
Zhang Hongkai saw "3 tick", "Well, continue, there will be a third-party installation of this formation, all ticked on forget".
After waiting for about 5 minutes, the rotating circles did not turn.
After looking at the tutorial, it seems to be time to partition. Then install it to the E drive.
So Zhang Hongkai clicked on the four words "other options", because so much space C disk can not be stuffed.
"Oh, a / partition, and a swap partition. The / is the EXT4 log file system."
"Let me see where the E drive is, and what is NTFS?"
In the end, Zhang Hongkai determined which was the E drive by virtue of the partition size.
"The bootloader is to be installed to the EFI partition." The tutorial reads.
"So am I am not one partition short?" So he picked up the mouse and clicked to set the EFI partition.
Then he pressed the word "Install Now" with the left mouse button.
The computer popped up a warning "Write previous changes to disk and continue?" Zhang Hongkai decisively pressed "Continue".
Then he asked, "Where are you?" Zhang Hongkai clicked on the empire, but there was no response, so he clicked on a random place in Asia.
The tutorial says that the keyboard layout does not need to be changed, just enter.
Then it was to set the password. The user name is called zhanghongkai, the password is z bar, simple, point on the automatic login. Zhang Hongkai thought so in his heart, and did so.
"Welcome to Ubuntu 14.04, the latest version of Ubuntu is fast and rich in new features, easier to use than ever, here are some notable new things ......"
After half an hour.
"Installation complete, OK, reboot now" Zhang Hongkai clicked the four words.`},{header:"Chapter 3 Sogou Input Method",slug:"chapter-3-sogou-input-method",content:`The G400 rebooted quickly and automatically entered a desktop called Unity.
"This is too anti-human, why is the 'x' on the left, is it to show that you are different?" Zhang Hongkai felt a little twisted.
"stuck", this time a thump, pop-up box "incomplete language support", Zhang Hongkai clicked "now perform this action", and waited for ten minutes, or every After waiting for ten minutes, every step was completed.
He opened the Software Center and tried to install WPS, but searched for it and found that it was not available. He found the official website of WPS and found that there was only 32-bit WPS, but his system was 64-bit, which meant that Zhang Hongkai needed to enable 32-bit software support.
"Oh, first press ctrl alt then T, enter sudo dpkg --add-architecture i386, then the password z, oh, the password does not show, then enter sudo apt -get update. finally Zhang Hongkai entered 'y '". After waiting for half an hour, the software was installed.
"The original space should also be entered ......"
Then cd to the "download" directory, and finally double-click WPS.deb, and jumped to the software store, and waited a few minutes, prompted the installation is complete.
"Still, I WPS installed, wait, as if WPS there is a font file package, is a hundred poison cloud "At that time the hundred poison cloud is not yet limited to 4KB, downloaded is also a deb package, repeat the above steps to install.
"still, I really installed this time, how will screenshots, it seems not"
"The official Wine QQ is provided by UQI, install it and login to QQ, okay, screenshot"
Still: "Look, I said it, Linux can only install WPS"
"Who said that, there is not a lunar calendar, weather, Youkai Assistant, QQ is also there ah"
"Look, you can also take screenshots!"
"And then what? It doesn't seem to be useful" Zhang Hongkai didn't think there was anything in UbuntuKylin.
Then, it seems that there is an input method missing, there is Sogou input method, but you need to install it yourself. After installation, you need to configure something else. "It seems to be an environment variable," the Sogou is quite interesting, not called "sougou", but "sogou", "shiver dog? "
All right, it's time to eat, said pick up the phone being charged, unplugged the USB cable, the charging head is also unplugged. Ready to go to the dormitory building under the small restaurant to eat lunch. "Let's just eat fried noodles."
"I want a fried noodles, no vinegar, the last time I put vinegar I did not hair to eat, is 8 pieces it, transfer you"
In the afternoon and evening, there were three big classes. They were "Management", "Advanced Mathematics C1" and "Civic Studies". "Monday's class is really a lot of ah.".
After a day, Linux could not be opened, stuck in the login screen, a warning box of "internal error" popped up. A hundred poison said the environment variables have problems, but they did not move anything ah, the system is so unstable. "Wait a minute, could it be because of the word kylin."
Zhang Hongkai's idea is not wrong, but only a small problem.
The problem is that although kylin increases the instability of Ubuntu, Ubuntu itself is very unstable. Because Ubuntu is based on the SID version of Debian, it is a downstream version that is more unstable than the unstable version.
Only later will Richard Zhang realize this.
Now he just thinks he should reinstall the original Ubuntu instead of the modified Ubuntukylin.
"I didn't expect Linux to be more unstable than Windows 8, but I just installed a Sogou input method," Zhang Hongkai said.
The stability of XP is also stronger than this.`},{header:"Chapter 4 Internal Error Releases",slug:"chapter-4-internal-error-releases",content:`Time is like water, not taking away a cloud, and it was another Thursday. Every Thursday at Qingcheng College is no class in the afternoon, and coincidentally, Zhang Hongkai also had no class on Thursday morning.
"There's time to install a real Linux system again!" Since Ubuntukylin crashed, Zhang Hongkai had to rely on Windows 8 to get by.
So Zhang Hongkai took out the DT 101 flash drive again, which was only 4GB, but I have to say that it was barely enough in this era when the Windows 8 VL image was only 3.31G.
"But how do I download the original Ubuntu? As soon as I opened the official Ubuntu, it jumped to Ubuntukylin by itself, no way"
Finally, after a hundred drugs, he learned that there is something called a mirror station. It seems that you can download the Ubuntu image from the USTC mirror site, just select Ubuntu 14.04 from the "Get distribution image" on the right side of https://mirrors.ustc.edu.cn/.
The next step is exactly the same as installing the kylin version, there is no difference. So I won't go over it again.
Once installed, Richard Zhang pressed the power button.
After booting up, it was still the same, probably meaning that the language lacked full support.
So Zhang Hongkai didn't believe in evil and started to install ShibuDog, no, Sogou input method.
Ibus changed to fcitx, "it seems that the commonly used input method control panel is only these two". There is also a "scim" is no longer maintained, the author has not cared about him since 2004.
Sogou input method depends on gtk, fcitx, and after some repetition, Sogou input method is installed.
"I think it's time to reboot"
After reboot ......
"Sure enough, kylin is not stable, look! Zhang Hongkai excitedly started talking to himself.
Are you so excited just because you installed an input method?
Yes. Sometimes it's so easy to be happy.
Next it's time to install WPS, wait how to delete this Amazon, why is there Amazon? And what the hell is this bunch of libreoffice? Zhang Hongkai hundred poison to the command is sudo apt-get remove libreoffice* unity-webapps-common --purge .
"Ah! Finally uninstalled these tumors," Zhang Hongkai could not help but let out a long sigh!
"32-bit WPS, start!"
After he installed the QQ provided by UQilin, it seemed that Zhang Hongkai had nothing else to do.
It seems that you can learn programming, and it is said on the hundred drugs that you have to install Java first, and also distinguish what jdk jre jvm, "Don't talk about these things, let me see which is the most complete, oh JDK contains all" so Zhang Hongkai is ready to install jdk.
This time he did not visit java.com, but into the Oracle Oracle website, because java was acquired by this company, before it was SUN.
Some people say that the technology company collapsed because he has no technology, which is obviously nonsense: look at SUN. On the operating system he has Sun system, there are still a small group of people in use; on programming language he has JAVA, not to say the first, but also the second; as for their own operating system architecture also has SPARC, talk about hardware can rival IBM. but not still closed down, but you can say it is because he did not have the technology to cause his closure.
Zhang Hongkai think this jdk configuration is really a bit of trouble, and have to move the environment variables. He does not want to move is this, the last time it is because of the move this can not enter the You Qilin.
export JAVA_HOME=/usr/lib/jdk1.8.0_91
export JRE_HOME=/home/zhanghongkai/jre
export CLASSPATH=/home/zhanghongkai./lib:$ /home/zhanghongkai /lib
export PATH=/home/zhanghongkai /bin:$PATH
Then reload the environment variables. Zhang Hongkai run java -version command to see the results of the installation output the java version "1.8.0_91" ......
Thinking about the internal error of UQilin, scared Richard Zhang rebooted to see if he could boot.
After using it for a while, the familiar "internal error" window popped up again.
"It seems you can't blame UQilin, it's not his fault. This Ubuntu is an internal error distribution", Zhang Hongkai realized.`},{header:"Chapter 5: Try CentOS",slug:"chapter-5-try-centos",content:`Facing the mid-autumn party, Zhang Hongkai opened Cathedrals and Bazaars again, even though he had already read it once before. He found UNIX all over it.
"UNIX philosophy is anti-human let you put the X in the window on the left? Makes you 'internally wrong' every day?" It's okay not to read it, but the more you read it, the more angry you get.
Richard Zhang realized that despite how beautiful Linux is described in Cathedrals and Bazaars, you have to admit that although it promotes the open source movement to a certain extent, it is ultimately just an inferior imitation of UNIX. Under the guise of the UNIX philosophy is ultimately incorrect.
He believes that the real UNIX was never like this. But there was no way to find a real UNIX system to install either.
The mid-autumn party was soon over, and it was the same old story, nothing to see.
It was only 19:17 when I got back to my dorm room, and the news broadcasts were still on, not to the weather forecast.
"There's nothing to do again." Zhang Hongkai didn't know what to do anymore. The two Ubuntu partitions had been deleted, and easybcd had been used to delete the Ubuntu grub2 boot. If you don't delete it, you'll be stuck at "#" when you boot.
"Or try something else", "This bird's Linux uses CentOS, so I have to buy this book to learn it systematically. I have to install a CentOS first." Thanks to Zhang Hongkai is a Lenovo G400, otherwise CentOS can not be installed, the kernel was only 3.X. "Only CentOS 6.5? It's a good idea."
This time, the floppy disk is not responding to the burning, a hundred drugs know that you have to use win32diskimager to burn CentOS, but all kinds of tutorials are dd, "these people are S, B?" Zhang Hongkai wondered, Windows where to dd?
It took half an hour to burn it, because CentOS-6.5-x86_64-LiveCD.iso just like that, USB 2.0 and very slow.
The installation interface looks very modern. Gnome desktop and some accessories were selected. Useless ones like printers are not installed.
The partitioning is the same as in previous Ubuntu installations.
After installing and rebooting, Richard Zhang found a problem, a black screen.
The first thing that happened was that the screen lit up ...... with a prompt box to enter the password.
"I go ......"
The first thing you need to do is to get a driver from the BCM43142, so you can go to the BTC website and download the driver, and then go to the BTC bar and find a post with a sheep's head icon.
The BCM43142 is a new product. Zhang Hongkai a messy operation down, found WIFI into Ethernet.
The post asked; "So what, my WIFI turned into Ethernet under CentOS, and then took a picture to explain it"
After a few days ......
Wait a minute, the error will not be reported to deal with it, the original post of the sheep hair he did not finish reading, make install thought to get it right, and now look at the results can not. "The original still have to change a few places".
/home/zhanghongkai/packages/driver/src/wl/sys/wl_cfg80211_hybrid.c:2122: error: too few arguments to function 'cfg80211_ roamed'
After the change, make install. load kernel modprobe cfg80211, modprobe lib80211, insmod wl.ko, modprobe wl.
"Oh! There's wifi, haha!"
Zhang Hongkai seemed happier than if it was New Year's Eve.
"Let me see what the update command is."
"Can I just yum update?" That is much simpler than Ubuntu, what the hell apt-get so long, not to mention that there is a -, broken things are very difficult to fight. Look at how short CentOS is, just three letters yum only.
"I'm not saying that the CentOS package is too old, this Firefox version is only 17.0.10, the official are more than 30, install the latest and can not, dependencies are too new, and CentOS dependencies are very old"
"No wonder it's so stable, it's because of the old version", Zhang Hongkai wondered what the strange reason was, old = stable?`},{header:"Chapter 6: Not as good as Scientific Linux",slug:"chapter-6-not-as-good-as-scientific-linux",content:`Zhang Hongkai always thought CentOS was not good because the package was too old and not suitable for desktop use at all, and it took a long time to install Sogou input method.
"Zhang Hongkai thought it was the re-customization that made it unstable, but he begged his grandparents on the Internet to get rhel-server-6.5-x86_64-dvd.iso, but he But he wanted the desktop version, but couldn't find it, and later learned that server is actually the most extensive, including the so-called desktop version.
Zhang Hongkai and pulled out the win32diskimager , "Sure enough, even the installation interface is the same."
After the installation, there was a black screen, which required Zhang Hongkai to manually turn up the brightness. Try the yum command, and indeed the same as said online, you need to subscribe to use the source, the subscription price is also a year tens of thousands of dollars. "Impossible, don't think about it."
Zhang Hongkai as soon as he thought of CentOS tried to change the source of CentOS to RHEL above, yum update, found that the upper left corner of the red hat are turned into CentOS Logo. then reboot, the system hangs ......
"No way, not that CentOS is almost 100% compatible with RHEL?"
Zhang Hongkai some despair, there is no way out?
He thought that since you can reset RHEL, then there must be others who can.
After a hundred poisons, he learned that there was a reset version called Scientific Linux, an operating system developed by the Fermi National Accelerator Laboratory in cooperation with the European Organization for Nuclear Research. Zhang Hongkai tried to switch his source to RHEL, and there was no problem after yum update. And it is more stable.
This shows that CentOS is not as compatible with RHEL as Scientific Linux. Then why do so many people use the former instead of the latter?
"It's just a matter of people being in the same boat"
"Why do these people have to use any compiled method to install it without yum? The software source is not without his version and software?" Zhang Hongkai puzzled.
"Because there is an EPEL, which has Nginx ah!" I don't really understand why so many people compile and install Nginx, but it looks like all sorts of compilation errors are giving people headaches.
Linux installation software = compile and install?
There are a bunch of s, B compilation tutorials, a variety of unknown compilation tutorials on CentOS, there are so many need to compile? How to uninstall him after compilation? How to upgrade? And how to maintain it?
Zhang Hongkai finally realized the problem of the hundred drugs, always citing some garbage tutorials from garbage websites.
Zhang Hongkai can't stand it, "and these junk tutorials copy each other around, it's tiresome. Not marked with the source, it seems that some companies require them to write blindly, you can work with the money"
"I wonder you have so many new features need to open? Just have to compile to go?"
Zhang Hongkai has finished learning the entire "Bird's Linux Private: Basic Learning" 3rd edition, so it is not difficult to understand what is compiled. The above idea came to him.
The book is also very long-winded, most of which is not necessary to write, and there is no need to read it all, as a dictionary can be consulted. The third edition is also a bit old, or CentOS 5.X, the kernel is still the same 2.6X, need to be updated.
No wonder Zhang Hongkai doesn't play with his phone in class, but it's still a thick book with a black cover.
There are not many mirror sites for Scientific Linux in China. But the internet speed of this mirror station is still okay.
"It seems that there is still some boredom, QQ can not be installed, WPS is also, only deb package, no rpm package, it seems that deb can be converted to rpm and command line, but conversion over, dependency and can not solve ah"`},{header:"Chapter 7 Fedora?",slug:"chapter-7-fedora",content:`In the process of constantly reinstalling the system, Zhang Hongkai found that he did not like Gnome3 this desktop, but prefer Red Hat's Gnome2 style, even though its essence is also Gnome3, after some research, Zhang Hongkai learned that there is a desktop called Mate, is made specifically to continue the Gnome2 is also GTK2 style.
"This is a custom distribution for me, they say Fedora is gutter oil, I'll try it out today", yes, it was another Thursday, the time for Richard Zhang to install the system.
After searching, Richard found that Fedora had a customized version for different desktops, and it was in spins.fedoraproject. "Just download it."
Outside the window, the sun was still shining. A few wisps of breeze brushed through the laurel, causing ripples in the hearts of pedestrians. It seems that the original shade in people's hearts is also washed away.
"It's true that the installation interface is all exactly the same"
'"This mate desktop is also similar to the default system of red hat, it should also be yum, right?"
Zhang Hongkai tried sudo yum update, and it did respond.
Fedora also has a Chinese source, their own installation is fedora 19. self-proclaimed "Fedora Chinese community (FZUG) to create and maintain this software source, for Fedora Chinese users to provide a richer package." Sogou input method is provided, which is the only reason Zhang Hongkai imported this source ......
"I have to say the input method still has to be Sogou ......"
QQ seems to be a problem again, and the so-called wine is not even half-baked ......
"What should we do about this?" Zhang Hongkai only had to call out WEB QQ, although only text, but also better than no ......
not a few days after fedora 20 was released, the Internet said you can use the command to update, the results are obvious update hung ......
Fedora's release cycle is too short, updated several times a year, which makes it impossible to use ...... because stability is difficult to ensure that third-party software matching is also difficult, such as Sogou input method ......
Zhang Hongkai reinstallation and can not install the input method.
It is said that fedora is gutter oil, but Zhang Hongkai think this is a mouse test version, each time you will add some new features that Red Hat wants to enable in RHEL in the test, the test is good to move to RHEL inside for the enterprise stable version to use.
"Is it impossible to recruit a testing team?"
Zhang Hongkai previously felt that the Red Hat system system software is old, now well new, updated every day. Then the desktop gets stuck from time to time. Some inexplicable errors appear.
Those who say fedora stable and good people, with a fashionable phrase "either stupid or bad". Just one question, how do you update a major version? If you don't update your repositories, you're out of luck! How can you install the software if it's directly clicked for you? Change the offshore source? Oh.
There are many software is also based on fedora development, such as the G400 pre-installed linpus linux system is based on fedora system, difficult to use to die, to prevent crashes themselves also engaged in a so-called restore service, probably to match the Lenovo one-click restore, the results of their own security found after the desktop help icon can not be deleted.
Zhang Hongkai sent an email to the company for help (this is considered software three packages), but also ignored, did not get any useful help. Think about it, how can you expect any stability from a system based on a mouse distribution?
"Who are the idiots who say that Linux is more stable than Windows?" Zhang Hongkai wondered, so many people said that Linux is more stable than Windows, how come he didn't find it? "So the desktop has been fired?" Then you don't use it either.
You do not have any software installed, it can be unstable? You never do your homework, so your homework is poorly written?`},{header:"Chapter 8 Build your own website",slug:"chapter-8-build-your-own-website",content:`I have to say that to build a server, or CentOS tutorials are the most, this point even Ubuntu can not compare.
"I'd say CentOS."
"How do I build a website?" Richard Zhang inquired and learned that to build a website, it is common practice to install Apache http server, MySQL database and PHP.
Because nginx to add EPEL to have, Zhang Hongkai lazy to add ......
You also have to use the CMS is the website content management system (Content Management System). I've heard of Dreamweaver before, but I've never used it, and I don't want to use it this time. I've been searching for a CMS called emlo, which only supports php5.X and mysql5.X.
The server is a student machine 1 yuan, cn domain name is also 1 yuan. Zhang Hongkai directly bought a year, spent 13 yuan, and do not need to file anything. The registration of a guomao2013 domain name.
First install putty, then link to SSH on it.
"The first thing you need to do is to get a copy of the file. Zhang Hongkai felt that putty was not good, and found xshell after some searching.
"This thing is quite good!" First install Apache.
The first installation of Apache. name is not yet called apache, called what httpd.
Zhang Hongkai watched a tutorial, "Oh, yum install httpd to work."
"Then start, service httpd start"
Zhang Hongkai looks like he has no problem. The site's DNS records have long been configured, after opening the site found "Apache 2 Test Page powered by CentOS".
"I think it's ready!" Zhang Hongkai thought it was easy to build a website.
Then, Hongkai Zhang typed in
yum install php php-mysql php-gd php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc
nano /var/www/html/info.php
Added
<?php phpinfo();? >
Then restarted the httpd service. service httpd restart
After Zhang Hongkai opened guomao2013/ info.php, he saw the page titled PHP Version 5.3.2.
"Finally install the database"
Zhang Hongkai typed yum install mysql mysql-server
Then started the mysql service: service mysqld start
Then it said to set the root password: mysql_secure_installation password set and pressed 5 carriage returns.
"Isn't that pretty simple! Oh, and boot up self-start chkconfig mysqld on, chkconfig httpd on"
Then is downloading the emlo zip package with wget (yum install wget) to download and unzip it to install on CentOS? ""
Then you enter the emlo configuration interface. Configuration is very simple, on the input of mysql database user name and password, port number 3306 is the default, do not need to change the series.
Because it is deeply poisoned by large numbers, Zhang Hongkai felt that CentOS also needs to install an anti-virus software. After checking only ClamAV, he finally found something called SafeCat.
After spending some time installing SafeCat, the story just started ......
"Warning, your server is being flooded ...... your server is being SYN flooded ......"
Zhang Hongkai wondered, just built a day of the site who will eat more than attack themselves? He remembered the phrase "since there is antivirus software, there are more viruses".
"It could be that emlo has a vulnerability, and I installed it, so those people followed the vulnerability and came over."
After not half a month, the site suddenly 502. A hundred viruses said there was a problem with the database.
"What's going on!"
As soon as I logged into the background, I found that the database could not be logged in, and there was no response to the password input.
The error message was that root login was prohibited and mysql login was required, but Zhang Hongkai had never set up this so-called mysql account, only the root user password, and the mysql password could not be reset according to the tutorial. Must mysql login.
"???" Zhang Hongkai had 3 question marks in his head. "CentOS what is this crazy?" The first one is "What's wrong with my mysql? Fortunately, my website only has a hello world"
"CentOS is unbelievable!"`},{header:"Chapter 9 elementary OS",slug:"chapter-9-elementary-os",content:`In the past few days, a girl in the group said to Richard Zhang, "If you can put macos on the G400, I'll call you brother", so he started to study the black apple problem.
Zhang Hongkai actually wanted to install macOS on the G400, because he heard that the Black Apple experience was very good. So ......
I found a forum called near view forum, which is full of bragging, learn nothing real skills, one proudly not allowed to do, arrogant very. As a result, look at half a day of posts, fart did not learn, what chameleon, what four leaf clover clover mess. "What age is still studying mbr installation system, really outrageous, win7 and not unsupported UEFI"
Yes, he was bored and G400 group of people to study the EFI of win7, he found that the installation of the system is not a difficult thing, the difficult thing is how to activate the system. Finally found a kms software from abroad to activate the system.
MacOS image is also surprisingly large, "what the hell is stuffed inside? A mirror 8GB, equivalent to 3 Windows", but Zhang Hongkai his USB flash drive only 4GB, which can be difficult, so go to buy a DT101 16G version, but also the red case.
Burning images also have to use what TransMacos, you can try for free. But you also have to find the learning version.
He used diskgenius to take a look, said: "What the hell, EFI partition must be greater than 300M, Windows this broken, the default partition is actually only 100MB, he let me from where to get him extra 200M?
I added a QQ group of the near view forum to ask, because it always fails to start, stuck in the scrolling code area, because after a while will appear five national languages, so they call this startup state "card five countries". "Hello everyone, I checked the forum and did not find how to solve this problem, please ask everyone how to do?"
No one paid any attention to Zhang Hongkai.
"Still have to rely on their own, just now they are taking advantage of the group is hot to talk, the result is that he went to the cold field"
There is no way, it seems that for some time he can not eat the black apple, do not think about it.
"By the way, there is no Linux that looks like MacOS, anyway, it's all skinned, it's all the same, use what is not use!"
The first Linux that imitated MacOS was called PearOS (pearOS), but it went out of business and was bought by a French company and commercialized, not free.
But soon Richard found an alternative, called elementaryOS, which had a long name and was also based on Ubuntu, so there was no doubt about compatibility.
Zhang Hongkai started to install it, and it felt similar to the Ubuntu installation interface, but after installing it, he realized that it was not like MacOS, but just "not ugly", compared to those ugly Linux GUIs.
"I had to drag someone over to the problem, does it look anything like MacOS? And the choice of software are strange, not popular goods, are niche, it is obvious that these software niche is not without any reason, just more difficult to use it." Zhang Hongkai was speechless.
Soon Zhang Hongkai found a problem, the mouse is easy to appear several. There will be a mouse cursor will be fixed and not move. Then move away and still stop in the same place.
The company's main business is to provide a wide range of products and services to its customers.
"Okay, there is such a big bug in my download before also did not say, there is something wrong with it!"
Zhang Hongkai then deleted the partition of. Secretly, garbage system. Finally shouted: "Yuck! Waste of time."`},{header:"Chapter 10 deepin? yuck!",slug:"chapter-10-deepin-yuck",content:`Linux kernels do not distinguish between countries, Linux distributions are divided into countries. So there are many so-called "domestic operating systems" that must be put in double quotes.
Zhang Hongkai's initial understanding of the domestic operating system is those with MTK processor cottage machine, so much so that now Zhang Hongkai is MTK and the word cottage linked, resolutely refused to buy MTK cell phones. At that time, the operating system was called Skye bubble system, and a snow carp platform.
Both platforms have the problem of SP dark deduction, but usually the simplest solution is to modify the software center number, change it to another fake software will think they deducted, Zhang Hongkai now mention it all feel gritted teeth, a game to go in 4 yuan, after the various operations also need 4 yuan, is to send 2 yuan deduction SMS sent 4.
Later there is a god developed bubble modifier, directly change the price to 0 can be, even the software center number do not have to change.
This is the initial attitude of Zhang Hongkai to the domestic operating system. No joy, no sadness, just hope that someone can return the money deducted to him is.
Later, the cell phones are JAVA platform ...... and there is no domestic system whatsoever.
In the early years of the domestic system claimed to be 100% original, and then a person with a paper on its code review, and found that 95% overlap with FreeBSD. That system was called Kirin.
Then there was the Red Flag operating system (which came first chronologically), but Richard Zhang found that this system couldn't even run on a virtual machine. "I wanted to try it on a virtual machine, but it turned out to be a physical machine!"
Red Flag looks to be LFS (a way to build Linux from 0) do, after installation there is no wifi, there is no Ethernet card driver, is plugged into the network cable can not be used. "Good guys, plug the network cable also can not be ...... that can only be goodbye ......"
Later came out a system called COS system, claiming to unify cell phones and PCs, the publicity is very powerful. But by others called "copy other system". In fact, even copy is not copy, blowing to a few years later also did not see a line of code ...... completely in the satellite.
"Deepin is the new star of China! The best operating system I've ever used!"
Zhang Hongkai saw this video in B station.
"Then try it?"
Zhang Hongkai went to download the image, using the depth of the burning image provided to start burning. The interface is very fancy. "I don't know if it's practical."
When the installation prompted "installation failed"
Zhang Hongkai: "???"
After rebooting, I found that it was actually installed successfully.
Then started to copy the windows font file package to deepin (already compressed on win), a copy, deepin is stuck.
"666, this is your so-called domestic operating system? This is purely inferior to Ubuntu"
After copying, it was stuck there too. It is said that their desktops are written in HTML, and the level of programmers varies, so it is normal for the desktop to get stuck.
"Then let's try an update!"
sudo apt update && sudo apt upgrade
After the update, reboot, can not enter ......
After a few days and then look at the deepin official website, said it was caused by their bugs and provided a fix command.
"Don't you even check for yourself before you release to see if your update will cause users to enter the system? You are no software testing team!"
"What else are you pulling with me now that there's a problem with the update? Is it useful for you to say this now? I two mouth hoo to you!"
deepin? Dogs don't even use it.`},{header:"Chapter 11 Shampoo",slug:"chapter-11-shampoo",content:`B station again someone began to brag about Linux distributions, this time ArchLinux, claimed to be the most desktop users of Linux distributions, almost a handful of people? Each to a Linux group to a bunch of people in the group business card written ArchXXX, and the same as the cult.
Zhang Hongkai thinks it is better to install the experience to see it, the past is "blowing the gods, use not very good is common knowledge"
"Do not feel how, only feel so powerful look." Zhang Hongkai wanted to give it a try. I found the Beginning tutorial and looked at it, the first step is to partition, or use the command line, it looks like nothing to do, Ubuntu's gparted is not fragrant enough?
So Zhang Hongkai took out the DT 101 4G version and burned a Ubuntu, after entering the partitioned area, as usual, a / partition, swap (swap partition) this time he intends to divide his 8G, it is said that the memory X2, 4G twice the natural is 8GB. Although this partition seems to be little use now, he also does not know what this partition is to make.
"Oh, after the partition is mounted, then is the installation of thebase system, and then configure ZSH, why not bash?" Zhang Hongkai expressed doubt about this.
Nothing difficult, it took 2 hours to install ......
The desktop itself is Gnome3, or forced systemd, "the command is so long, systemctl 1234 ...... which are 9 letters."
Zhang Hongkai took a look at the Gnome Shell version number is quite new. "It's not bad."
Then he used the pacman command to install a bunch of software. The installation process of Arch is not easy, but not too complicated either. But the experience is really not very good.
"Why does this system always get stuck somehow, and I can only force it to shut down by pressing the shutdown button, which is a problem with deepin. Zhang Hongkai thought that Ubuntu's unity desktop was already stuck enough, but he didn't expect it.
This is what you boast is better than Windows Linux, what did not find out where to use it? This is not only a WPS, but also the lack of a bunch of fonts do not know how to an.
Barely used a few days, this broken system can be said to be a daily update, each update a whole lot, do not know what the thing.
More and more and deepin a problem, hanging. Direct kernel panic. "Windows blue screen he can also automatically repair it, you kernel panic can not be repaired? It can be seen that the stability of the desktop system of Linux"
"On this stability also want to replace Windows, update can be more hang, and no remedial programs, this fear is not awake in daydreaming it."
"I figured out what this shit Arch, looks good, not in use." Zhang Hongkai recognized the true nature of the shampoo. "The more software you install, the more unstable he is, and the more you update, the closer you are to a system crash."
No wonder so many people are blowing what ArchLinux, the more users a system has, the closer it is to the average for all. "I really don't understand what there is to brag about."
Zhang Hongkai feels that anyone who brags about this system is more or less tainted with that. Can no longer use stupid and bad to describe them, they have long surpassed the border of the two.
There is also a group of junior high school students blowing the magic of VIM, claiming to pair it with a dozen assists on Arch. Then one look at their fancy list of projects, all repeating the work of their predecessors, commonly known as building the wheel.
If you're really good at it, go write a C compiler.
AcrhLinux?`},{header:"Chapter 12 Shut up! Tycoon, make room for the good guys",slug:"chapter-12-shut-up-tycoon-make-room-for-the-good-guys",content:`After looking around, excluding those systems based on Ubuntu, Debian, RHEL, and looking for those custom Linux distributions, Zhang Hongkai finally found Gentoo Linux, which is known as the bitch of a meta-distribution.
Just sighing at the suffering of the masses, I did not know I was one of them. I'm not sure if I'm one of them, but I'm not sure if I'm one of them.
How to install Gentoo? How come this handbook is in English, and it's not right to follow it step by step?
Zhang Hongkai was baffled. It is reasonable to say that after learning the private book, he should not encounter any difficulties when installing the system. How come he can't even install a system now? It's a big mistake.
Zhang Hongkai downloaded the Handbook and read it again and again, but couldn't get it to work, so he finally registered a wiki account and decided to translate Gentoo's wiki by himself. it took Zhang Hongkai a few weeks to translate the systemd chapter and all the handbook chapters.
During the translation period, some people sent him emails asking about the translation, saying that their translated chapters were changed, but Zhang Hongkai emailed him back asking him about the translation progress and he immediately stopped talking. "Your translation progress is 0, and you have the nerve to ask me?"
"Is this group of people in the Linux community so funny and impolite? As funny as the admin of Linux-China who asked himself if he knew HTTP, does he understand himself?"
The only role as an admin in the group is to fight and brag. That's his only role. He knows how to do this himself, and he looks like a bull! You all can't work! I can do it, you little trash!
Then ask what is the purpose of your group? In order to facilitate all of you big brothers call each other "giant brother"? Zhang Hongkai wondered, how come there are so many stupid people? Those really big people will be in a group to brush their own existence? You can shut up if you don't help others, just leave a place for good people. Don't waste the good guy's place.
It's the real trash that dirty the Linux community. Defile the UNIX philosophy.
All they know is to brag and contribute nothing to the community. Zhang Hongkai at least translated the wiki, what did these mutual giants do? What have these mutual giants done? Beat up newcomers, plus brag about their "pride"? The first thing you should do is to make sure that you have a good idea of what you are doing.
Zhang Hongkai's management teacher said: "The king of hell is good to see, the kid is difficult to deal with, some people like to put a little power in their hands to the extreme, to highlight their own presence, these people you go to take care of him you are losing."
These so-called giants are quite like years of ugly daughters-in-law, when they became mothers-in-law began to squeeze their daughters-in-law madly. It is really funny.
According to Shen Teng's skit is "you do not help to give the good guys a place, you are not how bull|B, the earth is missing you can not turn" Zhang Hongkai exclaimed: "you give the good guys a place, I bull|B 'tycoon ' people! You can shut up now."
He had a little power, and he had to take him to the limit. It is these "animals" who have long held the upper echelons of the Linux community that have led to its current decline. They have almost divided up the Linux organizations in the country, so that newcomers seem to go in and enter the wolf's den.
At the same time I would like to advise those newcomers who still want to join a certain Linux organization, these tycoon are generally monopolizing the best educational resources, writing a bunch of useless programs to build the wheel, the group owner in order to enlist these "animals", granted its management, in fact, there is no place for others to speak in the group, is The "animals" and the initiator co-rule the Linux community.
They do nothing but contribute nothing, but also persecute newcomers, kill people, it is commonplace! They cut the Linux community and the newcomers with their invisible sharp ground.
You want to fight back? No way! You can either be forced to call him a giant and be insulted by him, or you can stand on your own feet and learn on your own. That's the extent of their privilege, that's the extent of their arrogance.
A large number of giant tycoon have taken over the Linux community, the community. This entire Linux open source community has been polluted by them. It's hopeless. Learned a lot, but no evil, no contribution to the community.`},{header:"Chapter 13 Plumbers and Tycoon",slug:"chapter-13-plumbers-and-tycoon",content:`Zhang Hongkai is very angry, because the school plumber and he said the school has a rule, the temperature is less than how many degrees can not turn on the air conditioning, for this reason the power lines of the air conditioning are cut directly into the electric gate.
But he this regulation does not take into account the crowded situation, such as in the auditorium, a total of nearly a thousand people, the temperature will obviously rise, not open the air conditioning is simply the same as the steamer.
"I just do not open! This is the school's rules."
Zhang Hongkai said, "Which rule is it? How do I know if you made it up?"
By the time the big lesson on situation and policy was finished, the air conditioner didn't turn on.
Zhang Hongkai went directly to the logistics to complain.
How great is the power of plumbers? Their power is as great as the power of these so-called tycoon!
Linus Torvalds, the creator and maintainer of Linux (kernel only), said in the past: "The Linux community is now a dirty quagmire.
The Linux community is now a dirty quagmire, not only for the developers, but also for the users, the domestic users.
How much power can a small plumber have? He prefers to take his power to the extreme, to show his own bull|powerful place. These so-called self-proclaimed administrators of the Linux domestic community are no different? They look down on people without ladders and those who use Ubuntu, forming a whole chain of contempt (except for deepin, which is really not a high level of user).
Zhang Hongkai added a USTC TG group, and the way he entered the group was weird, by checking the TXT records of the domain. It is obvious that the purpose of doing so is to raise the threshold for entry into the group.
"But has the threshold really been raised?"
Why is there more and more tycoon inside? I can't help but think about Richard Zhang. These people are not also from Ubuntu step by step? Have they forgotten the words of the Ubuntu Chinese forum?
-- "We all know that newcomers are indeed very new and like to complain and have a strong Windows habit, but since we ask here, we should have the responsibility to help them solve their problems, instead of just throwing cold water, simply denying or posting posts that don't help in any way. post. Being open to sharing and putting people first is the spirit of Ubuntu."
Have the tycoon forgotten these words? I don't deny that some questions are stupid, like how to uninstall apt. Because such problems can often be solved through search engines.
Zhang Hongkai was reminded of the so-called Linux CN administrator's question, "Do you know the HTTP principle?" Obviously this person and the plumber is the same, without me you just can't use the air conditioner today, angry you. I can I just do not tell you, you gas not gas? Hahahahahahahahahahahaha ......
How much power can a plumber have, but what is his job? A group of administrators, if not to help the group members to solve some of the difficulties that rely on his own can not solve, then the only reason for his existence is to kick out people who send small ads? I don't deny that he has this role, but in reality he won't manage the clutter at all either.
Linus says the community is dirty, and in Zhang Hongkai's opinion, it's the work of these animals, not the tycoon. They regard the spirit of open source as nothing, proud of their own cattle|B, but the community as a whole contributed nothing but to pollute him again.`},{header:"Chapter 14 I'm busy",slug:"chapter-14-i-m-busy",content:`"I'm going to adapt a game based on the novel you wrote. What do you think?" said a netizen and Zhang Hongkai.
"I think it's great!"
The next day.
"Look, I've adapted the plot, see how it is?"
"Don't bother me, I'm busy, I have to work."
Zhang Hongkai directly deleted this QQ friend who had been there for several months. Let him be busy, busy meeting with President Trump or preparing to receive Ultraman? You are busy for half a day is to give the boss for the New Year to change the car?
There are always one or the other people who say they are very busy, but in fact, they are not doing anything, just using a jam-packed schedule to anesthetize themselves, from the beginning to the end of what they are busy with even he himself does not know.
"This is not a project you said yourself? How come I'm bothering you? You're not slapping me backwards?" Zhang Hongkai did not bother to talk to him, directly deleted the end of the matter.
Let him go busy well.
The real emptiness is the bogging down of the fullness.
Quiet down and think about what you are doing something, is the most important thing. Although empty thinking does not create productivity, but it is a vital node to determine the direction.
How can a person who never thinks look up at the stars? He will only say he is very busy. Are you as busy as the President of the United States? The Pope is busy?
It's just an excuse.
Zhang Hongkai saw it clearly.
Looking at the stars may fall into the trap set by the hunter, but it may also predict next year's olive crop.
It is the illusory busyness that is really a waste of time and consumes life to the point of being a formalism from beginning to end, where you satisfy a sense of formal sufficiency without thinking about what is really life, the true meaning of life.
The word "busy" precisely means that you are not busy just to escape from the bloody reality, a real reality that you will come to if you spend a few minutes thinking about it.
A person will have many dreams and will find excuses to extinguish them on their own. Being busy is one of the best excuses, and it seems to have the most legitimacy. I'm busy working, I don't have time to take care of my parents, I don't have time to spend with my kids; I'm busy, I'm busy running around for a living, I don't have time to learn C; I'm busy, I'm busy until that heel is about to touch that neck.
So what else can people say? After all, everyone has to eat, and if you don't eat, you'll starve to death. This is a well-known and established fact.
But what exactly is the point of your busyness? What do you bring to yourself?
Zhang Hongkai knew from a very young age that all reasoning is farting, all useless bullshit.
Did he not know that he was busy? Yes, he didn't know. Very few people know that they are busy blindly. Zhang Hongkai is involved in the work of the student council is also very busy, he is busy with what in the end? In the end, he didn't know, but he organized some formalistic meetings and had to force others to sign in to make up the headcount.
Is Zhang Hongkai busy? What is the point of this? It's a pure waste of time.
Maybe it's just an excuse, he's not busy at all, maybe he's busy playing LOL or maybe not. Anyway, it's all very busy, essentially no difference.
Today in the lattice room one by one white collar and a hundred years ago there is no essential difference between the female textile workers.
Hope is never rooted in one's heart, but busy, meaningless busy makes her dry up and wither.`},{header:"Chapter 15 - Student Council of Qingcheng Normal College",slug:"chapter-15-student-council-of-qingcheng-normal-college",content:`"Maybe it's a chance to change yourself?" He picked up an application form for the student union at the student union booth.
The reason for application column, Zhang Hongkai filled in, "I hope to join to let me go to modify the official website of the school, he does not even have HTTPS."
The application form also requires the signatures of ten people, and he went upstairs to find a signature of ten people he didn't know, which is not a difficult task. It was just a matter of feeling a little awkward.
What's more, he didn't go alone, there was his roommate, his roommate was called Chen Ming. The first thing you need to do is to get a good idea of what you want to do. He was also Zhang Hongkai's class president. But he also wanted to join the school student council, and Zhang Hongkai wondered what his purpose really was.
The interview soon began, and one of the seniors asked what the slogan of the student council was.
Zhang Hongkai looked up and saw that the slogan was written on the wall ......
Zhang Hongkai could only say that he didn't know.
A long-haired senior asked, "May I ask what do you think the relationship between the rank of student council members and ordinary students is?"
The senior added, "Have you followed our student council's WeChat public number?"
"You only have two chances to take leave during the selection process of new students in the student council."
The usual training time is noon or Thursday afternoon. But coincidentally, on this Thursday the counselor suddenly informed the class president of International Trade II, Chen Ming, and him that someone from above was inspecting and wanted them to go and do a big self-study session.
"Go, Zhang Hongkai, to attend the training of the student council!"
"But isn't it impossible to skip class? There are disciplinary members checking people out and taking roll call."
"Go ah, you do not go forget"
......
It wasn't until the end of the period when disciplinary committee member Li Jiajia sent out attendance sheets for everyone to check, and Zhang Hongkai found out that he had a record of one leave of absence Zhang Hongkai realized that in fact Chen Ming had given him a leave of absence.
So very smoothly, Zhang Hongkai received a text message to join the student council. "Congratulations you have successfully joined us through the student council payroll program, please come to the student council at 8pm on October 22nd, please reply with your name when you receive it"
Zhang Hongkai went over and found an oval meeting table in the room. Took a few plastic stools, went in, and found that it was two women and one man, three people, a positive minister and two vice ministers.
Then found that it is actually called the study department. Because Zhang Hongkai has only study in his heart.
They said to respond to the principal's call to get up early every day at 6:30 am to do radio gymnastics, and called by the student council, thus responding to everyone in the school.
According to Zhang Hongkai's understanding, there is no other college except the College of Computer Science and the College of Physical Education that do this now. The School of Computer Science and the School of Physical Education begin to run laps around their buildings at 7:00 a.m. every day ......
"It seems to be a pit"
The resulting school student union holds a radio gymnastics event every morning from Monday to Friday ......
This also has the advantage that the people in Zhang Hongkai's dormitory can eat breakfast. The actual fact is that you can have a good deal of time to go to the cafeteria and not spend time crowding people.
As for the specific work of the Student Council Learning Department is to organize a variety of formalistic activities, as long as they are not related to learning are under their control. For example, a series of lectures, reading activities, mock exams for the fourth and sixth grades, and so on.
In fact, they spend 2 days a week at 6 pm to go to a meeting and take a small book to record what was said. In fact, that is, the specific arrangements for those lectures.
One of the ministers asked what we thought, and Zhang Hongkai said he didn't think there was a safety plan. The school sister asked him, "What kind of safety problems do you think will occur?" "What if the light bulb falls down?"`},{header:"Chapter 16 - Like-mindedness is Hard",slug:"chapter-16-like-mindedness-is-hard",content:`Zhang Hongkai saw that there was no club about computers in this school, and the only one seemed to be just helping people reinstall their systems without much technical content.
"Do you have any clubs you want to go to?" asked his roommate Sun Bin.
Zhang Hongkai responded, "There's nothing I want to go to. Can we create a club of our own, with me as the president and you as the vice president?"
Then Zhang Hongkai looked at the rules of the club at Qingcheng Normal College and found that it needed a professor to be the instructor. Where to find this teacher? After all, Zhang Hongkai was not a student of the School of Computer Science, nor did he know the teacher concerned. As for that teacher of their major's computer fundamentals class was very busy looking, he sent it to the teacher at noon in is, and the teacher replied to him at 1:30 pm.
"It does look like it is very busy."
But not so simple, want to set up a club but also to go to the school's Federation of Associations to participate in the defense, to discuss the meaning of the creation of their own club cloud; write the constitution of the club, the president must also attend training every year, each time the club activities must have records, is the record of lectures.
The association is nominally affiliated with the Student Union of Qingcheng Normal College, and its president is also the vice president of the Student Union. But they are independent, with their own instructors and set of classes.
"Is it really troublesome to set up an open source society."
And Zhang Hongkai wondered what to do without people involved. Just one person or rough Linux.
In the end, Zhang Hongkai did not want to do it. A good start is half of success, everything is difficult at the beginning, difficult in the middle, and even more difficult at the end.
In the end, Hongkai Zhang chose to join the Innovation and Entrepreneurship Organization founded by his sophomore, Yin Chen.
It is a house-level club organized by the counselor and belongs to the School of Mathematics and Economics. It is the college that the second class of International Trade directly belongs to. The instructor is counselor Yu Cheng.
Chen Yin said to meet once a week, have their own a small office in the College of Education inside. Although a little small, as long as a few twenty-square meters
Said to be the world's largest companies as a benchmark, or marketing model. Each time each group writes a PowerPoint analysis out. The specific company is decided by their own group. Because into the society into the late, Zhang Hongkai no society nameplate, said that the accountant Zhang Xueyi to rush.
The first time Zhang Hongkai analyzed the principle and operation mode of the no-flow software.
The second activity analysis Zhang Hongkai did was the China Mobile SP dark deduction problem.
The third time the whole association was never seen again.
The second time, senior Chen Yin said that next time he would ask counselors and graduated seniors to come out to evaluate Zhang Hongkai and his group and analyze the form of entrepreneurship.
In the end, Zhang Hongkai did not get the nameplate, and he never saw Zhang Xueyi again.
Finally, he heard from his roommate Chen Ming that the counselor Yu Cheng and the senior Chen Yin had started a company together, dealing with some poor quality cosmetics without qualification. Yu Cheng is to take the money of people outside the school into the shares and hold a controlling interest, they do not have to bear any responsibility, but on the contrary can also make money. For example, if the company needs to purchase a sofa, it will take it directly from its own home and sell it to the company.
The actual activities of the club stopped, Chen Ming said Chen Yin said people do not do anything, do not listen to him, not at all united, do not know what to do so the club simply can not maintain.
Zhang Hongkai also did not want to say something, at least he felt that it was still possible to feel up, he also put a lot of effort.`},{header:"Chapter 17 only fear open-eyed vajra, not afraid of closed-eyed Buddha",slug:"chapter-17-only-fear-open-eyed-vajra-not-afraid-of-closed-eyed-buddha",content:`It is often said that one is only afraid of an open-eyed vajra, not afraid of a closed-eyed Buddha. What does this mean? Zhang Hongkai has long been taught at the plumber, and again in the so-called Linux community.
Many people slowly got separated to the point of never seeing ......
After translating Gentoo's documentation, Richard Zhang basically mastered the system, and at the beginning you have to decide whether to use Systemd or OpenRC.
To install Gentoo you need a liveCD Linux environment, using the LiveCD provided by the GentooLinux project is the worst choice, the best choice is to use Ubuntu's LiveCD.
Not only because he has a graphical interface, but also because there are many excellent tools already pre-installed, such as the partitioning software gparted.
Then the partition, also the EFI partition does not need to be moved, divided into a / partition, and then 8GB of swap, because the memory of the G400 is only 8G, gentoo's software needs to be compiled, large software such as QT5, chromium compilation will cause memory overflow, and the easiest solution is to use swap.
Gentoo's kernel needs to be compiled by itself, there are many options or most of them are useless, the only thing that needs to be selected is the driver, including the graphics card driver and systemd must be selected, this check one will be turned on. And intel network card driver. The other thing to note is that if you are using EXT4 or btrfs, the kernel is not compiled into the kernel by default, but in the form of modules to provide loading, which is not allowed, and must be compiled in.
It took Hongkai Zhang some time to convert openrc's base system to systemd. Because at that time there was no systemd stage3 available for download.
The key is to choose the right profile file. After that, you have to recompile the package. A depends on B, B depends on C, and C depends on A. Of course, this is the simplest circular dependency ......
This system is not difficult to install, it just takes some time.
It is intuitively stable and the packages are well tested without affecting the iterations of the packages.
However, the problem with this system is obvious: there is no official source of binary packages. Most of the software needs to be compiled and installed, which is very time-consuming. And if a soft package compilation error occurs, you usually can't fix it yourself.
That is to say, it can not be installed at all. And the system is also divided into stable and beta version is ~. But some packages will not enter the stable branch even after a long installation. Need to hit a lot of tags to be able to install on, for a few packages, will destroy the stability of the whole system.
If the system is not updated for a month, there will be an unresolvable dependency loop. I heard that Douban's server used to run Gentoo Linux, but the truth is unknown to Richard Zhang.
As for Gentoo's so-called Chinese community, Zhang Hongkai had a good experience of their superiority. An inexplicable superiority. A small group of elites?
As if the group is a game arena for them.
If these people really have nothing to do how not to go to translate the Handbook or wiki, if these giant tycoon feel translation of documents without technology, then to port the software is also a matter of great merit. Why not!
In fact, they did not do a thing. This is the so-called open-eyed King Kong it. They have been rotten to a certain point, and newcomers are afraid to speak, as long as you oppose him he will "invite" you out. This is how Zhang Hongkai was kicked out.`},{header:"Chapter 18: Don't know what open source is but talk about it",slug:"chapter-18-don-t-know-what-open-source-is-but-talk-about-it",content:`"Why don't you use LaTeX to write your novel, why do you use word?"
"What makes you say LibreOffice is not compatible with word, why don't you say ms word is not compatible with libreoffice?"
"Free and Software Foundation's 'Free' means free, don't pay."
"Why don't you use GIMP and go use PS."
All of the above is a series of jokes that Zhang Hongkai has seen. Does he himself say that those things have usability?
Elementary school students said libreoffice is good, so Zhang Hongkai went to install a, not to mention the anti-human interface design, let's say he crashed 3 times in 10 minutes, even before the crash of the editorial record, "this thing is also a human can use?" Zhang Hongkai could not help but sigh. He does not even have a small small two or four characters, only something like 12345678.
Pupils say LaTeX is good, Zhang Hongkai looked at half a day did not find for a text worker what this thing is good for.
Pupils say that gimp is better than ps, but even more so.
Students say Free is free is more of a fallacy, Free is free and not free, that is, the fee open source is allowed. Microsoft's open source model is this, Microsoft is not in fact closed source, he is conditional open source, the condition is to buy a certain number of copies of Windows, and there are legitimate reasons. The fact that someone says Windows is closed source means that this person not only doesn't know Windows, but also doesn't know what open source is.
To say that he is a schoolboy is an insult to schoolchildren, which is just a cerebral palsy. This is the philosophy of suffering short for nothing to do, there to build the wheel.
This kind of person is more disgusting than the tycoon, he not only has no technology, but also hanging around there half a bottle of water.
He cites Windows as seemingly useless. Is that in fact the case?
Of course not.
Richard Chang cites the NTFS file system, a file system that Linux has never been able to do in its lifetime. The stability of this file system is far more than the so-called what xfs ext, not to mention btrfs, that is a joke. As for zfs this file system is even more funny, designed to only expand the file partition, can not shrink.
NTFS no matter how you accidental power failure he can boot smoothly, in contrast Ext this kind of thing is no reliability to speak of.
What they ignore most is the compatibility of Windows.
Windows 11 in the 2021s can even run 26-year-old windows95 programs, and even more so, without recompiling the source code.
This is something that no Linux system can do, and they are not even compatible with programs from a few days ago.
Their programs depend on specific C libraries, on specific kernel versions. Even gentoo is not an arbitrary choice. That's a joke.
And people say Linux software doesn't need compatibility. hahahahaha, look at how ridiculous these open source juniors are!
Do not mention Macos, that is Apple's strategic incompatibility, and he phase compatible can be compatible, old software has old behavior, new software has new behavior.
Windows GUI stability is Linux a hundred years can not reach. xorg and his so-called alternatives wayland is two mountains of shit.
Open source software is fundamentally a violation of software engineering, because its first step is not to design for user requirements, they do not care whether the user can see Libreoffice that a series of two dozen no introduction of what the role of the icon, they do not care whether you will not compile the program.
These students do not even have the above points of common sense to come out of the half-bottle wobbling, jingle-banging chaos.`},{header:"Chapter 19: Lin Xing'er",slug:"chapter-19-lin-xing-er",content:`Wang Jia (Vice Minister), one of the two female ministers, emphasized in the meeting, "You are on equal level with the ministers of the college student council, because we are members of the school student council, you just add their QQs to be responsible for communicating with the ministers. Be careful to have a better attitude, don't take people seriously just because you are on equal level."
Hearing this, the bottom began to mutter "that the college student council members are not one level lower than us, then how to count, the lower level is already ordinary students."
Wang Jia heard the squinting eyes and did not speak. Wang Wenliang, who is responsible for recording, also stopped writing. This is the end of the meeting.
Dismissed.
Student Council in also internal training period, that is, to be familiar with the common format of official documents, master the format adjustment and other methods.
--A message from "Summermoon", "Kai, do you know how to format official documents, can you help me? I've been working on it for two hours, but I still can't do it. I'll treat you to cassoulet rice."
The message was received by Zhang Hongkai who unfolded his memories, this is a girl, if I remember correctly should be called Lin Xing'er, is a more poetic name. She was a head shorter than Zhang Hongkai, who was one meter eight tall.
The last time I saw her, I left myself with the impression of a girl wearing a rather dull short red plaid skirt. The top was a beige short-sleeved, somewhat yellowish. It looks a bit soft.
Zhang Hongkai just got out of class and for various reasons replied to see: "Okay, wait a moment, I'm coming over, you're at that location"
"I'm at the school's east gate 'still online cafe' first floor, I'll wait for you at the door ah, my phone is out of battery, you hurry up ah, thank you" - Xia Mo has not replied after the avatar turned black . Seems to be a response to her just that sentence, the phone is really out of power ......
It took about seven or eight minutes for Zhang Hongkai to reach the Internet cafe at the east gate from Building 2 (Computer Lab Building) where the Introduction to Computer Course was held.
From a distance, he saw a red figure in the north corner of the east gate of Qingcheng Normal College, a little strange and familiar.
Zhang Hongkai approached, not knowing what to say.
Lin Xing'er apologized by saying that her phone was out of battery and she didn't have a charging cable with her.
"Brother Kai do you know how to install this font? There's something wrong with this internet cafe's word"
Zhang Hongkai looked at it and the font was already installed. Then look at the requirements: "Title: Founder Small Standard Song Simplified Chinese, small two size font bold; Body Text Imitation Song GB2312, four size font; First level title in italics ......"
After adjusting the format, Zhang Hongkai used her QQ to add his friend, and then sent a copy of the document to himself, because he couldn't send the document without adding his friend.
Lin Xing'er also did not say anything. "Next time I'll treat you to cassoulet rice, my phone is out of battery and I'm out of cash."
Zhang Hongkai responded, "No, it's all small things, I also kept a copy for myself no need to adjust the format."
Sun Bin asked, "Where did you just go to run so fast"
Zhang Hongkai said, "I was thirsty and went to buy a bottle of mineral water to drink."
"Oh, no wonder he ran so fast." The game is a game to escape from the killer to drive the motor. Previously Sun Bin and Zhang Hongkai spoke.
Opened his computer - G400, Zhang Hongkai received the file sent to him by Xia Mo Wei - new text file 2.docx.
After opening it and checking it, he found that the format had been changed in strict accordance with the ministers' requirements.`},{header:"Chapter 20 Shrug",slug:"chapter-20-shrug",content:`On the way back to the dormitory, Lin Xing'er was walking in front, and Zhang Hongkai was slightly behind Lin Xing'er.
Suddenly Lin Xing'er, who was holding the black marble cover of Introduction to Computer Science, stopped still and shrugged her shoulders. She turned her head and found that Zhang Hongkai was wondering why she had stopped moving. Lin Xing'er's face was a little red.
Zhang Hongkai was baffled.
"I, suddenly remembered there are still some things, why don't you just go first?" Lin Xing'er said in a small voice.
Zhang Hongkai replied, "Oh oh, okay, see you then"
"This woman is really inexplicable," Zhang Hongkai sighed as he held the green cover of Office 2013 and Windows 7 Fundamentals.
After arriving at the dormitory, he also received an emoji from Lin Xing'er, thank you. "Seems to have received a good man card," Zhang Hongkai said silently.
Sun Bin wore headphones to play dawn killers, also can not hear, "you open your mouth not to speak, what do you say, louder!"
"I said it's time to eat!" Zhang Hongkai shouted. There were only two of them in the dormitory, Chen Ming was busy with official business and did not know where to go, and the rest of the people did not know where to go.
"Oh, there are five minutes left when I finish this one." Sun Bin replied.
Zhang Hongkai threw the book "Office 2013 and windows 7 fundamentals" casually on the table, covering his phone.
Sun Bin took off his headset and picked up his phone and said "go".
So Zhang Hongkai and Sun Bin were ready to go to the canteen to eat.
There are only two canteens in Qingcheng Normal University, one in the east and one in the west. The general reaction in the east area was that it was difficult and expensive to eat. But since they were too lazy to walk, they had to order take-out or hold back and go to the east side.
Zhang Hongkai's male dormitory is in the sixteenth building of the west district, which is only a few hundred meters away from the west canteen. The name of the west cafeteria is called Qingcheng Yuan, there are three floors, the first two floors are ordinary cafeteria, the third floor is not a teacher's cafeteria but a small restaurant, and a small movie theater or something like that.
In short, the general public will only go to the first floor, at most to the second floor, the third floor only when the student association group or class activities will go, some students of Qingcheng Normal University have never been to the third floor in their college career, and do not even know that there is a cafeteria on the third floor.
It is often said that bad money drives out good money, and this is also true in the school cafeteria. The popular store often you can't find him in the second semester, or there is no longer that dish.
Originally, there was a restaurant called Long Jiang Pork Knuckle Rice, the taste of the pork knuckles was average, but the minced pork and eggplant was really great. But unfortunately, when Zhang Hongkai was eating, the store's sign was still there, but no one was there. There was no one at this stall.
It is true that bad money drives out good money, and when the number of businesses that use outside packages becomes greater, those who make their own real materials will be driven out of the market.
There is also the tile pot soup can barely be imported, provided that the addition of a dollar an egg, but also need to peel their own shells. "It's really worthy of the tile pot soup, there's no meat at all, it's worthy of the name." Zhang Hongkai said after fishing with a spoon, only a few pieces of bones were fished out, not half a piece of meat.
"Let's just eat, there is no money to order take-out." Sun Bin also has nothing to say, except for the bitterness of their own no other feelings.
The side dish is potatoes, not tasty, not a bit of flavor. As if eating nest.
He watched as Sun Bin ate and did not move, tucked both hands into his trouser pockets, and after a while reached out.
"What are you doing", Zhang Hongkai asked Sun Bin.
"Adjust the position ah, what else can do." Sun Bin said in amazement.
"Adjust the position? I seem to understand something," Zhang Hongkai thought in his heart, as if he remembered something.`},{header:"Chapter 21 - Wretched, Mayfly! Magnificent, floating!",slug:"chapter-21-wretched-mayfly-magnificent-floating",content:`"Suddenly I realized the impermanence of life
The world's rogue
Sighing at the bad luck of time and the misfortune of life
I lament the majesty of the ocean and pity the glitter of the stars."
--Title
Even in the face of the steel and concrete coffin houses in the big cities, where the sky is not visible and the earth is not visible, there are still an endless number of urban elites struggling for it.
Even if 80% of the current cars are automatic, and in the future, except for a few areas, even manual gears will be completely eliminated, countless people will have to squeeze to learn manual gears when learning to drive.
even if the price of the automatic range multimeter is even cheaper than the manual range multimeter, but also to go crazy to buy the manual range multimeter.
Zhang Hongkai felt more and more that the existence of the student union of Qingcheng Normal University was meaningless.
Most of the activities held by the student union are meaningless, except for wasting time, even if Zhang Hongkai is the organizer. Therefore, most of the people were playing with their phones at the bottom, and some of them tried to escape from the venue when their phones ran out of battery.
"Zhang Hongkai, you stand at the exit of this door, ask the person who wants to leave which college he is from before letting him go." Zhang Hongkai listened to the only male vice minister - Liu Jiarong - and guarded the right side of the gate here, as if he were a door god.
When they held the inspirational storytelling session and invited the seniors to tell their stories, a student got hurt in the thigh because of the seat, so Zhang Hongkai thought he should leave his phone number for future contact, after all, it was because of their activities that caused the injury of that student.
"Before Zhang Hongkai could ask him which college he was from, the student preempted him by saying, "What happened to you?
"It's your chair that cut my leg, I have to go to the infirmary now." Two people assisted him to leave the lecture hall No. 2 on the roof of the 3rd floor of the old library.
Wang Jia, who was the vice minister, told Zhang Hongkai, "Don't contact him, what if he asks us to pay for it, who will pay for it?"
It must be said that the consideration of the school sister is meaningful, so where exactly does the problem arise?
Floating and heaven and earth, can be said to be the difference between a drop of water and the Yangtze River, without the accumulation of a drop of water, the Yangtze River can never become the Yangtze River, but with less accumulation of a drop of water, the Yangtze River is still the Yangtze River.
For example, this heaven and earth, floating life only morning and evening, there is no difference between the seasons. For example, human civilization, is it really never ending? Humanity as a race, its extinction is also destined to be a matter of necessity. So what is the point of human existence?
The end of FreeBSD as an operating system is also a doomed thing, bound to be replaced by a new one. It will even one day face the sadness of init 0 because it cannot afford to pay its electricity bill, just like OpenBSD, the world's most secure operating system.
Richard Chang's introduction to FreeBSD was from a place called Experimental Ladder. The tutorial there said that the common Linux was FreeBSD, and at that moment, Richard Chang realized that this experimental ladder was not going to be too high and not too well developed.
This is a small thing, but it represents the fact that its level is not high and the curriculum lacks review.
Zhang Hongkai and the others were only responsible for cleaning up the sanitation of the venue, and there was really nothing they could do as to whether there would be seats that would cut people. Maybe this is the contingency plan that Zhang Hongkai emphasized. No one can deny that the light bulb will fall, because as long as Newtonian mechanics is still at work within its conditions, the light bulb is bound to fall.
Any two masses are attracted to each other by a force in the direction through the line of concatenation. The magnitude of this attraction is proportional to the product of their masses and inversely proportional to the square of their distance, independent of the chemical nature or physical state of the two objects and the mediating substance. -- Newton's Law of Universal Gravitation`},{header:"Chapter 22: The blue and clear sky",slug:"chapter-22-the-blue-and-clear-sky",content:`The sky is azure is because the sky is extremely distant from us. Is the orange outside the window still brilliant?
People actually made their choice long before they shook the dice, so shaking the color was just a formality and did not really determine Zhang Hongkai's choice.`}]},{path:"/chapter-2.-installing-freebsd/2.0-illustrated-installation.html",title:"Illustrated Installation",pathLocale:"/",contents:[{header:"Illustrated Installation",slug:"illustrated-installation",content:`It is recommended to wait ten seconds to enter, or you can enter directly. Options
Explanation ACPI Support
ACPI Support. There are many tutorials that say to turn it off if you have problems, but that is actually nonsense. If you turn it off, you will have more problems. Safe Mode
Safe Mode Single User
Single user mode, to retrieve the root password or repair the disk will be used Verbose
Verbose mode, show more output Select install and press the enter key to install. Here is the setup keyboard, just enter directly. This is to set the hostname. Recommended: src and lib32 only. Some graphics card drivers or other programs need src, after testing lib32 the day after the installation is invalid. It is not recommended to select ports, because even if ports is selected, it will not be installed, it will still be empty. options
explanation base-dbg
activates the base tool for debugging symbols, such as cat, ls, etc. kernel-dbg
Activate kernel and module debug symbols lib32-dbg
Compatibility library for running 32-bit applications on 64-bit versions of FreeBSD with debug symbols activated lib32
Compatibility libraries for running 32-bit applications on 64-bit versions of FreeBSD ports
ports src
system source code tests
test tools Recommended: File partitioning is explained in Chapter 6. It is recommended to choose auto ZFS/UFS, in general you should choose UFS if you have less than 8GB of RAM, and ZFS if you have 8G of RAM or more. allow manual partitioning to decompress txz files for customization. Modern computers should choose GPT+UEFI. older computers (e.g. before 2013) should choose the option to keep it consistent with the picture (GPT(BIOS)). Enter the root password here; it will not be displayed on the screen and will be required to be repeated twice to confirm consistency. Password strength is not required by default. Just keep the DHCP-acquired DNS, or you can use another DNS. It is not recommended to choose local_unbound, it will affect DNS, visit https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=262290.
The virtual machine does not need to select powerd. options
explanation local_unbound
Enables DNS local unbinding. This is the base system preconfigured unbound for local cache forwarding resolver use only. Note: If enabled, your system will not be networked correctly and you will need to configure DNS manually. sshd
Turn on the ssh service moused
Show mouse in tty interface ntpdate
Enable automatic clock synchronization at boot time ntpd
The Network Time Protocol (NTP) daemon for automatic clock synchronization powerd
power management dumpdev
Enable crash dumps for debugging the system Recommended choice: Here is the security enhancement choice, you should choose disable_sendmail, if you do not disable this service will make you stuck for a few minutes every time you boot up, and this service itself is not useful, it is for sending emails. This menu option is used to create a normal user. root daredevil can be ignored. Note that it is best to add the user to the wheel group and leave the other parameters as they are by default. As of FreeBSD 14 and later, all user shells have been standardized to sh.`}]},{path:"/chapter-2.-installing-freebsd/2.1-comparison-of-three-virtual-machines-and-freebsd-versions.html",title:"2.1 Comparison of Three Virtual Machines and FreeBSD Versions",pathLocale:"/",contents:[{header:"2.1 Comparison of Three Virtual Machines and FreeBSD Versions",slug:"_2-1-comparison-of-three-virtual-machines-and-freebsd-versions",content:""},{header:"FreeBSD Version Comparison",slug:"freebsd-version-comparison",content:`The following versions of FreeBSD are known: rc, beta, release, current, and stable.
release is absolutely stable, while stable and current are both development branches and are less stable.
current will be pushed to stable when it is relatively stable, but there is no guarantee that stable is free of major bugs, just that it is ABI-compatible.`},{header:"FreeBSD Version Selection",slug:"freebsd-version-selection",content:`where rc and beta are both beta releases.
For everyday use, you should choose the release version, and when there are multiple releases, you should choose the latest one.
If the hardware is relatively new or you need to test the ax200 NIC, you should choose the current version, which is a rolling development release.
Note: Only rc, beta and release can update the system using the freebsd-update command (and is a first-level architecture), the rest of the systems need to update the system by source code compilation.`},{header:"Comparison of three types of virtual machines",slug:"comparison-of-three-types-of-virtual-machines",content:""},{header:"Virtual Box vs. VMware Workstation Pro",slug:"virtual-box-vs-vmware-workstation-pro",content:`There are two types of virtual machines commonly used on personal computers, one is Virtual Box and the other is VMware Workstation Pro.
In general, VMware Workstation Pro (hereafter VM) is recommended for Windows systems and Virtual Box (hereafter VB) is recommended for Linux systems.
VM is closed-source and provided by a commercial company, which requires a fee and is available as a free trial, and there is also a free version of VMware Workstation Player; VB is an open-source product of Oracle, which is free.
Personally, VM is less buggy than VB in practice: VB has some odd problems (see the VB section for details), and it takes time to troubleshoot them. But in order to give you more freedom, we provide you with the installation and use of both VMs.`},{header:"Hyper-V",slug:"hyper-v",content:`Hyper-V is a virtual machine developed for Windows, and is divided into Gen 1 and Gen 2.
The difference between Gen 1 and Gen 2 is as follows. Hyper-V generation
disk
boot boot Gen 1
IDE + SCSI
MBR only Gen 2
SCSI only
UEFI + Secure Boot support + PXE support FreeBSD currently (as of 2022-1-28) does not yet run a mouse or keyboard properly on Hyper-V, as the mouse has no drivers. It is not recommended, and the support is listed below. In short, either the mouse doesn't work or the keyboard doesn't work, but of course if you say you use VNC then there's nothing to say.
The system was quickly created for Gen 2. Hyper-V Generations
FreeBSD Versions
Mouse
Keyboard
Remarks Gen 1
13.0
Supported
Unsupported
/ Gen 2
13.0
not supported
supported
need to change parameter sysctl kern.evdev.rcpt_mask=6 Gen 2
14.0-2022-1-27
not supported
supported`},{header:"Virtual machines paravirtualized with virtio technology",slug:"virtual-machines-paravirtualized-with-virtio-technology",content:`Note: The following is for reference only and is subject to testing. According to feedback, installing or upgrading FreeBSD on semi-virtualized platforms such as VMware EXSI will encounter failures (e.g. Aliyun virtio-blk driver will have problems), you need to press ESC at boot, then type set kern.maxphys=65536 to enter, then type boot to boot normally. After installation, you need to add kern.maxphys=65536 to /boot/loader.conf to avoid repeating the operation every time you turn on the computer. After Aliyun upgrade is finished, you may get stuck in the boot screen due to such problem, so you need to reboot and enter VNC to do the above operation again.
Reference link: https://wiki.freebsd.org/SystemTuning`}]},{path:"/chapter-2.-installing-freebsd/2.10-touchpad-settings-under-the-physical-machine.html",title:"2.10 Setting up the Touchpad Under the Physical Machine",pathLocale:"/",contents:[{header:"2.10 Setting up the Touchpad Under the Physical Machine",slug:"_2-10-setting-up-the-touchpad-under-the-physical-machine",content:""}]},{path:"/chapter-2.-installing-freebsd/2.11-physical-machine-sound-card-and-network-card-settings.html",title:"2.11 Sound Card and Network Card Setup",pathLocale:"/",contents:[{header:"2.11 Sound Card and Network Card Setup",slug:"_2-11-sound-card-and-network-card-setup",content:""},{header:"FreeBSD Sound Card",slug:"freebsd-sound-card",content:""},{header:"Sound setup",slug:"sound-setup",content:`First load the sound card driver.
# sysrc snd_hda="YES"
Then reboot.
Check the current sound card device with the following command
$ cat /dev/sndstat
Installed devices:
pcm0: <NVIDIA (0x0083) (HDMI/DP 8ch)> (play)
pcm1: <NVIDIA (0x0083) (HDMI/DP 8ch)> (play)
pcm2: <NVIDIA (0x0083) (HDMI/DP 8ch)> (play)
pcm3: <NVIDIA (0x0083) (HDMI/DP 8ch)> (play)
pcm4: <Realtek ALC892 (Rear Analog 5.1/2.0)> (play/rec) default
pcm5: <Realtek ALC892 (Front Analog)> (play/rec)
pcm6: <Realtek ALC892 (Rear Digital)> (play)
No devices installed from userspace.
No devices installed from userspace.
followed by default is the oss default device. If the software's audio uses oss and the output is default, the audio will be output from this device.
Most FreeBSD software has oss as the audio output driver, some default to pulseaudio (e.g. firefox), visit the last tip for settings for these software.
The following commands modify the output device. The number at the end is the number after the corresponding pcm.
$ sysctl hw.snd.default_unit=5
Here are a few recommended oss mixers. GUI environment
name kde5
audio/dsbmixer gtk
audio/gtk-mixer non-graphical
audio/mixertui`},{header:"Tips",slug:"tips",content:`But oss has some drawbacks, you can't record oss output with obs-studio. Only oss input can be recorded. Looking at the official forum, you can virtual_oss simulate a device to achieve this.
But obs-studio can record the audio from pulseaudio output.
So some software can use pulseaudio as output. The audio output of software that uses pulseaudio is not controlled by the above command. pulseaudio will send the audio to the corresponding device according to its own settings, so you need to use the pulseaudio mixer to control it.
In the audio controller that comes with kde5, the switch device is the pulseaudio control.
Some of the official packaged multimedia software supports pulseaudio AGVDbNVutgwiep6615bjTJnQkScwWuUEMuU95NredRG5 ports with the compile option to compile it yourself. Set pulseaudio as the audio driver output in the software and you're done!`}]},{path:"/chapter-2.-installing-freebsd/2.12-installation-of-the-printer.html",title:"2.12 Printer Installation",pathLocale:"/",contents:[{header:"2.12 Printer Installation",slug:"_2-12-printer-installation",content:"The environment used in this process is KDE5 desktop system and HP LaserJet Pro MFP M126nw multifunction laser printer (if other models of HP printers need to be added to the printer can find the corresponding model of the driver can be used), and has been connected to the local area network to achieve network printing."},{header:"Install CUPS (Common Unix Printing System)",slug:"install-cups-common-unix-printing-system",content:`## pkg install cups
or
# cd /usr/ports/print/cups
# make install clean
Please check x11 in the interface, this option generates an application to add and configure printers in the kde 5 desktop system.`},{header:"add services",slug:"add-services",content:`# sysrc cupsd_enable="YES"
When finished, start the cups service and execute the following command
# service cupsd restart`},{header:"Install the printer driver",slug:"install-the-printer-driver",content:"# pkg install hplip"},{header:"Add a printer",slug:"add-a-printer",content:`Type http://localhost:631 into your browser, which is the administration page for this printer
Click Administration in the top menu to add a printer
Or add it in kde 5 System Settings->Printers`}]},{path:"/chapter-2.-installing-freebsd/2.13-wireless-bluetooth-mouse-settings.html",title:"2.13 Wireless Bluetooth Mouse Setup",pathLocale:"/",contents:[{header:"2.13 Wireless Bluetooth Mouse Setup",slug:"_2-13-wireless-bluetooth-mouse-setup",content:`This article is based on FreeBSD 13.0 and uses the Logitech m337. # sysrc hcsecd_enable="YES".
# sysrc bthidd_enable="YES"
# service hcsecd start
# service bthidd start
Just use bluetooth-config tool to add Bluetooth devices.
Turn the Bluetooth mouse to pairing mode, run # bluetooth-config scan and follow the prompts to add the device.
# bluetooth-config scan
Scan for new bluetooth devices (1 out of 5 attempts)... Done.
Found 1 new Bluetooth device (now scanning for name).
[1] 34:88:5d:12:34:56 "Bluetooth Mouse M336/M337/M535" (Logitech-M337)
Select the device to be paired [1, or 0 to rescan].1 This device provides HMI device service.
Set it? [Yes]. Note: Logitech M337 will automatically disconnect after pairing connection. Solution: Delete the bd_addr line xx:xx:xx:xx in the /var/db/bthidd.hids file corresponding to the mouse and restart the bthidd service # service bthidd restart.`}]},{path:"/chapter-2.-installing-freebsd/2.2-freebsd-13.0-installation-based-on-virtual-box.html",title:"2.2 FreeBSD 13.0 Installation - Based on Virtual Box",pathLocale:"/",contents:[{header:"2.2 FreeBSD 13.0 Installation - Based on Virtual Box",slug:"_2-2-freebsd-13-0-installation-based-on-virtual-box",content:"Note: This virtual machine is not recommended for novices, as there are more potholes to step through."},{header:"Download VirtualBox",slug:"download-virtualbox",content:`Click download to download.
https://www.virtualbox.org`},{header:"Installation Setup",slug:"installation-setup",content:"After the installation is finished, please shut down the computer manually, uninstall or delete the installation CD, otherwise it will enter the installation screen again."},{header:"Network Settings",slug:"network-settings",content:`The network setup is complicated. In order to control the FreeBSD system in the virtual machine using the host (e.g. Windows 10), you need to set up two network cards - one in NAT mode for Internet access and the other in host-only mode for interoperability with the host. As shown in the figure. Use the command # ifconfig to see if the second NIC em1 is not getting an ip address, please DHCP it manually: # dhclient em1 to get it (for long term effect add ifconfig_em1="DHCP" to /etc/rc.conf).
If you don't have a network (internet) set DNS to 223.5.5.5. If not, visit section 4 of this chapter.`},{header:"Install enhancement tools",slug:"install-enhancement-tools",content:`## pkg install virtualbox-ose-additions
xorg can automatically recognize the driver, no need to manually configure /usr/local/etc/X11/xorg.conf (after testing the manual configuration but more card, click it takes 5 seconds to move once ......).
Use VBoxSVGA for the graphics card controller.
Edit # ee etc/rc.conf and add the following.
vboxguest_enable="YES"
vboxservice_enable="YES"
Start the service and adjust the permissions to.
# service vboxguest restart # May indicate that the module is not found, but it does not affect the use
# service vboxservice restart
# pw groupmod wheel -m <yourname> # sudo permissions
# pw groupmod opt -m <yourname> # boot reboot permissions`},{header:"Troubleshooting",slug:"troubleshooting",content:"If you can't get the mouse in or out, press ctrl on the right (there is a ctrl on the left and right side of the keyboard, which is the default setting); if you need to restore the auto-scaling screen or can't find the menu bar, press home + ctrl on the right (hint: the home key is under the Scroll Lock on the 108 keyboard."}]},{path:"/chapter-2.-installing-freebsd/2.3-freebsd-13.0-installation-based-on-vmware-workstation-pro-16.html",title:"2.3 FreeBSD 13.0 Installation - Based on Vmware Workstation Pro 16",pathLocale:"/",contents:[{header:"2.3 FreeBSD 13.0 Installation - Based on Vmware Workstation Pro 16",slug:"_2-3-freebsd-13-0-installation-based-on-vmware-workstation-pro-16",content:""},{header:"Video tutorials (4 sections in total, for the full version go to bilibili)",slug:"video-tutorials-4-sections-in-total-for-the-full-version-go-to-bilibili",content:`https://www.bilibili.com/video/BV14i4y137mh
Release Official Mirror Download: https://download.freebsd.org/ftp/releases/amd64/amd64/ISO-IMAGES/13.0/FreeBSD-13.0-RELEASE-amd64-disc1.iso
Current beta version (professional users only, for this version, can not start, environment variable errors are normal things!)
Older versions of FreeBSD are available for download at: http://ftp-archive.freebsd.org/pub/FreeBSD-Archive/old-releases/amd64/ISO-IMAGES/`},{header:"VMware Workstation Pro Download",slug:"vmware-workstation-pro-download",content:`Vmware 16.2.2 build-19200509 Currently unable to zoom screen, bugs have been reported: https://gitlab.freedesktop.org/xorg/app/appres/-/issues/1, https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=262118 Normal version can be downloaded from the QQ group 905149943 group file
VMware Workstation Pro is a free trial download.
VMware Workstation Pro is a free trial download, please do not download from third-party sites, otherwise there will be some miserable philosophical consequences. Click Download NOW and you're done. The left side is for Windows and the right side is for Linux. The software is fee-based, but the license code is not difficult to obtain. https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html`},{header:"VMware Workstation 16 Player Download",slug:"vmware-workstation-16-player-download",content:`VMware Workstation 16 Player is free for personal use, you can also choose this version.
https://www.vmware.com/products/workstation-player/workstation-player-evaluation.html`},{header:"Network Setup",slug:"network-setup",content:`Please use NAT mode, if you can't interoperate with the host (physical machine), please open VMware Edit - Virtual Network Manager and remove the first item "Bridging". After removing it, restart the virtual machine and it should work.
If there is no network, please set the DNS to 8.8.8.8. Please visit section 4 of this chapter.`},{header:"Graphics card drivers and virtual machine enhancement tools",slug:"graphics-card-drivers-and-virtual-machine-enhancement-tools",content:""},{header:"Graphics drivers",slug:"graphics-drivers",content:`Vmware 16.2.2 build-19200509 currently does not scale the screen, bugs have been reported: https://gitlab.freedesktop.org/xorg/app/appres/-/issues/1, https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=262118 Normal version can be downloaded from the group file VMware auto-scaling screen please install graphics card driver, i.e.
# pkg install xf86-video-vmware You also need to install this driver under wayland. If the screen is not displayed properly (too large), please try: Edit the virtual machine settings --> Hardware, Devices --> Monitor --> Monitor, Specify monitor settings --> Maximum resolution for any monitor, set it to the host's resolution or slightly lower than the host's resolution.`},{header:"Virtual Machine Enhancement Tool",slug:"virtual-machine-enhancement-tool",content:`If there is no desktop.
# pkg install open-vm-tools-nox11
If there is a desktop
# pkg install open-vm-tools
Specific configuration
Add the following lines to /etc/rc.conf
vmware_guest_vmblock_enable="YES"
vmware_guest_vmhgfs_enable="YES"
vmware_guest_vmmemctl_enable="YES"
vmware_guest_vmxnet_enable="YES" vmware_guestd_enable="YES"
Edit /boot/loader.conf
Write in
fusefs_load="YES"`},{header:"Shared folder",slug:"shared-folder",content:`Please install the virtual machine enhancement tool first.
# mount -t .host:/ /mnt/hgfs
View the shared folder
# ls /mnt/hgfs
Note: Due to a bug, FreeBSD 11/12 may not boot in VmMare's UEFI environment. Tested 13.0 boots normally. Tips
When using Windows Remote Desktop or other XRDP tools to remote another Windows desktop and operate FreeBSD with a Vmware virtual machine running on top of it, the mouse often becomes difficult to control.`}]},{path:"/chapter-2.-installing-freebsd/2.4-tencent-cloud-lightweight-cloud-and-other-servers-installation-freebsd.html",title:"2.4 Tencent Cloud Lightweight Cloud and other servers dd Installing FreeBSD",pathLocale:"/",contents:[{header:"2.4 Tencent Cloud Lightweight Cloud and other servers dd Installing FreeBSD",slug:"_2-4-tencent-cloud-lightweight-cloud-and-other-servers-dd-installing-freebsd",content:`Note: Although this article has nothing to do with dd, it is not recommended if you don't already know what dd is. This is all beyond your hands-on skills and knowledge base.
Also, for versions that are no longer supported by security, such as 9.2, please refer to this article and work with the manual FreeBSD installation section.`},{header:"Video Guideline",slug:"video-guideline",content:"http://b23.tv/zcfHa4K"},{header:"Text Guideline",slug:"text-guideline",content:`Machines such as Tencent Cloud Lightweight and AliCloud do not have support for FreeBSD and can only be installed violently by special methods. Please be careful with data security, the following tutorials are dangerous and require you to have some hands-on skills.
He is a server panel without a FreeBSD image IDC, so you have to use a strange method to install it. Because the FreeBSD and Linux kernels are not common and the executables are not common, you cannot install them by chroot and then delete the source system. The installation is done by booting the FreeBSD system on a memory disk, i.e. mfsBSD, and then formatting the hard disk to install the new system. mfsBSD is a FreeBSD system that is fully loaded into memory, similar to PE in Windows.
We needed to download the mfsBSD image in img format, and I didn't know how well the mfsBSD server was connected in China, so I just transferred the file first I didn't know how the mfsBSD server was connected in China, so I transferred the file to another file server in China first.`},{header:"Why can't I dd directly? (Error demonstration, for illustration only, please do not execute)",slug:"why-can-t-i-dd-directly-error-demonstration-for-illustration-only-please-do-not-execute",content:`I tried to dd the mfsBSD img directly to the hard disk in a normal Linux system, and after rebooting, the bootloader loaded normally, but the memory disk could not be mounted properly because the system had written to the hard disk again.
# wget https://mfsbsd.vx.sk/files/images/13/amd64/mfsbsd-se-13.0-RELEASE-amd64.img -O- | dd of=/dev/vda
| here means pipeline, using the standard output of the previous command as the standard input of the next command.
-O- means to download the file output to the standard output, while dd will automatically read the content from the standard input when no if is specified.`},{header:"The real mfsBSD startup method",slug:"the-real-mfsbsd-startup-method",content:`It is because of the problem just described, and the fact that FreeBSD is a different ecology than normal Linux, that we need to access a Linux memory disk first, and then write mfsBSD to the hard disk in a Linux running in memory.
Just below the mfsBSD download location, there is mfsLinux, which is the tool we can use. Since it is only in ISO format, it cannot be booted directly in the current environment, and since it says it is pure initrd, we will extract the initrd and kernel to boot it and put it on the hard disk to boot manually.
We know that in a normal Linux system, initrd is a miniature but complete Linux AGVDbNVutgwiep6615bjTJnQkScwWuUEMuU95NredRG5 initrd is loaded by the bootloader, and the script in initrd does the boot preparation and runs the the initialization process on the hard drive.
We first put the kernel and initrd files extracted from the ISO in the root folder, say qwq, and then reboot the machine into the GRUB command line interface (you can press e during the countdown to enter edit mode, delete all linux and initrd lines, and press Ctrl X to load them after writing) and manually boot and initrd (you can use the Tab key to complete the path).
linux (hd0,msdos1)/qwq/vmlinuz
initrd (hd0,msdos1)/qwq/initramfs.igz
boot This special initrd does not load the local system after booting, but connects itself to the network and opens the ssh server. So we get a Linux system running in memory.
At this point the server should be able to be connected by ssh and the hard disk can be safely formatted.
The root password for mfsBSD and mfsLinux images is mfsroot by default
# cd /tmp
# wget https://mfsbsd.vx.sk/files/images/13/amd64/mfsbsd-se-13.0-RELEASE-amd64.img
# dd if=mfsbsd-se-13.0-RELEASE-amd64.img of=/dev/vda
# reboot
Hint: It is recommended to use the server's "snapshot" feature to backup the server here, in case the following tutorials are missed and delayed.`},{header:"Installing FreeBSD",slug:"installing-freebsd",content:`Once the system has been initialized, you can ssh on, but there is one more step needed to install it properly (otherwise the installation wizard will report an error afterwards)
We also need to download the FreeBSD installation manifest file.
# mkdir -p /usr/freebsd-dist
# cd /usr/freebsd-dist
# fetch http://ftp.freebsd.org/pub/FreeBSD/releases/amd64/13.0-RELEASE/MANIFEST
Finally, just run # bsdinstall for a normal installation (preferably with automatic ufs partitioning).
Please note that most servers, such as the Tencent Lightweight Cloud example in this article, do not support UEFI and still use the traditional BIOS; please also use ufs, zfs installation will cause errors.`}]},{path:"/chapter-2.-installing-freebsd/2.5-manual-installation-of-freebsd.html",title:"2.5 Manual Installation of FreeBSD",pathLocale:"/",contents:[{header:"2.5 Manual Installation of FreeBSD",slug:"_2-5-manual-installation-of-freebsd",content:""}]},{path:"/chapter-2.-installing-freebsd/2.6-ee-usage-and-network-configuration.html",title:"2.6 ee Usage and Network Configuration",pathLocale:"/",contents:[{header:"2.6 ee Usage and Network Configuration",slug:"_2-6-ee-usage-and-network-configuration",content:""},{header:"Overview",slug:"overview",content:""},{header:"ee usage",slug:"ee-usage",content:`ee is much simpler to use than nano. It is a text editor that comes with thebase system.
For example
# ee a.txt
Press ESC, a prompt box will be displayed, press enter twice to save.`},{header:"Network configuration",slug:"network-configuration",content:`First ifconfig to see if there is a network card, if not then it is out of the scope of this section. Please note that lo0 is not the real NIC, if you can only see this it means your NIC is not properly driven.
Example output.
root@ykla:~ # ifconfig
genet0: flags=8843<UP,BROADCAST,RUNNING,SIMPLEX,MULTICAST> metric 0 mtu 1500 options=68000b<RXCSUM,TXCSUM,VLAN_MTU,LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6> ether dc:a6:1a:2e:f4:4t inet 192.168.123.157 netmask 0xffffff00 broadcast 192.168.123.255 media: Ethernet autoselect (1000baseT <full-duplex>) status: active nd6 options=29<PERFORMNUD,IFDISABLED,AUTO_LINKLOCAL>
lo0: flags=8049<UP,LOOPBACK,RUNNING,MULTICAST> metric 0 mtu 16384 options=680003<RXCSUM,TXCSUM,LINKSTATE,RXCSUM_IPV6,TXCSUM_IPV6> inet6 ::1 prefixlen 128 inet6 fe80::1%lo0 prefixlen 64 scopeid 0x2 inet 127.0.0.1 netmask 0xff000000 groups: lo nd6 options=21<PERFORMNUD,AUTO_LINKLOCAL>
root@ykla:~ # The following applies to both virtual and physical machines.
By default, FreeBSD is properly networked, if not it may be because DNS is not properly configured.
# ee /etc/resolv.conf
Clear out the contents. Add the following.
nameserver 8.8.8.8 #Google DNS
nameserver 8.8.4.4
After that restart the network configuration
# /etc/netstart restart
Try pinging google.com. (Press ctrl + C to interrupt)
Example output.
root@ykla:~ # ping google.com
PING google.com 64.233.160.0: 56 data bytes
64 bytes from 64.233.160.0: icmp_seq=0 ttl=55 time=30.617 ms
64 bytes from 64.233.160.0: icmp_seq=1 ttl=55 time=30.608 ms
64 bytes from 64.233.160.0: icmp_seq=2 ttl=55 time=30.633 ms
^C
--- google.com ping statistics ---
3 packets transmitted, 3 packets received, 0.0% packet loss
round-trip min/avg/max/stddev = 30.608/30.619/30.633/0.010 ms
root@ykla:~ # Network connection.`},{header:"Detailed usage",slug:"detailed-usage",content:`Press ESC after editing to bring up the prompt box, enter a to save. \\ or [ key to display the main menu.
o Enter the ASCII code, e.g., enter 65 to display A.
u Jump to the end of the file.
t Jump to the beginning of the file.
c Enter command. After pressing Ctrl+c, command instructions appear in the upper menu, for example you can type a number directly to move the cursor to a certain line.
y search. After pressing Ctrl+y, you can enter the string you want to search for. If you want to search for the next string, just press Ctrl+x again. The preset search is case-insensitive; to make it case-sensitive, you can press Ctrl+c and type case. To cancel, just press Ctrl+c again and type nocase.
a Go to the beginning of the line.
e Go to the end of the line.
d Delete the character at the cursor location.
j Paste the last deleted character.
k Deletes an entire line at the cursor location.
l Paste the last deleted line.
w Deletes a word.
r Paste the last deleted word.
p Moves the cursor to the previous line.
n Moves the cursor to the next line.
b Moves the cursor to the previous word, same as the arrow keys left.
f Moves the cursor to the next word, as with the right arrow key.
g Next page.
v Previous page.
z Move to the next word.
Leave ee. If the file has been modified, it will ask you if you want to save the file.`}]},{path:"/chapter-2.-installing-freebsd/2.7-common-software-and-ssh-configuration.html",title:"2.7 Common Software and SSH Configuration",pathLocale:"/",contents:[{header:"2.7 Common Software and SSH Configuration",slug:"_2-7-common-software-and-ssh-configuration",content:""},{header:"WinSCP Download",slug:"winscp-download",content:`WinSCP is a graphical wrapper for the scp command, and supports various protocols such as FTP. It can be used to transfer files between Windows and Linux or BSD in a fast way.
Download at
https://winscp.net/eng/download.php`},{header:"Xshell Download",slug:"xshell-download",content:`Xshell is a powerful shell tool for Windows platforms, not recommended to use the putty of the misery philosophy.
Download (just enter your username and email) at
https://www.netsarang.com/en/free-for-home-school`},{header:"Configure SSH",slug:"configure-ssh",content:""},{header:"Allow root ssh",slug:"allow-root-ssh",content:`# ee /etc/ssh/sshd_config # (delete the previous # and change yes or no to the following)
PermitRootLogin yes # Allow root login PasswordAuthentication yes # (optional) set whether to use normal password authentication, if not set this parameter to use PAM authentication login, more secure Hint: What does it mean to delete the previous #? # is generally used as a comment in UNIX, equivalent to // in C language. It means that the text after it is only descriptive and has no practical effect.`},{header:"Turn on SSH service",slug:"turn-on-ssh-service",content:`# service sshd restart
If sshd is not found, please execute the next command:
# sysrc sshd_enable="YES"
and then
# service sshd restart`},{header:"Keep SSH online",slug:"keep-ssh-online",content:`Server-side settings.
Edit # ee /etc/ssh/sshd_config and adjust the \`\`ClientAlive\` settings.
ClientAliveInterval 10
ClientAliveCountMax 3
If the client does not respond 3 times, the client is considered disconnected.
ClientAliveInterval defaults to 0, which means that detection is disabled.
Client settings.
# ee /etc/ssh/ssh_config for global users, ~/.ssh/config for current users only.
Host *
ServerAliveInterval 10
ServerAliveCountMax 3
Or, when connecting, use -o to specify the following parameters.
# ssh user@server-ip -p 22 -o ServerAliveInterval=10 -o ServerAliveCountMax=3
Just turn on detection on either the client or server side.`},{header:"SSH key login",slug:"ssh-key-login",content:""},{header:"Generate the key",slug:"generate-the-key",content:`## ssh-keygen OpenSSH 7.0 and above disables the ssh-dss (DSA) public key algorithm by default. FreeBSD 13.0 uses OpenSSH_7.9. so just use the default. root@ykla:~ # ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/root/.ssh/id_rsa): # Enter here
Created directory '/root/.ssh'.
Enter passphrase (empty for no passphrase): #Enter password here (password is recommended for security)
Enter same passphrase again: #Repeat password here
Your identification has been saved in /root/.ssh/id_rsa.
Your public key has been saved in /root/.ssh/id_rsa.pub.
The key fingerprint is:
SHA256:MccEjGhWCv6P/8y62JfbpEws9OnRN1W0adxmpceNny8 root@ykla
The key's randomart image is:
+---[RSA 2048]----+
|. o.o... ... |o.o....
|... +... ... o+*|
+... . o*B|
| . . o=. |o=.
| . . o S . ... |.
+ o+o . . |.
| . o *.o o E . |.
+ Bo= . . . |.
| . ==O.. | .
+----[SHA256]-----+
root@ykla:~ #`},{header:"Configure the key",slug:"configure-the-key",content:`Check the permissions (the default created permissions are as follows)
drwx------ 2 root wheel 512 Mar 22 18:27 /root/.ssh # Permissions are 700
-rw------- 1 root wheel 1856 Mar 22 18:27 /root/.ssh/id_rsa #private key with permissions of 600
-rw-r--r-- 1 root wheel 391 Mar 22 18:27 /root/.ssh/id_rsa.pub #public key with permissions 644
Generate the authentication public key.
# cat /root/.ssh/id_rsa.pub >> /root/.ssh/authorized_keys
-rw-r--r-- 1 root wheel 391 Mar 22 18:39 /root/.ssh/authorized_keys # check permissions 644
After saving the private and public keys locally using winscp, delete the extra files on the server:.
# rm /root/.ssh/id_rsa*`},{header:"Modify /etc/ssh/sshd_config",slug:"modify-etc-ssh-sshd-config",content:`# ee /etc/ssh/sshd_config
Modify the configuration as follows (remove the leading # and change yes or no to the following)
PermitRootLogin yes # Allow ROOT users to log in directly to the system
AuthorizedKeysFile .ssh/authorized_keys #Modify to use the key file in the user directory, the default has been configured correctly, please check
PasswordAuthentication no #Do not allow users to log in with password
ChallengeResponseAuthentication no #Disable password authentication
PermitEmptyPasswords no #Disable login for users with empty passwords`},{header:"Restart the service",slug:"restart-the-service",content:`# service sshd restart
Use xshell to login, enter the key password, import the private key id_rsa, and you can login. If you can't login with other ssh software, please convert the key format by yourself.`}]},{path:"/chapter-2.-installing-freebsd/2.8-physical-machine-installation-and-hardware-options.html",title:"2.8 Physical Machine Installation and Hardware Options",pathLocale:"/",contents:[{header:"2.8 Physical Machine Installation and Hardware Options",slug:"_2-8-physical-machine-installation-and-hardware-options",content:""},{header:"Physical machine installation additions",slug:"physical-machine-installation-additions",content:`Note: Please don't ask me which mirror should be used in the installation, that's because you are doing it wrong.
Do not use a mirror file with the word bootonly unless you know what you are doing. Installing with CD should be done with an image ending in iso.
Using a USB stick installation should use an image that ends in img, for example
https://download.freebsd.org/ftp/releases/amd64/amd64/ISO-IMAGES/13.1/FreeBSD-13.1-RELEASE-amd64-memstick.img
FreeBSD does not provide a graphical interface on all installation media including, but not limited to, the virtual machine files, so you will need to install them yourself.
Note: If you want to use UEFI in a vmware virtual machine, you must use FreeBSD 13.0 and above, otherwise you will get a splash screen on boot.
The burning tool for Windows should be Rufus, and Linux can be used directly with the dd command.
https://rufus.ie/
Note: It is not recommended to use the win32diskimager recommended by Handbook, sometimes the checksum will be wrong (actually the file checksum is normal). Do not use ventory to boot the physical installation, sometimes it will report that the installation file cannot be found. Be honest and rufus.`},{header:"Hardware options (all the following hardware works fine)",slug:"hardware-options-all-the-following-hardware-works-fine",content:`For more hardware, please refer to:
https://bsd-hardware.info/?d=FreeBSD Xiaomi notebook 12.5 generation: processor 6Y30, graphics card HD515, WIFI intel 8260AC, sound card ALC 233 (actually 235), hard disk NVME INTEL 600P. 2. Lenovo G400: processor i3-3110M/i5-3230M, graphics card HD4000, WIFI intel N135 (Lenovo G400 NIC white list supports three kinds of NICs, if it is Broadcom BCM43142, we recommend replacing it with N135, FUR data number: 04W3783, if the replacement prompts can not be read, please first deactivate in the BIOS) (If the replacement indicates that it cannot be read, please first disable the wireless NIC in BIOS and restore it after upgrading BIOS).`},{header:"Troubleshooting.",slug:"troubleshooting",content:`Q: How do I upgrade the BIOS of my Lenovo laptop without a battery?
A: If you can't find the battery, please unzip the 78cn25ww.exe file (please get the BIOS file from Lenovo USA website), open the platform.ini with Notepad and look for.
[AC_Adapter]
Flag=1
BatteryCheck=1
BatteryBound=30
Change all the above values to 0:
[AC_Adapter]
Flag=0
BatteryCheck=0
BatteryBound=0
After saving, double click InsydeFlash.exe to do so.
If you lose power, you are responsible for the consequences`},{header:"Network card recommendation",slug:"network-card-recommendation",content:`No interest entanglement. type
make/model
chipset/parameters
sales price ($) USB Wireless NIC
COMFAST CF-WU810N
RTL8188EUS 150M 2.4G
20 USB Ethernet Card
UGREEN USB 100 Gigabit NIC CR110
AX88772A 100M
11.99 USB Ethernet Card
UGREEN USB Gigabit Card CM209
AX88179A 1000M
14.44 USB Ethernet Card
UGREEN USB 2.5G NIC CM275
RTL8156 2.5G
15.99 Type-C Ethernet Card
UGREEN Type-C to 100 Gb/s NIC 30287
AX88772A 100M
15.99 Type-C Ethernet Card
UGREEN Type-C to Gigabit Card CM199
AX88179A 1000M
16.99 Type-C Ethernet Card
UGREEN Type-C to 2.5G NIC
RTL8156 2.5G
39.99`}]},{path:"/chapter-2.-installing-freebsd/2.9-configuration-of-the-graphics-card-under-the-physical-machine.html",title:"2.9 Configuring the Graphics Card Under Physical Machines",pathLocale:"/",contents:[{header:"2.9 Configuring the Graphics Card Under Physical Machines",slug:"_2-9-configuring-the-graphics-card-under-physical-machines",content:"FreeBSD has ported graphics drivers from Linux, and in theory, both A and N cards run properly on the AMD64 architecture."},{header:"Support",slug:"support",content:`For FreeBSD 11, support is the same as for Linux kernel 4.11.
For FreeBSD 12, support is the same as Linux kernel 4.16.
For FreeBSD 13.1/14-current, compiled with drm-510-kmod, support is the same as Linux 5.10, which supports Intel 12th generation processors, and AMD supports R7 4750U.
Details can be found at
https://wiki.freebsd.org/Graphics`},{header:"Intel Core / AMD Solo",slug:"intel-core-amd-solo",content:""},{header:"Installing drivers - simple version (recommended)",slug:"installing-drivers-simple-version-recommended",content:`First switch to the latest source or use ports to install.
## pkg install drm-kmod
or
# cd /usr/ports/graphics/drm-kmod/ && make install clean Note that.
The package graphics/drm-kmod is not real, it is just a metapackage to help determine the system version to install the corresponding ports package. Troubleshooting:
If prompted with /usr/ports/xxx no such xxx path not found, please fetch portsnap first: portsnap fetch extract. portsnap change source problem please visit previous article.`},{header:"Installing drivers - complex versions",slug:"installing-drivers-complex-versions",content:`Note that to install via ports prompt requires source code, visit Chapter 21. FreeBSD 12 # cd /usr/ports/graphics/drm-fbsd12.0-kmod/ && make install clean Note:
You should install drm-fbsd12.0-kmod for any 12.X except 12.0, but you should rebuild it locally using the port and not using pkg, otherwise it will not work properly. FreeBSD 13 FreeBSD 13.0 can be installed using the binary package # pkg install drm-fbsd13-kmod or compile and install drm-54-kmod, configured as in "load graphics".
FreeBSD 13.1 requires drm-510-kmod to be compiled and installed via ports. Because the latter supports more graphics cards:# cd /usr/ports/graphics/drm-510-kmod/ && make BATCH=yes install clean FreeBSD 14 (current) # cd /usr/ports/graphics/drm-510-kmod/ && make BATCH=yes install clean`},{header:"Load the graphics card",slug:"load-the-graphics-card",content:`This configuration step is required no matter which of the above methods you use. Open /etc/rc.conf: If it is an intel core card, add kld_list="i915kms"
AMD For AMD graphics cards from HD7000 onwards, add kld_list="amdgpu" (most people should use this, if not go back to radeonkms)
For AMD cards before HD7000, add kld_list="radeonkms" (this is more than 10 years old)`},{header:"Video hard decoding",slug:"video-hard-decoding",content:"# pkg install xf86-video-intel libva-intel-driver"},{header:"Brightness adjustment",slug:"brightness-adjustment",content:""},{header:"General",slug:"general",content:`For general computers.
## sysrc -f /boot/loader.conf acpi_video="YES"
For Thinkpad.
# sysrc -f /boot/loader.conf acpi_ibm_load="YES"
# sysrc -f /boot/loader.conf acpi_video="YES" FreeBSD 13 only # backlight decr 20 # reduce brightness by 20%`},{header:"Intel",slug:"intel",content:`# pkg install intel-backlight
# intel-backlight 80 # adjust to 80% brightness`},{header:"AMD graphics cards",slug:"amd-graphics-cards",content:`This part of the tutorial has been tested for renoir graphics cards.
When using Gnome, if the screen is automatically locked or rested, you may not be able to access the desktop again. See https://bugs.freebsd.org/bugzilla/show_bug.cgi?id=255049. To install the required drivers (all latest sources or from ports).
# pkg install drm-510-kmod gpu-firmware-kmod xf86-video-amdgpu
Create a new and edit xorg configuration file.
# ee /usr/local/etc/X11/xorg.conf.d/06-driver.conf
Add (Note that the BusID should be changed to your own, use pciconf -l to visit it).
Section "Device" Option "DRI" "3" Option "AccelMethod" "exa" Option "MigrationHeuristic" "greedy Option "TearFree" "On" Driver "amdgpu" BusID "PCI:6:0:0"
EndSection`},{header:"nvidia graphics card",slug:"nvidia-graphics-card",content:`# pkg install nvidia-driver nvidia-settings nvidia-xconfig # Install several nvidia related packages
# sysrc kld_list+="nvidia-modeset" # configure the driver
# reboot # reboot
You should be able to drive the graphics card by this time.
# View driver information
$ nvidia-smi
If you find that the system is not using the nvidia driver you need to automatically generate the configuration file.
# Xorg -configure # Generate the configuration file. Note that this step is not required!
# cp /root/xorg.conf.new /etc/X11/xorg.conf
Then reboot and you will find the nvidia driver working properly
NOTE: By default, nvidia-driver installed via pkg includes Linux compatibility layer support, to use Linux software, you need to execute the following command, (Actually, to use linux compatibility layer, the following command is required.) If you do not need to use the Linux compatibility layer, you do not need to execute it.
# sysrc linux_enable="YES"
Of course if you use the official pkg package, after installing the driver and rebooting.
$ kldstat
You will find that the linux.ko module is loaded automatically. If you think it's too bloated and don't need the Linux compatibility layer, you can compile nvidia-driver yourself via ports, removing the linux compatibility support.`}]},{path:"/chapter-20.-entertainment-and-education/20.1-games.html",title:"20.1 Games",pathLocale:"/",contents:[{header:"20.1 Games",slug:"_20-1-games",content:""},{header:"Classic games",slug:"classic-games",content:""},{header:"Five-minute game",slug:"five-minute-game",content:`Note: Italicized are the games that are not packaged yet Gnome/GTK
KDE/Qt
Notes sudoku
gnome-sudoku
ksudoku
logic/puzzle games sudoku
hitori Logic/Puzzle Games minesweeper
gnome-mines
kmines
Puzzle games 2048
gnome-2048
2048-qt
Puzzle Games gnome-nibbles Casual Games chess
gnome-chess
knights
puzzle games gnome-chess
bovo
puzzle games puzzles
gnome-taquin puzzle games gnome-tetravex
puzzle games gnome-mahjongg
kajongg tetris
quadrapassel
kblocks
time-limited elimination games robots
gnome-robots black-and-white chess
iagno
kreversi
flip chess pacman
kapman kapman
swell-robots
gnome-klotski kdiamond
elimination games kdiamond
elimination games four-in-a-row
kfourinline bomberman granatier gnome-mastermind Logic/puzzle games klines
Color Line Game card solitaire
aisleriot atomix
katomic
puzzle games For more logic/puzzle games, please visit web puzzles, and local mini-games.`},{header:"Classic open source games",slug:"classic-open-source-games",content:""},{header:"Wine / PlayOnBSD games",slug:"wine-playonbsd-games",content:""},{header:"Renpy game",slug:"renpy-game",content:`Renpy is a visual novel engine that can be easily used to create interactive video games. Since the backbone of the game is the Python language, it can be easily ported to different system platforms, such as Windows and Linux.
Although Renpy is not system-adapted to FreeBSD at the moment, FreeBSD itself has packaged it twice. Does this make it possible to play interactive games on FreeBSD? Obviously not! However, we can try a little.`},{header:"How to do it",slug:"how-to-do-it",content:`install renpy
# pkg install renpy download the game
Here is [Heartbeat Literature Club!] (https://teamsalvato.itch.io/ddlc) as an example, you can do the same for other games. Select the game with the Linux version to unzip. 3. Run renpy
You can see the game DDLC-1.1.1 listed in the Projects on the left side of the engine interface, click the game and select Launch Project in the bottom right corner to load the game.`},{header:"Add",slug:"add",content:`Game distribution site: itch Try to choose a game with a Linux version
If the game only supports Windows, you can package the Linux version with the renpy engine. Unpacking rpa files: unrpa
python3 unrpa -mp "unpacking directory" "XXX.rpa" rpyc file unpacking: unrpyc
python3 unrpyc -c "XXX.rpyc"
This step is non-essential and is only for easy translation into other languages.`},{header:"Godot games",slug:"godot-games",content:""},{header:"Other",slug:"other",content:""}]},{path:"/chapter-20.-entertainment-and-education/20.2-audio-and-video-players.html",title:"20.2 Audio and video player",pathLocale:"/",contents:[{header:"20.2 Audio and video player",slug:"_20-2-audio-and-video-player",content:""}]},{path:"/chapter-20.-entertainment-and-education/20.3-audio-and-video-editing.html",title:"20.3 audio and video editing",pathLocale:"/",contents:[{header:"20.3 audio and video editing",slug:"_20-3-audio-and-video-editing",content:""},{header:"Audio editing",slug:"audio-editing",content:"Audacity : # pkg install audacity"},{header:"Video editing",slug:"video-editing",content:""},{header:"Snapshot",slug:"snapshot",content:`There are many related software under Unix system, here we briefly introduce the use of vector graphics program Inkscape [ ] Installation: # pkg install inkscape 1. Ctrl O (Latin letters) to open the image
Click on the image
Alt i change to vector mode
Shift F6 Bezier and linear mode
Ctrl A Select All
Select Path --> Intersection to snap the image To learn more, check out Inscape official tutorial`},{header:"Editing",slug:"editing",content:"Olive video editor: # pkg install olive-video-editor"},{header:"Edit subtitles",slug:"edit-subtitles",content:"Aegisub: # pkg install aegisub"},{header:"Compress subtitles",slug:"compress-subtitles",content:"ffmpeg : # pkg install ffmpeg $ ffmpeg -i video file.mp4 -vf subtitles=corresponding subtitles.ass output video.mp4"}]},{path:"/chapter-20.-entertainment-and-education/20.4-education.html",title:"20.4 Education",pathLocale:"/",contents:[{header:"20.4 Education",slug:"_20-4-education",content:""},{header:"Computer Science",slug:"computer-science",content:""},{header:"Language and Translation",slug:"language-and-translation",content:""},{header:"Algebra",slug:"algebra",content:`Simple calculator bc
Installation command: # pkg install gnubc`},{header:"Suffix representation",slug:"suffix-representation",content:`Note: This section is referenced from Wikipedia
From the time we were introduced to math in kindergarten, the expression we use for calculations is the midfix representation. For example, to compute the sum of 3 and 4, write 3 + 4, where the operator (in this case the plus sign) is in the middle of the operands (i.e. 3 and 4).
In the suffix representation, the operator is placed after the operand. The above equation would be written as 3 4 + if the suffix representation were used instead. If there is more than one operator, the operator is placed after the second operand, so 3 - 4 + 5 in the regular midfix representation is written 3 4 - 5 + in the suffix representation.
At first glance, the suffix representation seems very anti-human, but this approach is easier for computers to understand and can take advantage of the stack structure to reduce computer memory access.
One example of a midfix expression 5 + ((1 + 2) * 4) - 3 is changed to a suffix representation of 5 1 2 + 4 * + 3 -.
The following table gives the process of finding the value from left to right, and the stack column gives the intermediate values for tracking the algorithm. Input
Operation
Stack
Comments 5
into the stack
5 1
Into the stack
5, 1 2
Into the stack
5, 1, 2 +
add
5, 3
1, 2 out of the stack and let the result 3 go on the stack 4
stack
5, 3, 4 *
Multiply
5, 12
3, 4 out, let result 12 on the stack +
addition
17
5, 12 out, let result 17 on the stack 3
stacking
17, 3 -
subtract
14
17, 3 out of stack, let result 14 into stack When the calculation is complete, there is only one operand on the stack, which is the result of the expression 14.`},{header:"Desktop calculator dc",slug:"desktop-calculator-dc",content:`dc is an open-source calculator that uses a suffix representation. Traditionally, the bc calculator program, which uses a midfix representation, is implemented on top of dc.
For the above example, let's try to do something with dc. Type dc -e '5 1 2 + 4 * + 3 - p' in the terminal to get 14. Problem solved.`},{header:"Geometry",slug:"geometry",content:""},{header:"Geometry drawing software geogebra",slug:"geometry-drawing-software-geogebra",content:"Installation command: # pkg install geogebra"},{header:"Linear programming",slug:"linear-programming",content:`GLPK installation: # pkg install glpk
In linear programming, we often use the simplex method.
At the computer level, there is a lot of software that can free our brains, and you can even get a good answer in the OFFICE Forms software "Planning Solution".
Here we briefly introduce the use of the command line free linear programming package GLPK. We hope you can learn from it.
Let's start with an example from the book "Operations Research : An Introduction" by Hamdy A. Tara, Example 2.4-1. A bank plans to lend up to 12 million. The following table shows the relevant data. Loan Type
Interest Rate
Bad Debt Rate Personal
0.14
0.1 Auto
0.13
0.07 Household
0.12
0.03 0.125
0.05
Agriculture Commercial
0.1
0.02 Bad debt means no profit is generated and the principal is not recovered. In order to compete with other commercial institutions, the sum of agricultural and commercial loans should not be less than 40% of all loans; in order to revitalize the real estate industry, personal loans, household loans and personal loans should account for at least 50% of the total; and the maximum allowable bad debt rate for banks is 4% of all loans.
Find out how to allocate the highest profit to the bank. Let's analyze it step by step. First, let the volume of loans for personal, automotive, household, agricultural and commercial be x1, x2, x3, x4 and x5, respectively.
Profit = 0.14 - 0.9 x1 + 0.13 - 0.93 x2 + 0.12 - 0.97 x3 + 0.125 - 0.95 x4 + 0.1 - 0.98 x5
Principal loss = 0.1 x1 + 0.07 x2 + 0.03 x3 + 0.05 x4 + 0.02 x5
The objective function max z = profit - loss of principal;
Next, the reader can find the constraints according to the question.
From the above objective function and constraints, we can give the following mathematical model.
max z = 0.026 x1 + 0.0509 x2 + 0.0864 x3 + 0.06875 x4 + 0.78 x5 s.t. x1 + x2 + x3 + x4 + x5 <= 1200, x4 + x5 <= 0.4 (x1 + x2 + x3 + x4 + x5), x3 >= 0.5 (x1 + x2 + x3), 0.1 x1 + 0.07 x2 + 0.03 x3 + 0.05 x4 + 0.02 x5 <= 0.04 (x1 + x2 + x3 + x4 + x5), xi >= 0 (i = 1, 2, 3, 4, 5)
Create a new text file named example and enter.
var x1 >= 0;
var x2 >= 0;
var x3 >= 0;
var x4 >= 0;
var x5 >= 0; maximize z: 0.026*x1 + 0.0509*x2 + 0.0864*x3 + 0.06875*x4 + 0.78*x5;
s.t. C1: x1 + x2 + x3 + x4 + x5 <= 1200;
s.t. C2: x4 + x5 <= 0.4*(x1 + x2 + x3 + x4 + x5);
s.t. C3: x3 >= 0.5*(x1 + x2 + x3);
s.t. C4: 0.1*x1 + 0.07*x2 + 0.03*x3 + 0.05*x4 + 0.02*x5 <= 0.04*(x1 + x2 + x3 + x4 + x5);
end;
After saving, type $ glpsol -m example -o example.out, and open the example.out file to see the solution values: x3 = 720, x5 = 480, and the rest of the values are 0.
Problem solved.`},{header:"Physics and Chemistry",slug:"physics-and-chemistry",content:"Periodic table of elements GPeriodic: # pkg install gperiodic"},{header:"Astronomy and Geography",slug:"astronomy-and-geography",content:`Stellarium star map software: # pkg install stellarium
Gnome maps: # pkg install gnome-maps`},{header:"Art",slug:"art",content:""},{header:"Music",slug:"music",content:`MIDI sequencer LMMS: # pkg install lmms
Score making software MuseScore: # pkg install musescore`},{header:"3D graphics",slug:"_3d-graphics",content:"3D graphics software Blender: # pkg install blender"},{header:"Painting",slug:"painting",content:`Krita: # pkg install krita
MyPaint: # pkg install mypaint`}]},{path:"/chapter-20.-entertainment-and-education/20.5-scientific-research-and-professional-tools.html",title:"20.5 Scientific and Professional Tools",pathLocale:"/",contents:[{header:"20.5 Scientific and Professional Tools",slug:"_20-5-scientific-and-professional-tools",content:""},{header:"Tools and Software",slug:"tools-and-software",content:`Scientific computing software GNU Octave: # pkg install octave
Computer algebra system wxMaxima: # pkg install wxmaxima
Python and its related modules: # pkg install python py38-scipy py38-pandas py38-matplotlib py38-sympy`},{header:"Statistics",slug:"statistics",content:""},{header:"analytics",slug:"analytics",content:""},{header:"Integration",slug:"integration",content:`In the previous section we used GLPK to solve the linear programming problem, in this section we use the more powerful wxMaxima to solve the problem. The following code is for reference only, for a deeper understanding, check out the official documentation.
load("simplex")$
maximize_lp(0.026 * x1 + 0.0509 * x2 + 0.0864 * x3 + 0.06875 * x4 + 0.78 * x5,
[x1 + x2 + x3 + x4 + x5 <= 1200,
x4 + x5 <= 0.4 * (x1 + x2 + x3 + x4 + x5),
x3 >= 0.5 * (x1 + x2 + x3),
0.1 * x1 + 0.07 * x2 + 0.03 * x3 + 0.05 * x4 + 0.02 * x5 <= 0.04 * (x1 + x2 + x3 + x4 + x5)]),
epsilon_lp = 0, nonnegative_lp = true; The software gives the answer as [436.608,[x5=480.0,x4=0,x3=720.0,x2=0,x1=0], which can be seen to be the same as the one obtained by GLPK. Problem solved.`}]},{path:"/chapter-21.-kernel/21.1-obtaining-freebsd-kernel-source-code.html",title:"21.1 Obtaining FreeBSD Kernel Source Code",pathLocale:"/",contents:[{header:"21.1 Obtaining FreeBSD Kernel Source Code",slug:"_21-1-obtaining-freebsd-kernel-source-code",content:`The FreeBSD project was fully migrated from SVN to Git in 2021, namely
https://git.freebsd.org
So the way to get the source code has changed.`},{header:"Getting the source code from Git",slug:"getting-the-source-code-from-git",content:`# pkg install -y gitup # gitup release # You need to refer to the current gitup configuration https://github.com/johnmehr/gitup/blob/main/gitup.conf
# gitup current # Get the current source code`},{header:"Get the source code from the tarball (recommended)",slug:"get-the-source-code-from-the-tarball-recommended",content:`This method is quick and easy.
Using FreeBSD 13.1 as an example.
# fetch https://download.freebsd.org/ftp/releases/amd64/13.1-RELEASE/src.txz
# tar xvzfp src.txz -C / If you are slow you can switch to https://mirror.bjtu.edu.cn/freebsd/releases/amd64/13.1-RELEASE/src.txz`}]},{path:"/chapter-21.-kernel/21.2-modifying-kernel-source-code.html",title:"21.2 Modifying Kernel Source Code",pathLocale:"/",contents:[{header:"21.2 Modifying Kernel Source Code",slug:"_21-2-modifying-kernel-source-code",content:""}]},{path:"/chapter-21.-kernel/21.3-compiling-the-kernel.html",title:"21.3 Compiling the Kernel",pathLocale:"/",contents:[{header:"21.3 Compiling the Kernel",slug:"_21-3-compiling-the-kernel",content:""}]},{path:"/chapter-21.-kernel/21.4-kernel-analysis.html",title:"21.4 Kernel Analysis",pathLocale:"/",contents:[{header:"21.4 Kernel Analysis",slug:"_21-4-kernel-analysis",content:""}]},{path:"/chapter-22.-programming-and-development/22.1-how-to-report-bugs.html",title:"22.1 How to Report a Bug",pathLocale:"/",contents:[{header:"22.1 How to Report a Bug",slug:"_22-1-how-to-report-a-bug",content:`What do you do when you encounter a problem?
First, make sure you're not causing the problem yourself. Look at lists of frequently asked questions, documentation manuals, whatever Use the search engines well! Search past mailing lists to see if anyone has mentioned a similar issue Ask the mailing list If you're having problems with a system you just upgraded, look at the instructions for /usr/src/UPDATING, and if you just upgraded third-party software, look at /usr/ports/UPDATING and /usr/ports/CHANGES.
Then, ask yourself, is this a bug? If the question can be phrased as a question (e.g. "How do I do ...... and where do I get ......?") then please go to the FreeBSD mailing list and ask first.
If this is a bug, make sure that your version is supported, otherwise no one will care.
Be sure this bug is not fixed! Check the system version for updates and patches Search the FreeBSD bug management system for anyone who has reported a similar problem If no one has reported a similar problem, then you need to write Please do not submit issues such as. There is a new version of an application (they have automatic notifications!) For software that is not maintained, if you don't have a patch, just reporting a bug is likely to go unnoticed (if you want to maintain it, submit your request) If you can't reproduce the problem, it will be difficult for others to fix it Add new features (you can appeal to the FreeBSD mailing list, but why not make one yourself!) Decide who you should report the problem to. For issues withbase system components, documentation, and web sites, please direct them to the FreeBSD developers. For software that is distributed with the system but maintained by others, please also submit to the FreeBSD developers unless it can be determined that the issue is not system related. For those third-party software, please submit to the software developer unless it can be determined that the issue is system related. Report writing tips. Do not leave the "Summary" field blank, as it is the title of the mass email. The "Summary" should be representative and concise. If you have a patch, be sure to upload it. Indicate your system version, computer architecture, and if you compiled the software yourself, include the compilation settings. If the problem is reproducible, indicate the conditions under which the problem arose. If it is a kernel problem, please prepare your: hardware configuration, kernel configuration, whether debugging options are enabled, error messages or /var/log/messages, state that you have looked at /usr/src/UPDATING and did not solve the problem (because someone always asks), and whether you can run other kernels. If it is a third-party software problem, have your: installed software that overrides all environment variables set by default in bsd.port.mk, declare that you have looked at /usr/ports/UPDATING and that it did not fix the problem (because someone will always ask). One report does one thing, don't report a bunch of things unless they are closely related. Be cautious about controversial issues, it's best to discuss them first. Pay attention to the layout format, especially when copying and pasting. Remember to back up your report, in case the net is bad and you don't submit on it. Be polite, we are almost all volunteers who don't get paid a penny, so please be more understanding. Now, it's time to fill out the form!
Note that your email is public, so you may receive harassment, so please protect yourself or use a public email address! Summary: A brief summary. Severity: severity, only affects me / affects some people / affects many people, do not overrate Category: Category kern kernel, library, built-in driver (manual 2-4), except USB subsystem, multi-threaded library bin Built-in programs ports Third-party programs conf configuration files or startup scripts (manual 5) docs documentation or website usb USB subsystem threads Multi-threaded libraries standards standards compliance (architecture name) related to architecture misc Other, or really can't find the problem (best to ask the mailing list first) Environment environment, including system version, program version, system configuration, etc. Description Description of the problem, complete and detailed. Do not add your guesses about the problem After submission, you will receive a confirmation email that you can use to track progress. Stay tuned, remember to respond promptly if more information is requested, be patient,sit and relax, and trust that your problem will be solved soon! Have fun in the FreeBSD family!`}]},{path:"/chapter-22.-programming-and-development/22.10-debugging-freebsd-via-ida-7.html",title:"22.10 Debugging FreeBSD via IDA 7",pathLocale:"/",contents:[{header:"22.10 Debugging FreeBSD via IDA 7",slug:"_22-10-debugging-freebsd-via-ida-7",content:`Note: Windows, IDA, FreeBSD, and FreeBSD compatible layers all require 64-bit or they may not work properly.
First find the linux_server64 file in the dbgsrv folder in the install path of the IDA on Windwos systems.
Copy it to FreeBSD, which can be done with Winscp.
Copy linux_server64 and the file you need to debug remotely, target (hypothetically), into the /root/reverse folder (any folder), give permission 777, and run linux_server64.
And run it, referring to the red box. Please use 64-bit IDA, and follow the screenshot below. The first one is the location of the file to be debugged in the virtual machine.
The second is the path of the file to be debugged in the virtual machine.
Here target is the specific file to be debugged.
The third is the argument to be passed to the main function, which is usually left out.
Then there is the host ip address of the FreeBSD system, the port number to listen on, and the password (i.e. the SSH password, in this case the root user, since the linux_server64 file runs under the root user).
In the FreeBSD system terminal ifconfig- a you can see your ip address
The successful result is as follows.`}]},{path:"/chapter-22.-programming-and-development/22.11-git.html",title:"22.11 Git",pathLocale:"/",contents:[{header:"22.11 Git",slug:"_22-11-git",content:`FreeBSD 13 does not come with the git command, you will need to install it yourself:
# pkg install git`}]},{path:"/chapter-22.-programming-and-development/22.2-how-to-submit-a-package.html",title:"22.2 How to commit a package",pathLocale:"/",contents:[{header:"22.2 How to commit a package",slug:"_22-2-how-to-commit-a-package",content:"It is recommended to read FreeBSD Porter's Handbook."}]},{path:"/chapter-22.-programming-and-development/22.3-how-to-participate-in-freebsd-collaboration.html",title:"22.3 How to Participate in FreeBSD Collaboration",pathLocale:"/",contents:[{header:"22.3 How to Participate in FreeBSD Collaboration",slug:"_22-3-how-to-participate-in-freebsd-collaboration",content:"Translating documentation and submitting ports are both good ways to get involved, and submitting bugs is also a good idea."}]},{path:"/chapter-22.-programming-and-development/22.4-configuration-of-c-c++-environment.html",title:"22.4 Configuring the C/C++ Environment",pathLocale:"/",contents:[{header:"22.4 Configuring the C/C++ Environment",slug:"_22-4-configuring-the-c-c-environment",content:"The toolchain that comes with FreeBSD is not the GCC set, but uses Clang + LLVM."}]},{path:"/chapter-22.-programming-and-development/22.5-configuration-of-the-java-environment.html",title:"22.5 Java Environment Configuration",pathLocale:"/",contents:[{header:"22.5 Java Environment Configuration",slug:"_22-5-java-environment-configuration",content:"FreeBSD supports oracle jdk and openjdk, the former is not natively supported and requires the use of a Linux binary compatibility layer. See https://www.freebsd.org/java/."}]},{path:"/chapter-22.-programming-and-development/22.6-configuration-of-the-qt-environment.html",title:"22.6 Configuring the QT Environment",pathLocale:"/",contents:[{header:"22.6 Configuring the QT Environment",slug:"_22-6-configuring-the-qt-environment",content:"Qt Creator, the QT development environment for FreeBSD, does not seem to support i18n?"}]},{path:"/chapter-22.-programming-and-development/22.7-python-and-vscode.html",title:"Section 7 Python and VScode",pathLocale:"/",contents:[{header:"Section 7 Python and VScode",slug:"section-7-python-and-vscode",content:"In this section, we will assume that you have successfully set up the pkg tool. If you haven't, please refer to the previous section of this book to set it up."},{header:"Python",slug:"python",content:`In FreeBSD, the different Python versions are packaged separately. Meaning, Python 3.8 and Python 3.11 are in different packages. Just like llvm11 and llvm13.
However, as of FreeBSD 13, the most fully supported Python is Python 3.8. pip and numpy tools are only packaged for py38. That's why the dummy package python3 points to python38.
So to install Python, you need to do this.
# pkg install python38 py38-pip
Of course you can also install Python by.
# pkg install python311
or something like that to request a newer version of Python. Keep in mind, however, that the latest version of Python may not be as complete on FreeBSD. (Requires the use of ports)
However, it is better than some Linux distributions that never maintain a single version of Python, regardless of the consequences of doing so.`},{header:"VS Code",slug:"vs-code",content:`In the old days, FreeBSD users wanted to install VS Code manually by downloading the source from GitHub, configuring their own Electron build environment, and then compiling VS Code themselves, or by using the Linux compatibility layer to run the VS Code RPM packages directly.
However, since VS Code has entered the ports tree, and thus the pkg repo, you don't have to do that anymore. Directly.
# pkg install vscode
Then you can write code.
Note that the VS Code you get in this way is actually Code - OSS. The difference between Code - OSS and VS Code will not be explained here, but you can see for those who are interested. between-the-repository-and-Visual-Studio-Code).
Just to mention that Microsoft's Python/PyLance plug-in and LLVM's clangd plug-in are known to run directly from Code - OSS and are no different from VS Code.
Microsoft's Remote Development also works with Code - OSS without any problems.
Setting up the synchronization service does not seem to work.`}]},{path:"/chapter-22.-programming-and-development/22.8-configuration-of-the-rust-go-environment.html",title:"22.8 Configuring the Rust/Go Environment",pathLocale:"/",contents:[{header:"22.8 Configuring the Rust/Go Environment",slug:"_22-8-configuring-the-rust-go-environment",content:""},{header:"Installing the Rust language",slug:"installing-the-rust-language",content:"Choose one of the following installation methods"},{header:"FreeBSD package",slug:"freebsd-package",content:"# pkg install rust"},{header:"Rust official packaging (not recommended)",slug:"rust-official-packaging-not-recommended",content:`Install: curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
Upgrade: cd ~ . /.cargo/bin/rustup update
Delete: . /cargo/bin/rustup self uninstall After successful installation, type rustc --version or cargo --version to check the software version.`},{header:"Blessings for a better world",slug:"blessings-for-a-better-world",content:`cd ~
mkdir projects && cd projects
cargo new greeting
cd greeting
ee src/main.rs
Add the following text.
fn main() { println!("Hello, world!");
}
After saving, run cargo run to output the code.`},{header:"Installing the Go language",slug:"installing-the-go-language",content:"Choose one of the following installation methods"},{header:"FreeBSD package",slug:"freebsd-package-1",content:"# pkg install go"},{header:"Golang official packaging (not recommended).",slug:"golang-official-packaging-not-recommended",content:"Download the binary package: download address Select the goXXX.freebsd-amd64.tar.gz or goXXX.freebsd-386.tar.gz package. Unpack the binary package: Using the amd64 architecture as an example, the terminal code is as follows tar -C /usr/local -xzf https://golang.google.cn/dl/go1.18.1.freebsd-amd64.tar.gz Add environment variables. open .profile in text mode, add a line export PATH=$PATH:/usr/local/go/bin After successful installation, type go version to see the software version."},{header:"Blessings for a better world",slug:"blessings-for-a-better-world-1",content:`Create a new text named helloWorld.go and add the following.
package main import "fmt" func main() { fmt.Println("Hello, World!")
}
After saving, run go run helloWorld.go in the terminal to output the code.`}]},{path:"/chapter-22.-programming-and-development/22.9-csh-and-other-shells.html",title:"22.9 Csh and Other Shells",pathLocale:"/",contents:[{header:"22.9 Csh and Other Shells",slug:"_22-9-csh-and-other-shells",content:""},{header:"FreeBSD csh shell configuration",slug:"freebsd-csh-shell-configuration",content:`Note
This section may no longer be relevant, as the shell in FreeBSD 14 has been standardized to sh. In /etc/csh.cshrc add:
alias ls ls -G
and log back in.
Q: How do I get FreeBSD csh to list uncompleted candidates by Tab, like bash does?
A: The standard method is to press Ctrl+D.
But if you must use Tab, add to /etc/csh.cshrc: set autolist`},{header:"How can FreeBSD make csh have command error correction like zsh?",slug:"how-can-freebsd-make-csh-have-command-error-correction-like-zsh",content:"For example, if you write c programs in emacs, but you type emacs ma and press Tab to enter, he will match all the files starting with ma, and this is ignored, that is, when you press Tab there will be nothing you ignore, friendly for programming and such, no more matching to binary. Files like .o and so on. set correct = cmd lz/usr/bin tcsh>ls /usr/bin (y|n|e|a)? set fignore = (.o ~) emacs ma[^D] main.c main.c~ main.o emacs ma[tab] emacs main.c"},{header:"Changing the default shell",slug:"changing-the-default-shell",content:`Warning: Switching the default Shell will cause recovery mode to not start loading the command line environment properly.
For example, switching to zsh.
# pkg install zsh zsh-autosuggestions zsh-syntax-highlighting
# chsh -s /usr/local/bin/zsh
# touch ~/.zshrc
# ee ~/.zshrc Add the following lines:
source /usr/local/share/zsh-autosuggestions/zsh-autosuggestions.zsh
source /usr/local/share/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
source ~/.p10k.zsh
Switching to bash:
# pkg install bash
# chsh -s /usr/local/bin/bash
# ee ~/.bash_profile`}]},{path:"/chapter-23.-boot-and-recovery/22.3-freebsd-chinese-tty-console.html",title:"22.3 FreeBSD Chinese TTY Console",pathLocale:"/",contents:[{header:"22.3 FreeBSD Chinese TTY Console",slug:"_22-3-freebsd-chinese-tty-console",content:`FreeBSD's new terminal, VT, supports cjk, so put a font in it and it will display Chinese. First you have not changed the console program, the default is used. This note is based on FreeBSD 12.1 release as an example. The font format is .fnt.
Command: $ vidcontrol -f ABC.fnt
The FreeBSD base system provides a tool for converting bdf, hex to fnt
vtfontcvt [ -h height ] [ -v ] [ -w width ] [ font ]
The commands are temporary, to make them permanent, add them to rc.conf`}]},{path:"/chapter-23.-boot-and-recovery/23.1-recovery-mode-and-password-reset.html",title:"23.1 Recovery Mode and Password Reset",pathLocale:"/",contents:[{header:"23.1 Recovery Mode and Password Reset",slug:"_23-1-recovery-mode-and-password-reset",content:"Boot up and press 2 to enter single user single user mode."},{header:"UFS file system",slug:"ufs-file-system",content:`# mount -u /
# mount -a -t ufs`},{header:"ZFS file system",slug:"zfs-file-system",content:`# mount -u
# zfs mount -a`},{header:"Using a USB drive device",slug:"using-a-usb-drive-device",content:`# mount /dev/adaXpN -o rw /mnt
The X, N parameters depend on the specific device.`}]},{path:"/chapter-23.-boot-and-recovery/23.2-freebsd-multi-drive-efi-bootstrap-unification.html",title:"23.2 FreeBSD Multi-Drive EFI Bootstrap Unification",pathLocale:"/",contents:[{header:"23.2 FreeBSD Multi-Drive EFI Bootstrap Unification",slug:"_23-2-freebsd-multi-drive-efi-bootstrap-unification",content:`What does multi-drive EFI unification mean? It means that there are two hard disks with EFI partitions on each of them, one with FreeBSD in it and the other with Windows.
Now I want to keep only one partition, i.e. I want to put the EFI configuration files into the EFI partition of one hard disk and unify it.
Let the drive with Windows be ada0 and the FreeBSD drive be nvd0.
First, turn off the Windows fastboot: the command is powercfg /h off.
Then shutdown and reboot into FreeBSD and create a mount point mkdir /mnt/efi. Check if ada0p1 (the first partition of the drive) is the EFI partition we want to mount by entering the command fstyp /dev/ada0p1, my output is NTFS, so it is not the EFI partition we want.
fstyp /dev/ada0p2, the output is msdosfs, which is the EFI partition on our Windows disk.
Next mount the EFI partition on disk ada0 to /mnt/efi in FreeBSD: # mount -t msdosfs /dev/ada0p2 /mnt/efi
Create a directory under the EFI path for FreeBSD bootability: # mkdir /mnt/efi/EFI/freebsd
Then copy the boot file to that path # cp /boot/boot1.efi /mnt/efi/EFI/freebsd/bootx64.efi
Finally generate the boot entry: # efibootmgr -c -l /mnt/efi/EFI/freebsd/bootx64.efi -L "FreeBSD niu pi"
Just reboot into Windows and use easyuefi to activate the FreeBSD niu pi boot entry. If there is no problem, you can use DiskGenius to delete the EFI partition file from the nvd0 disk.`}]},{path:"/chapter-23.-boot-and-recovery/23.4-boot-menu.html",title:"23.4 boot screen",pathLocale:"/",contents:[{header:"23.4 boot screen",slug:"_23-4-boot-screen",content:""},{header:"Adjust boot time to 2 seconds",slug:"adjust-boot-time-to-2-seconds",content:`# ee /boot/loader.conf
Modify:
autoboot_delay="2"`}]},{path:"/chapter-23.-boot-and-recovery/23.5-grub-and-other-bootloaders.html",title:"23.5 Grub and other guides",pathLocale:"/",contents:[{header:"23.5 Grub and other guides",slug:"_23-5-grub-and-other-guides",content:`Note
All grub in this book are grub2. According to the FreeBSD developers, because the ZFS module of grub is not provided by BSD, but developed by themselves, grub cannot boot directly into the FreeBSD kernel and boot the system. It can only boot indirectly by using chainlain+1.
menuentry "FreeBSD-13.0 Release" {
set root='(hd0,gpt1)' # Please check yourself
chainloader /boot/boot1.efi
}`}]},{path:"/chapter-24.-freebsd-features/24.1-bsd-init-managed-services.html",title:"24.1 System INIT Managed Services",pathLocale:"/",contents:[{header:"24.1 System INIT Managed Services",slug:"_24-1-system-init-managed-services",content:""},{header:"Basics",slug:"basics",content:`FreeBSD uses the traditional BSD INIT to manage system services. To start a service: # service XXX start
Stop a service: # service XXX stop
Restarting a service: # service XXX restart For security reasons, the services are disabled by default after installation, so the above commands cannot be executed, and the services need to be turned on first: \`# service XXX restart
# ee /etc/rc.conf
Add a line, XXX_enable="YES", XXX for the service name (this is just an example, it can actually be nginx, samba, etc.), this is a fixed format
XXX_enable="YES"
You can also add it with the command
sysrc XXX_enable="YES"
The path to the script for the service is: \`\`#/usr/local/etc/rc.d/\`
Of course, you can also call those scripts under /etc/rc.d/ and /usr/local/etc/rc.d/ directly. # /usr/local/etc/rc.d/XXX reload
# /usr/local/etc/rc.d/XXX stop If a service is not enabled in rc.conf, but you want to start it temporarily, then you can do this. # service XXX onestart
# service XXX onestop`},{header:"Advanced",slug:"advanced",content:`rc.conf holds all system services. The files and paths associated with it are as follows. The default configuration is located at /etc/defaults/rc.conf. Try not to modify it. 2.
The user-defined configuration is located at /etc/rc.conf. For example, if you want the system to automatically start services such as ssh, ipfw, nginx, etc., you should modify this file. **Note that if there is a conflict between a configuration and the default configuration, this file will prevail. ** The base system's service scripts are located in the ***.
The service scripts of the base system are located in /etc/rc.d/. The service scripts for third-party applications are located at /usr/local/etc/rc.d/. When you encounter a problem, find out what the problem is by consulting the configuration file.`},{header:"/etc/rc.conf Common configuration files",slug:"etc-rc-conf-common-configuration-files",content:`hostname="server.shuang.ca" #set hostname
ifconfig_vtnet0="inet xxx.xxx.xxx.xxx netmask 255.255.255.0" # Set the IP address, where vtnet0 is the name of the NIC, be careful to set it correctly
defaultrouter="xxx.xxx.xxx.1" #gateway address
syslogd_enable="YES" #Enable logging
syslogd_flags="-s -s" #Disable receiving logs from other hosts
fsck_y_enable="YES" #Automatically fsck hard disk on boot
enable_quotas="YES"
check_quotas="YES" #System quotas
clear_tmp_enable="YES" #Automatically clear /tmp on boot
update_motd="NO" #Disable kernel message prompt
icmp_drop_redirect="YES"
icmp_log_redirect="YES" #ICMP redirection
log_in_vain="YES" #Log every attempted connection to a closed port
accounting_enable="YES" #System audit function`},{header:"periodic.conf",slug:"periodic-conf",content:`By default, FreeBSD has a number of periodic tasks that are executed with the periodic command and are automatically invoked by cron. The configuration and paths associated with periodic are as follows. The default configuration is located at /etc/defaults/periodic.conf.
the user-defined configuration is located at /etc/periodic.conf. 3. the base system task scripts are located at /etc/periodic.conf.
the task scripts of the base system are located at /etc/periodic/. 4. the task scripts of third-party applications are located at /etc/periodic/.
The task scripts for third-party applications are located at /usr/local/etc/periodic/. Take the path database /var/db/locate.database, on which the locate command depends, as an example.
This database is updated weekly by the script /etc/periodic/weekly/310.locate.
You can also run this script directly if you want to update it immediately.`},{header:"Other configuration files",slug:"other-configuration-files",content:`crontab: cron configuration, located in /etc/crontab, please refer to man crontab.
syslog.conf: system logging configuration, located in /etc/syslog.conf, please refer to man syslog.conf.
loader.conf: System boot configuration, located in /boot/loader.conf, please refer to man loader.conf.
sysctl.conf: Kernel parameters configuration, located in /etc/sysctl.conf, please refer to man sysctl.conf.`}]},{path:"/chapter-24.-freebsd-features/24.2-freebsd-directory-structure.html",title:"24.2 FreeBSD Directory Structure",pathLocale:"/",contents:[{header:"24.2 FreeBSD Directory Structure",slug:"_24-2-freebsd-directory-structure",content:`FreeBSD is collegial and well-organized by design. Paths
Introduction /bin
The basic tools directory in single-user and multi-user environments. /sbin
The basic utility directory for storing system programs and administrative needs in single-user and multi-user environments. /etc
The system configuration and scripts. /usr/bin
The directory where system applications are stored. /usr/sbin
Holds system background programs and system tools (executed by the user). /usr/libexec
Holds system utilities or background programs (executed from a separate program). /tmp
Temporary files. The contents of the /tmp directory are not normally retained after a system reboot. /var/log
The various system logs. /var/tmp
Temporary files. These files are usually retained upon system reboot, unless /var is an in-memory file system. /var/run
Used to store Pidfiles. It is worth noting that FreeBSD does not use /proc or procfs now.
For user-installed programs, the allowed directories to write to are. /var/run
/var/log
/var/tmp
/tmp User-installed programs are unified under /usr/local, for example. /usr/local/bin
/usr/local/sbin
/usr/local/etc
/usr/local/libexec In short: the system uses /usr and the user uses /usr/local. This is very different from Linux, which is theoretically designed to do the same thing, but in practice it is very difficult to do.
For more information, please refer to the official documentation at
https://docs.freebsd.org/en/books/handbook/dirstructure.html`}]},{path:"/chapter-24.-freebsd-features/24.3-bsdinstall-and-bsdconfig.html",title:"24.3 bsdinstall and bsdconfig",pathLocale:"/",contents:[{header:"24.3 bsdinstall and bsdconfig",slug:"_24-3-bsdinstall-and-bsdconfig",content:""},{header:"bsdinstall",slug:"bsdinstall",content:"bsdinstall is the command to install the interface."},{header:"bsdconfig",slug:"bsdconfig",content:"The interface of the bsdconfig command allows for many useful settings, such as network settings. Note that the interface cannot connect to WiFi, as the password cannot be entered."}]},{path:"/chapter-24.-freebsd-features/24.4-disabling-sendmail.html",title:"24.4 Disabling Sendmail",pathLocale:"/",contents:[{header:"24.4 Disabling Sendmail",slug:"_24-4-disabling-sendmail",content:`Sendmail is always started by default on FreeBSD systems, which is useless for most people and causes a delay of several minutes at startup; its service can be disabled during installation, as described in the installation instructions.
Edit /etc/rc.conf and add the following lines.
sendmail_enable="NO"
sendmail_submit_enable="NO"
sendmail_outbound_enable="NO"
sendmail_msp_queue_enable="NO"
Edit /etc/periodic.conf and add the following lines to disable certain settings that are only used by Sendmail.
daily_clean_hoststat_enable="NO"
daily_status_mail_rejects_enable="NO"
daily_status_include_submit_mailq="NO"
daily_submit_queuerun="NO"`}]},{path:"/chapter-24.-freebsd-features/24.5-automatic-bsdlibc-library-text-generation-using-scripts.html",title:"24.5 Automatic BSDlibc library text generation using scripts",pathLocale:"/",contents:[{header:"24.5 Automatic BSDlibc library text generation using scripts",slug:"_24-5-automatic-bsdlibc-library-text-generation-using-scripts",content:`This section is from the FreeBSD forum, by mrclksr. The original is located at https://forums.freebsd.org/threads/wheres-bsd-libc-documentation.63107/. First install the dependencies:
# pkg install netpbm groff ghostscript9-base
#!/bin/sh pstarget="/tmp/$$.libcdoc.ps"
pdftarget="libcdoc.pdf"
pdftarget_noidx="/tmp/$$.$pdftarget"
pdfindex="/tmp/$$.pdfindex.info"
index="/tmp/$$.index"
sorted_index="$index.sorted"
flist="/tmp/$$.flist"
tocin="/tmp/$$.toc.mdoc"
keywords="/tmp/$$.keywords"
mandir="/usr/share/man"
paths="$mandir/man2 $mandir/man3"
content_offset=0 mkidx()
{ for i in \`find $paths -name "*.gz"\`; do if zgrep -q '.Lb libc' $i && zgrep -q '.Sh LIBRARY' $i; then for j in \`gettitles $i\`; do echo "$j:$i" >> $index done fi done cat $index | sort -n | uniq | awk -F: 'BEGIN { prev = "" } { if ($1 != prev) { print $0; } prev = $1; }' > $index.tmp mv $index.tmp $index for i in \`cat $index\`; do fname=\`echo $i | cut -d: -f2\` grep $fname $index | sort -n | awk -F: 'BEGIN {n = 0} { if (n++ > 0) printf ","; printf "%s", $1; }' echo ":$fname" done | sort -n | uniq > $index.tmp mv $index.tmp $index currp=1 for i in \`cat $index\`; do fname=\`echo $i | cut -d: -f2\` kwords=\`echo $i | cut -d: -f1\` nextp=\`mandoc -T ps $fname|egrep '%%Pages: [0-9]+'|cut -d: -f2\` echo "$kwords:$currp:$fname" >> $index.tmp currp=\`expr $currp + $nextp\` done mv $index.tmp $index for i in \`cat $index | sed -E 's/(^[^:]+):.*/1/' | tr ',' ' '\`; do echo $i done | sort -n > $keywords for i in \`cat $keywords\`; do page=\`grep -w $i $index | tail -1 | cut -d: -f 2\` echo $i:$page done > $sorted_index
} mkpsdoc()
{ for i in \`cat $index\`; do fname=\`echo $i | cut -d: -f3\` zcat $fname | sed -e 's/^.Dd.*$/.Dd __PAGENO__/' -e '/.Os.*/d' | mandoc -T ps >> $pstarget done
} mktoc()
{ echo ".XS 1" > $tocin echo "Table of Contents" >> $tocin for i in \`cat $sorted_index\`; do kword=\`echo $i | cut -d: -f 1\` page=\`echo $i | cut -d: -f 2\` page=\`expr $content_offset + $page\` printf ".XA $pagen$kwordn" >> $tocin done echo ".XE" >> $tocin echo ".PX" >> $tocin
} get_content_offset()
{ mktoc content_offset=\`groff -T ps -ms $tocin | egrep '%%Pages: [0-9]+' | cut -d: -f2\` content_offset=\`expr $content_offset + 0\`
} prepend_toc()
{ in=$1 tmp=$in.tmp groff -T ps -ms $tocin > $tmp cat $in >> $tmp mv $tmp $in
} mkpdfidx()
{ printf "[/Page 1 /View [/XYZ null null null] " > $pdfindex printf "/Title (Table of Contents) /OUT pdfmarkn" >> $pdfindex for i in \`cat $sorted_index\`; do kword=\`echo $i | cut -d: -f 1\` page=\`echo $i | cut -d: -f 2\` page=\`expr $page + $content_offset\` printf "[/Page $page /View " >> $pdfindex printf "[/XYZ null null null] " >> $pdfindex printf "/Title ($kword) /OUT pdfmarkn" >> $pdfindex done
} gettitles()
{ zcat $1 | sed -n '/.Sh NAME/,/.Sh LIBRARY/p' | egrep '^.Nm [^ ]+' | cut -d" " -f 2 | sort -n | uniq
} mkidx
mkpsdoc
get_content_offset
mktoc
prepend_toc $pstarget
mkpdfidx cat $pstarget | awk -v p=$content_offset '{ if ($0 ~ /(__PAGENO__)/) { t = sprintf("(%s)", ++p); sub(/(__PAGENO__)/, t); } print $0; }' > $pstarget.tmp mv $pstarget.tmp $pstarget ps2pdf $pstarget $pdftarget_noidx gs -sDEVICE=pdfwrite -q -dBATCH -dNOPAUSE -sOutputFile=$pdftarget $pdfindex -f $pdftarget_noidx rm -f $tocin
rm -f $pstarget
rm -f $index
rm -f $pdftarget_noidx
rm -f $pdfindex
rm -f $sorted_index
Run the script to find the PDF document in the same path folder. For ready-made documents, visit:
https://github.com/FreeBSD-Ask/BSDlibc`}]},{path:"/chapter-24.-freebsd-features/24.6-bsd-style-make-grep-sed-awk.html",title:"24.6 BSD style make/grep/sed/awk",pathLocale:"/",contents:[{header:"24.6 BSD style make/grep/sed/awk",slug:"_24-6-bsd-style-make-grep-sed-awk",content:"FreeBSD make/grep/sed/awk It is different from the GNU set."}]},{path:"/chapter-25.-system-design-and-analysis/25.1-freebsd-design-overview.html",title:"25.1 FreeBSD Design Overview",pathLocale:"/",contents:[{header:"25.1 FreeBSD Design Overview",slug:"_25-1-freebsd-design-overview",content:""}]},{path:"/chapter-25.-system-design-and-analysis/25.2-kernel.html",title:"25.2 Kernel",pathLocale:"/",contents:[{header:"25.2 Kernel",slug:"_25-2-kernel",content:""}]},{path:"/chapter-25.-system-design-and-analysis/25.3-process.html",title:"25.3 Process",pathLocale:"/",contents:[{header:"25.3 Process",slug:"_25-3-process",content:""}]},{path:"/chapter-25.-system-design-and-analysis/25.4-memory-management.html",title:"25.4 Memory Management",pathLocale:"/",contents:[{header:"25.4 Memory Management",slug:"_25-4-memory-management",content:""}]},{path:"/chapter-25.-system-design-and-analysis/25.5-security.html",title:"25.5 Security",pathLocale:"/",contents:[{header:"25.5 Security",slug:"_25-5-security",content:""}]},{path:"/chapter-25.-system-design-and-analysis/25.6-i-o-system.html",title:"25.6 I/O System",pathLocale:"/",contents:[{header:"25.6 I/O System",slug:"_25-6-i-o-system",content:""}]},{path:"/chapter-26.-openbsd/26.0-overview.html",title:"26.0 Overview",pathLocale:"/",contents:[{header:"26.0 Overview",slug:"_26-0-overview",content:`OpenBSD, also a Unix-like computer operating system, was born in 1995 as a spin-off from NetBSD by Dutch-Canadian programmer Theo de Raadt. openBSD claims to be the world's most secure operating system. The LLVM/Clang project is used to build the system, the default shell is ksh, and the mascot is a pufferfish named Puffy.
Compared to other BSD systems, OpenBSD's claims tend to be more security oriented. User experience with this may be a matter of opinion (the whole system does not run efficiently), after all, one of the consequences of this is that there are relatively few softwares, not only far behind FreeBSD, but even slightly behind NetBSD. The good news, however, is that OpenBSD maintains many architectures such as amd64/i386, arm64/armv7 and riscv64 with a small amount of manpower and resources, making it a truly general purpose operating system. In order to expand the desktop user base, desktop environments such as Gnome, KDE (currently version 3.5) and XFCE are packaged, as well as a large number of software packages such as Blender, Firefox, Krita and libreoffice. It is believed that in the future, OpenBSD will gradually optimize its performance to better serve all of humanity.
OpenBSD is well known on the Chinese Internet because of the news that in 2014 the project was at risk of being shut down due to unpaid electricity bills. A number of companies came to its aid, including Luo Yonghao's Hammer Technology in China.`}]},{path:"/chapter-26.-openbsd/26.1-installation.html",title:"26.1 Installation",pathLocale:"/",contents:[{header:"26.1 Installation",slug:"_26-1-installation",content:""},{header:"Downloading the image",slug:"downloading-the-image",content:`Using OpenBSD 7.1, AMD 64 architecture as an example, visit
https://cdn.openbsd.org/pub/OpenBSD/7.1/amd64
to get the system image. If you are burning a USB stick, download installXX.img; for a virtual machine experience, download installXX.iso. (Note: As of OpenBSD 7.1, please do not use ventory to boot physical installations.)`},{header:"Installation Mode",slug:"installation-mode",content:'It is recommended that you use the default system partition for this installation, but for those interested in custom partitions, see "Custom Partitions" below.'},{header:"Installation Process",slug:"installation-process",content:`Welcome to the OpenBSD/amd64 7.1 installation program.
(I)nstall, (U)pgrade or (S)hell? Select i for installation System hostname? (short form, e.g. 'foo') XiaoMing System hostname, you can choose one with fewer letters, in the future it will show a hostname like XiaoMing.DHCP. Available network interfaces are: em0 rtwn0.
Available network interfaces are: em0 rtwn0. >
Which one do you wish to configure? (or 'done') [em0] This step selects the network connection. To avoid unnecessary troubles, please try to choose a wired network. You can start by typing ? to learn more about the network name before selecting it. For example, in this example, em0 is wired network and rtwn0 is wireless network.
The subsequent configuration can be confirmed directly by enter key. Password for root account? (will not echo) Set the password for root account, enter it and enter to confirm (the password will not be displayed on the screen). Password for root account? (again) Enter the password for the root account again and enter to confirm.
Follow up the configuration with a carriage return.
Start sshd(8) by default? [yes] \`no Setup a user? (enter a lower-case loginname, or 'no') [no] XiaoMing Set up a user name. Full user name for XiaoMing? Full user name for XiaoMing, feel free to enter it. Password for XiaoMing account? (will not echo) Set a password for the account (the password will not be displayed on the screen). Password for XiaoMing account? (again) Enter the password for the user name again.
Enter the password for the user name again. What timezone are you in? ('?') for list) [US/Eastern] Asia/Shanghai Available disks are: sd0, sd1, sd2. Which one is the root disk? (or 'done') [sd0] ? ? This step is to select which hard disk to install the system on. Press ? to list all recognized hard disks. Be sure to remember all the drive letters: the drive letter where you want to install the system, as well as our USB drive drive letter. Then enter the location where you want to install, e.g. sd0.
Again, please make sure you have the target hard disk, otherwise it will be too late! Use (W)hole disk MBR, whole disk (G)PT or (E)dit? [gpt] Here, select w for bios motherboard and g for UEFI motherboard. Use (A)uto layout, (E)dit auto layout, or create (C)custom layout? [a] Here we directly enter and select the system default partition. (Custom partition settings are attached at the end of the article, for reference only, not recommended for new users to try.) Available disk are: sd0. Which disk do you wish to initialize? (or 'done') [done] Directly enter. Location of sets? (cd disk ftp http or 'done') [cd] disk For the software address, select disk . Here we choose the installation disk as the software address. Is the disk partition already mounted? [yes] no . It is important to note that when the system asks if the U disk is already recognized, you must select no so that we can confirm the location of the U disk again. If you are not sure of the USB drive number, you can enter ? check.
Select sets by entering a set name, a file name pattern or 'all'. De-select sets by prepending a '-' to the set name, name pattern or 'all'. Selected sets are labelled \`[X]\` [X] bsd [X] etc71.tgz [X] xbase71.tgz [X] xserv71.tgz [X] bsd.rd [X] comp71.tgz [X] xetc71.tgz [X] bsd.mp [X] man71.tgz [X] xshare71.tgz [X] base71.tgz [X] game71.tgz [X] xfont71.tgz Set name(s)? (or 'abort' or 'done') [done] -game*
Here we type -game* to uncheck -game71.tgz, everything else is checked.
Note: Please check the X11 option even if you don't use the desktop, otherwise some software may not run properly.
Set name(s)? (or 'abort' or 'done') [done] \`-game*\` [X] bsd [X] etc71.tgz [X] xbase71.tgz [X] xserv71.tgz [X] bsd.rd [X] comp71.tgz [X] xetc71.tgz [X] bsd.mp [X] man71.tgz [X] xshare71.tgz [X] base71.tgz [ ] game71.tgz [X] xfont71.tgz Set name(s)? (or 'abort' or 'done') [done]
Enter to confirm. Location of sets? (cd disk ftp http or 'done') [done] Continue with the carriage return to confirm. After that, the system installation will start. After about 5 minutes, the following prompt will appear.
CONGRATULATIONS! Your OpenBSD install has been successfully completed! To boot the new system, enter 'reboot' at the command prompt.
When you login to your new system the first time, please read your mail using the 'mail' command.
Congratulations! The system has been successfully installed and you can enter the system after reboot.`},{header:"Appendix: Custom partitions",slug:"appendix-custom-partitions",content:`For those who want to try it, suppose you have 32GB, you can set the partition: swap 2GB and / for the rest of the capacity.
If you have 128GB of capacity, the recommended partition is: / 32GB, swap 4GB, and /home for the rest of the capacity.
For larger capacities, you can further refine the partition configuration according to your preference.
For system partitioning, select C, i.e. Custom Settings. p m Enter p m to display the hard disk. Other options are listed in the following table. Code
Function p m
View partition size a
Add partition d
Delete partition z
Delete all partitions q
Confirm Partitions Let's assume a 64 GB hard drive is partitioned as follows: / 20 GB, swap 4 GB, and divide the rest of the space into /home. > a
partition: [a]
offset: [64]
size: [xxxxxxxxx] 20g
Rounding size to cylinder (bbbbbb sectors): yyyyyyyyyy
FS type: [4.2BSD]
mount point: [none] /
Rounding size to bsize (w sectors): zzzzzzzzz
> The 20GB / sectors are set here, the shaded box is the setting we entered, the rest are defaulted to the Enter key. > a
partition: [b]
offset: []
size: [xxxxxxxxxxx] 4g
Rounding size to cylinder (w sectors): zzzzzz
FS type: [swap]
> Here the swap partition of 4GB is set, the shaded box is the setting we entered, the rest is the default selection by enter key. > a
partition: [d]
offset: [aaaaaaaaaa]
size: [ASDFGHJKL]
FS type: [4.2BSD]
mount point: [none] /home
Rounding size to bsize (w sectors): zzzzzzzzzz
> Note that we did not enter a value in the size field, but just enter, meaning that all the remaining capacity from the previous step is given to that partition, the /home partition.
Once configured, remember to enter q to confirm. > q Above, the partition is finished.`}]},{path:"/chapter-26.-openbsd/26.2-configuration.html",title:"26.2 Configuration",pathLocale:"/",contents:[{header:"26.2 Configuration",slug:"_26-2-configuration",content:""},{header:"Initial login",slug:"initial-login",content:""},{header:"Obtaining drivers",slug:"obtaining-drivers",content:`The first time you enter the system, OpenBSD will automatically detect the wireless, graphics and sound cards and download the relevant drivers. Wait a few minutes for them to update themselves. If you are waiting too long, you can Ctrl + C to cancel and run # fw_update to retrieve the drivers after you enter the system, as foreign sites are slow to connect.
In the new version 7.1, there is a change that the driver download will encounter a timeout error (GFW). In this case, after running fw_update, remember the name of the failed driver and then visit the official driver site directly to get it manually. Unzip the driver package, copy the internal driver files to the /etc/firmware/ folder, and reboot.
For example, inteldrm-firmware-xxx.tgz is the driver for Intel's graphics card. After extracting this driver, you will find the directory of i915 under the driver firmware directory. The following operation can be performed (operation requires permission).
cd /etc/firmware/
mkdir i915
cp -r /$PATH/inteldrm-firmware-xxx/firmware/i915/* /etc/firmware/i915/
Similarly amdgpu-firmware-xxx.tgz is amd's graphics card driver, after extracting the driver, you will find the directory of amdgpu in the driver firmware directory. The following operation can be performed (operation requires permission).
cd /etc/firmware/
mkdir amdgpu
cp -r /$PATH/amdgpu-firmware-xxx/firmware/amdgpu/* /etc/firmware/amdgpu/
Other drivers are the same as this.`},{header:"Desktop support (Please ignore this item for newer versions)",slug:"desktop-support-please-ignore-this-item-for-newer-versions",content:"When installing older versions, you may encounter the option to enable X or not. If it was accidentally blocked, we can turn it back on. Open /etc/sysctl.conf and add the line machdep.allowaperture=2."},{header:"Modify software sources",slug:"modify-software-sources",content:"Open /etc/installurl and comment out the default source and change it to https://mirrors.bfsu.edu.cn/OpenBSD. Here we have chosen the Northwestern source, users can also choose Tsinghua mirror source, Ali mirror source, and [Nanjing University source](https: //mirror.sjtu.edu.cn/OpenBSD), etc."},{header:"System updates",slug:"system-updates",content:""},{header:"Obtaining privileges with a regular account",slug:"obtaining-privileges-with-a-regular-account",content:"Log in as root, create a new /etc/doas.conf, open doas.conf, add a line permit persist :wheel"},{header:"kernel update",slug:"kernel-update",content:`Kernel update: # syspatch
Driver update: # fw_update
Software update: # pkg_add -u
Modify shell: chsh
Example: # chsh -s /usr/local/bin/bash $USER`},{header:"Software management",slug:"software-management",content:"Find software: # pkg_info -Q foo Install software: # pkg_add foo Upgrade software: # pkg_add -iu foo"},{header:"Mount removable disks",slug:"mount-removable-disks",content:""},{header:"Create a new mount point",slug:"create-a-new-mount-point",content:`$ cd ~
$ mkdir media
$ cd media
# # mkdir usb1 usb2 usb3 usb4`},{header:"View disk letter",slug:"view-disk-letter",content:"Use the dmesg command to check the drive letter of a newly inserted drive, e.g. a USB drive formatted as fat32 may have the drive letter sd1 on an OpenBSD system."},{header:"Check the partition",slug:"check-the-partition",content:`If the inserted disk is sd1, type disklabel sd1 to check the partition status. As follows
# size offset fstype [fsize bsize cpg] c: 60062500 0 unused i: 60062244 256 MSDOS`},{header:"mount",slug:"mount",content:`The partition i can be mounted using the following command.
# mount /dev/sd1i /$USER/media/usb1, with $USER replaced by the current user name.`},{header:"Other formats",slug:"other-formats",content:`OpenBSD can mount external hard disk formats such as NTFS (requires package ntfs_3g), ext2/ext3, and CD disks with the following commands.
# mount /dev/sd3i /$USER/media/usb1 # fat32
# mount_ntfs /dev/sd2k /$USER/media/usb2 # NTFS
# mount /dev/sd1l /$USER/media/usb3 # ext2/ext3
# mount /dev/cd0a /$USER/media/usb4 # CD`},{header:"Unmount the disk",slug:"unmount-the-disk",content:"# umount /$USER/media/usb1"},{header:"Wireless test",slug:"wireless-test",content:`For wireless networks in OpenBSD, the configuration file is usually hostname.if, where if is the wireless driver name + serial number. For example, if the wireless model of a laptop is rtl8188cu, the driver under OpenBSD is rtwn, and the serial number starts from 0. To make the system load wireless automatically, open the /etc/hostname.rtwn0 file, and add
dhcp join wireless name wpakey wireless password
Save it and you are done.`},{header:"Addendum",slug:"addendum",content:""},{header:"Load touchpad",slug:"load-touchpad",content:"Open /etc/wsconsctl.conf, add a line mouse.tp.tapping=1."},{header:"Load multithreading",slug:"load-multithreading",content:"Open /etc/sysctl.conf, add a line hw.smt=1 ."},{header:"Related material",slug:"related-material",content:"OpenBSD FAQ Recommendations Absolute OpenBSD Supplement If you think Firefox is slow, try Epiphany (Gnome browser)."}]},{path:"/chapter-26.-openbsd/26.3-switching-mirror-stations.html",title:"26.3 Switching mirror stations",pathLocale:"/",contents:[{header:"26.3 Switching mirror stations",slug:"_26-3-switching-mirror-stations",content:"Open /etc/installurl, comment out the official sources and replace them with the following domestic sources (choose any one of them, starred as recommended level). Beijing Foreign Language Software Source : **https://mirrors.bfsu.edu.cn/OpenBSD Tsinghua University software source: **https://mirrors.tuna.tsinghua.edu.cn/OpenBSD Shanghai Jiaotong University software source: *https://mirror.sjtu.edu.cn/OpenBSD Nanjing University Software Source : ***https://mirrors.nju.edu.cn/OpenBSD Chongqing Post and Telecommunications Software Source : *https://mirrors.cqupt.edu.cn/openbsd Ali cloud software source: **https://mirrors.aliyun.com/pub/OpenBSD Ping An cloud software source: *https://mirrors.pinganyun.com/OpenBSD Just save it."}]},{path:"/chapter-26.-openbsd/26.4-package-manager.html",title:"26.4 Package Manager",pathLocale:"/",contents:[{header:"26.4 Package Manager",slug:"_26-4-package-manager",content:"As with other BSD systems, there are two main ways to install OpenBSD software: using the official pre-compiled binary packages, or by packaging the source code yourself. We recommend the first method of installation."},{header:"Binary packages",slug:"binary-packages",content:"We recommend installing the software as a binary package, using the Firefox browser as an example. Install the software pkg_add firefox Delete software pkg_delete firefox Query software pkg_info -Q firefox Upgrade software pkg_add -iu firefox In addition, the global commands are: upgrade all software pkg_add -iu; delete all package cache pkg_delete -a."},{header:"ports",slug:"ports",content:`check website
OpenBSD ports installation is a bit more complicated, so this is a brief introduction, but those who have the learning curve can check the manual for more detailed information.
OpenBSD is available in multiple versions (release, stable, and current), and ports are not common to all versions.`},{header:"pkgsrc",slug:"pkgsrc",content:`pkgsrc is the package management system for NetBSD, but it claims to support Linux and other BSD systems as well. pkgsrc seems to have more packages than the official OpenBSD packages, but the only concern is whether pkgsrc will work well with OpenBSD. The following is for those interested in trying it out, there is no guarantee that there will be no surprises, and we do not recommend pkgsrc as the primary package management system.
$ cd ~/
$ ftp https://cdn.NetBSD.org/pub/pkgsrc/pkgsrc-2022Q1/pkgsrc.tar.gz
$ tar -xzf pkgsrc.tar.gz
$ cd pkgsrc/bootstrap
$ . /bootstrap --unprivileged
Then you add the path ~/pkg/bin to the path environment variable. pkgsrc tree is located in ~/pkgsrc/ and all files related to its work are in ~/pkg/.
We can then search for software in ~/pkgsrc/ to install the program, and run bmake install afterwards. For example, install the IRC client IRSSI in ~/pkgsrc/chat/irssi/.`}]},{path:"/chapter-26.-openbsd/26.5-desktop-and-other-software.html",title:"26.5 Desktop and other software",pathLocale:"/",contents:[{header:"26.5 Desktop and other software",slug:"_26-5-desktop-and-other-software",content:""},{header:"MATE Desktop",slug:"mate-desktop",content:""},{header:"Installation",slug:"installation",content:`Log in to your root account and run # pkg_add mate-utils mate-extras from the terminal
Open /etc/rc.conf.local and add the following lines.
pkg_scripts=messagebus avahi_daemon
apmd_flags=-A
multicast=YES
Type # pkg_add noto-cjk noto-emoji in the terminal to install CJK fonts.
Log out of the root account and log in as a normal account.
Open .xinitrc (create a new one if you don't have one) and add the line exec mate-session.
After all settings are done, reboot and you can enter MATE desktop.`},{header:"Install input method",slug:"install-input-method",content:"#pkg_add fcitx fcitx-configtool zh-libpinyin"},{header:"i18n interface.",slug:"i18n-interface",content:`Open the .profile file in the user directory and add the following text.
export LANG="zh_CN.UTF-8" export XIM_PROGRAM=fcitx
export XIM=fcitx
export XMODIFIERS="@im=fcitx"
export QT_IM_MODULE=XIM
export GTK_IM_MODULE=XIM`},{header:"XFCE Desktop",slug:"xfce-desktop",content:""},{header:"Install",slug:"install",content:`Terminal run # pkg_add xfce xfces-extras
Open /etc/rc.conf.local and add the following lines.
pkg_scripts=messagebus avahi_daemon
apmd_flags=-A
multicast=YES
Type # pkg_add noto-cjk noto-emoji in the terminal to install CJK fonts.
Log out of the root account and log in as a normal account.
Open .xinitrc (create a new one if you don't have one) and add the line exec startxfce4.
After all settings are done, reboot and you can enter XFCE desktop.`},{header:"Input method",slug:"input-method",content:"#pkg_add fcitx fcitx-configtool zh-libpinyin"},{header:"i18n interface.",slug:"i18n-interface-1",content:`Open the .profile file in the user directory and add the following text.
export LANG="zh_CN.UTF-8" export XIM_PROGRAM=fcitx
export XIM=fcitx
export XMODIFIERS="@im=fcitx"
export QT_IM_MODULE=XIM
export GTK_IM_MODULE=XIM`},{header:"Gnome Desktop",slug:"gnome-desktop",content:""},{header:"Install",slug:"install-1",content:`Open a terminal and type # pkg_add gnome gnome-extras.
Then open a terminal and run the following commands.
#usermod -L gnome username, #rcctl disable xenodm, #rcctl enable messagebus avahi_daemon gdm. Finally, reboot your system to login to your Gnome desktop.`},{header:"CJK fonts",slug:"cjk-fonts",content:"# pkg_add noto-cjk noto-emoji"},{header:"i18n interface",slug:"i18n-interface-2",content:`Open /etc/gdm/locale.conf in the terminal and change the text to the following.
LC_CTYPE="zh_CN.UTF-8"
LC_MESSAGES="zh_CN.UTF-8"
After restart, you can enter the Chinese interface.`},{header:"Themes and Icons",slug:"themes-and-icons",content:`Here are only two examples, Qogir theme, and Tela icon.
You can visit related website and choose your favorite theme and icon to install.`},{header:"Prepare in advance",slug:"prepare-in-advance",content:"Run #pkg_add git bash from the terminal."},{header:"Theme installation",slug:"theme-installation",content:`git clone https://github.com/vinceliuice/Qogir-theme && cd Qogir-theme
vi .install.sh, change the first line in the file shebang to #! /usr/local/bin/bash
and then bash . /install.sh`},{header:"Icon installation",slug:"icon-installation",content:`git clone https://github.com/vinceliuice/Tela-icon-theme && cd Tela-icon-theme
vi .install.sh, change the first line in the file shebang to #! /usr/local/bin/bash
and then bash . /install.sh`}]},{path:"/chapter-27.-netbsd/27.0-overview.html",title:"27.0 Overview",pathLocale:"/",contents:[{header:"27.0 Overview",slug:"_27-0-overview",content:""}]},{path:"/chapter-27.-netbsd/27.1-installation-and-configuration.html",title:"27.1 Installation and Configuration",pathLocale:"/",contents:[{header:"27.1 Installation and Configuration",slug:"_27-1-installation-and-configuration",content:""}]},{path:"/chapter-27.-netbsd/27.2-source-exchange-and-package-manager.html",title:"27.2 Source exchange and package manager",pathLocale:"/",contents:[{header:"27.2 Source exchange and package manager",slug:"_27-2-source-exchange-and-package-manager",content:""}]},{path:"/chapter-27.-netbsd/27.3-desktop-and-other-software.html",title:"27.3 Desktop and other software",pathLocale:"/",contents:[{header:"27.3 Desktop and other software",slug:"_27-3-desktop-and-other-software",content:""}]},{path:"/chapter-28.-dragonflybsd/28.0-overview.html",title:"28.0 Overview",pathLocale:"/",contents:[{header:"28.0 Overview",slug:"_28-0-overview",content:`DragonFly BSD is a Unix-like operating system that was born from FreeBSD 4.8. The project was started by Matthew Dillon, who is based on the Amiga, and was launched in June 2003 and posted to the FreeBSD mailing list in July 2003.
Dillon started the DragonFly BSD project because he felt that the FreeBSD 5 developers had chosen a way to develop parallel computing, such as multiprocessors, that would degrade system performance. dillon tried to influence the design principles of the FreeBSD project and had a dispute with the FreeBSD developers, and his right to edit the source code directly was denied. Despite this, DragonFly BSD and the FreeBSD project are still working together to fix some bugs and update drivers.
The DrogonFly BSD has been hampered by continuing the path begun with FreeBSD 4. DragonFly development differs significantly from the FreeBSD base in several ways, including a lightweight kernel threading implementation and a rich HAMMER file system. Many of the concepts intended to be used to implement the DragonFly BSD borrow from solutions in the AmigaOS operating system. Note
The DragonFly BSD documentation is old and does not match its development progress, but DragonFly BSD development is actually quite active. Don't be dissuaded by DragonFly BSD's outdated official documentation.`}]},{path:"/chapter-28.-dragonflybsd/28.1-installation-and-configuration.html",title:"28.1 Installation and Configuration",pathLocale:"/",contents:[{header:"28.1 Installation and Configuration",slug:"_28-1-installation-and-configuration",content:""},{header:"Change source",slug:"change-source",content:`# ee /usr/local/etc/pkg/repos/df-latest.conf
Find the domestic source, change no to yes and change the previous source to no.`},{header:"i18n",slug:"i18n",content:`/etc/csh.cshrc Add:
setenv LANG "zh_CN.UTF-8"
Add to /etc/profile file:
export LANG=zh_CN.UTF-8
export LC_ALL="en_US.ISO8859-1"
export LANG="en_US.ISO8859-1"
export LC_CTYPE="en_US.ISO8859-1"
export LANG=zh_CN.eucCN`},{header:"intel i915kms graphics card support",slug:"intel-i915kms-graphics-card-support",content:"# kldload drm"}]},{path:"/chapter-29.-desktop-advanced-advancement/29.0-differences-and-links-between-window-manager-and-desktop.html",title:"29.0 Difference and connection between window manager and desktop",pathLocale:"/",contents:[{header:"29.0 Difference and connection between window manager and desktop",slug:"_29-0-difference-and-connection-between-window-manager-and-desktop",content:`Generally speaking the desktop contains the window manager.
A window manager is the one that splits the screen into blocks to display different content that can be controlled with the keyboard instead of the mouse.`}]},{path:"/chapter-29.-desktop-advanced-advancement/29.1-installing-i3wm.html",title:"29.1 Installing i3wm",pathLocale:"/",contents:[{header:"29.1 Installing i3wm",slug:"_29-1-installing-i3wm",content:""},{header:"Installing i3wm",slug:"installing-i3wm",content:`# pkg install -y xorg i3
or via ports\uFF1A
# cd /usr/ports/x11-wm/i3/
# make install clean`},{header:"Configuration",slug:"configuration",content:`$ echo "/usr/local/bin/i3" >> /usr/home/your-name/.xinitrc
$ chown your-name /usr/home/your-name/.xinitrc`},{header:"start",slug:"start",content:"Start i3 by startx \u3002"},{header:"Reference",slug:"reference",content:`i3 Reference
http://bottlenix.wikidot.com/installing-i3wm
https://unixsheikh.com/tutorials/how-to-setup-freebsd-with-a-riced-desktop-part-3-i3.html#xterm
https://forums.freebsd.org/threads/how-to-install-i3.62305/
https://www.freebsd.org/cgi/man.cgi?query=i3\\apropos=0\\sektion=1\\manpath=freebsd-ports\\format=html`}]},{path:"/chapter-29.-desktop-advanced-advancement/29.2-installing-cde.html",title:"29.2 Installing CDE",pathLocale:"/",contents:[{header:"29.2 Installing CDE",slug:"_29-2-installing-cde",content:"Untested and for reference only."},{header:"Start the installation",slug:"start-the-installation",content:"# pkg install -y xorg iconv bdftopcf libXScrnSaver ksh93 open-motif tcl86 xorg-fonts xorg-fonts-100dpi cde"},{header:"Turn on the services",slug:"turn-on-the-services",content:`# sysrc rpcbind_enable="YES"
# sysrc dtspc_enable="YES"
# sysrc dtcms_enable="YES"
# ln -s /usr/local/dt/bin/Xsession ~/.Xsession`}]},{path:"/chapter-29.-desktop-advanced-advancement/29.3-installing-awesome.html",title:"29.3 Installing Awesome",pathLocale:"/",contents:[{header:"29.3 Installing Awesome",slug:"_29-3-installing-awesome",content:""}]},{path:"/chapter-29.-desktop-advanced-advancement/29.4-installing-fvwm.html",title:"29.4 Installing FVWM",pathLocale:"/",contents:[{header:"29.4 Installing FVWM",slug:"_29-4-installing-fvwm",content:""}]},{path:"/chapter-3.-software-sources-and-package-manager/3.0-package-manager-overview.html",title:"3.0 Overview of the Package Manager",pathLocale:"/",contents:[{header:"3.0 Overview of the Package Manager",slug:"_3-0-overview-of-the-package-manager",content:""},{header:"FreeBSD Package Manager Design Philosophy",slug:"freebsd-package-manager-design-philosophy",content:`Those familiar with Linux may find that FreeBSD's package management scheme actually amounts to roughly a perfect amalgamation of the package managers of the following two major Linux distributions.
Arch Linux: Pacman, which corresponds to pkg (again with the KISS philosophy)
Gentoo Linux: Portage, which corresponds to Ports (Portage itself is a Ports knockoff) If you need to look up the specifics of a package in FreeBSD, you can do so: Google or Bing (many times not available) and search for "fteebsd ports package name". If that doesn't work, you can search for the package name directly on the website https://www.freshports.org/.`}]},{path:"/chapter-3.-software-sources-and-package-manager/3.1-status-of-freebsd-mirror-sites.html",title:"3.1 Status of the FreeBSD mirror",pathLocale:"/",contents:[{header:"3.1 Status of the FreeBSD mirror",slug:"_3-1-status-of-the-freebsd-mirror",content:""},{header:"Current Status",slug:"current-status",content:`The main problem is that officials do not open rsync and do not accept official secondary mirror applications from mirror sites anyway (probably because of lack of money or to prevent tampering with the mirror files).
There is no secondary contact for many times, such as the mailing list, about five times, of which three responses, two no response. The main reply is "apologies, but there is a mirror in Taiwan". There was no direct explanation of how to mirror, and in particular, the Linux Users Association of the University of Science and Technology of China (among other mirror sites, such as the TUNA Association of Tsinghua University) requested a mirror, but the other side mentioned that FreeBSD was also unavailable. There are currently no official FreeBSD mirrors in mainland China.
If any of you are able to contact FreeBSD officials, we hope that the mirrors will be opened soon, as non-official mirrors will not solve the problem. In addition, the Kernel or Base system source code SVN speed is even more impressive, unless the system is installed when the source code is installed, ...... domestic network environment, to enhance the speed of the proxy is also a basic function, but we can not require everyone to be the same, to provide convenient network services to facilitate more people The core of the development of FreeBSD is to facilitate the use of more people.
Please note, friends, that mirror sites are infrastructure, just like the saying, "If you want to be rich, build a road first." If the road to FreeBSD is not open, it will be a thorny path.
Here is a call to action for those who can contact the official FreeBSD community to first solve this basic problem.
The following unofficial issue mirrors are currently open for application.
USTC:
https://github.com/ustclug/mirrorrequest/issues/172
https://github.com/ustclug/mirrorrequest/issues/171
Unofficial issue mirror requests that are currently closed.
TUNA.
https://github.com/tuna/issues/issues/16`},{header:"Officially given the basic requirements for mirror sites",slug:"officially-given-the-basic-requirements-for-mirror-sites",content:"root access to the server, which is not given by domestic university open source mirrors. IPv6 and CN2 networks - also lacking in China. BGP network. Enough storage space (about 50TB) and 1G bandwidth. 5 of the above computers. Filing issues - a special company/social organization is required to file with cn.FreeBSD.org. And the biggest problem, the lack of money."},{header:"Unofficial mirror sites",slug:"unofficial-mirror-sites",content:`FreeBSD does not have an official mirror site within mainland China; there is an official mirror site in Taiwan,China.
FreeBSD currently has several unofficial mirror sites on the mainland (see Section 2 for details.) : USTC USTC (pkg ports only)
https://mirrors.ustc.edu.cn http://freebsd.cn (four types of sources) Beijing Jiaotong University free and open source mirror site (four types of sources)
https://mirror.bjtu.edu.cn
Contact:
https://t.me/bjtumirror NetEase 163 mirror site (ports pkg only) Nanjing University open source mirror station
No effective contact could be made and the person in charge could not be found. Official FreeBSD contact information.
freebsd-hubs@freebsd.org`}]},{path:"/chapter-3.-software-sources-and-package-manager/3.2-freebsd-source-exchange-method.html",title:"3.2 FreeBSD Source Change Method",pathLocale:"/",contents:[{header:"3.2 FreeBSD Source Change Method",slug:"_3-2-freebsd-source-change-method",content:`Notification
bjtu Beijing Jiaotong University open source mirror site mirror site is down. Please switch to another source, e.g. freebsd.cn/ustc/nju/163.
The reason is that the university requires to guarantee online classes, so the exit speed is limited to 100Mbps. now the mirror station is crowded every day.
Expected fix: summer break, unknown. FreeBSD has four types of sources: pkg, ports, portsnap, and update.
For versions that have lost security support, please refer to the last section
This article lists multiple mirror sites for a source, no need to configure all of them, just choose one of them. Recommend to use Beijing Jiaotong University Free and Open Source Software Mirror Station, because it is mirrored by reverse proxy and can keep synchronized with upstream.
There is no official mirror site in the territory, the following are unofficial mirror sites.`},{header:"pkg source: pkg source provides binary installation package",slug:"pkg-source-pkg-source-provides-binary-installation-package",content:`The download path for pkg is /var/cache/pkg/.
The pkg source in FreeBSD is divided into two configuration files, system-level and user-level. It is not recommended to modify /etc/pkg/FreeBSD.conf directly, as this file will change as the base system is updated.
Create a user-level source directory:
# mkdir -p /usr/local/etc/pkg/repos`},{header:"Beijing Jiaotong University Free and Open Source Software Mirror Site",slug:"beijing-jiaotong-university-free-and-open-source-software-mirror-site",content:`Create user-level source files:
# ee /usr/local/etc/pkg/repos/bjtu.conf
Write the following:
bjtu: { url: "pkg+http://mirror.bjtu.edu.cn/reverse/freebsd-pkg/\${ABI}/quarterly", mirror_type: "srv", signature_type: "none", fingerprints: "/usr/share/keys/pkg", enabled: yes
}
FreeBSD: { enabled: no }
Troubleshooting
To get rolling updates of packages, change quarterly\`'' to latest'. Note that the CURRENTversion is only available aslatest\`.
To use https, install security/ca_root_nss and change http to https, then use the command # pkg update -f to refresh the cache, as below.`},{header:"NetEase open source mirror site",slug:"netease-open-source-mirror-site",content:`Create user-level source files:
# ee /usr/local/etc/pkg/repos/163.conf
Write the following:
163: { url: "pkg+http://mirrors.163.com/freebsd-pkg/\${ABI}/quarterly", mirror_type: "srv", signature_type: "none", fingerprints: "/usr/share/keys/pkg", enabled: yes
}
FreeBSD: { enabled: no }`},{header:"University of Science and Technology of China open source software mirror site",slug:"university-of-science-and-technology-of-china-open-source-software-mirror-site",content:`Create user-level source files:
# ee /usr/local/etc/pkg/repos/ustc.conf
Write the following:
ustc: { url: "pkg+http://mirrors.ustc.edu.cn/freebsd-pkg/\${ABI}/quarterly", mirror_type: "srv", signature_type: "none", fingerprints: "/usr/share/keys/pkg", enabled: yes
}
FreeBSD: { enabled: no }`},{header:"Nanjing University open source mirror site",slug:"nanjing-university-open-source-mirror-site",content:`# ee /usr/local/etc/pkg/repos/nju.conf
Write the following:
nju: { url: "pkg+http://mirrors.nju.edu.cn/freebsd-pkg/\${ABI}/quarterly", mirror_type: "srv", signature_type: "none", fingerprints: "/usr/share/keys/pkg", enabled: yes
}
FreeBSD: { enabled: no }`},{header:"FreeBSD.cn (unofficial, same below)",slug:"freebsd-cn-unofficial-same-below",content:`# ee /usr/local/etc/pkg/repos/freebsdcn.conf
Write the following:
freebsdcn: { url: "pkg+http://pkg.freebsd.cn/\${ABI}/quarterly", mirror_type: "srv", signature_type: "none", fingerprints: "/usr/share/keys/pkg", enabled: yes
}
FreeBSD: { enabled: no }`},{header:"ports source: package manager that provides a source way to install software",slug:"ports-source-package-manager-that-provides-a-source-way-to-install-software",content:"ports download path is /usr/ports/distfiles"},{header:"Beijing Jiaotong University Free and Open Source Software mirror site",slug:"beijing-jiaotong-university-free-and-open-source-software-mirror-site-1",content:`Create or modify the file # ee /etc/make.conf:
Write the following:
MASTER_SITE_OVERRIDE?=http://mirror.bjtu.edu.cn/reverse/freebsd-pkg/ports-distfiles/`},{header:"ee open source mirror site",slug:"ee-open-source-mirror-site",content:`Create or modify the file # ee /etc/make.conf:
Write the following:
MASTER_SITE_OVERRIDE?=http://mirrors.163.com/freebsd-ports/distfiles/`},{header:"University of Science and Technology of China open source software mirror site",slug:"university-of-science-and-technology-of-china-open-source-software-mirror-site-1",content:`Create or modify the file # ee /etc/make.conf:
Write the following:
MASTER_SITE_OVERRIDE?=http://mirrors.ustc.edu.cn/freebsd-ports/distfiles/`},{header:"FreeBSD.",slug:"freebsd",content:`Create or modify the file # ee /etc/make.conf:
Write the following:
MASTER_SITE_OVERRIDE?=http://ports.freebsd.cn/ports-distfiles/`},{header:"portsnap source:packaged ports file",slug:"portsnap-source-packaged-ports-file",content:""},{header:"Beijing Jiaotong University Free and Open Source Software mirror site",slug:"beijing-jiaotong-university-free-and-open-source-software-mirror-site-2",content:`Edit portsnap configuration file # ee /etc/portsnap.conf :
Change SERVERNAME=portsnap.FreeBSD.org to SERVERNAME=freebsd-portsnap.mirror.bjtulug.org
Get portsnap updates
# portsnap fetch extract
Troubleshooting
Snapshot appears to have been created more than one day into the future!
(Is the system clock correct?)
Cowardly refusing to proceed any further.
Need to synchronize time.
ntpdate ntp.api.bz`},{header:"FreeBSD.",slug:"freebsd-1",content:`Edit the portsnap configuration file # ee /etc/portsnap.conf :
Change SERVERNAME=portsnap.FreeBSD.org to SERVERNAME=portsnap.FreeBSD.cn`},{header:"freebsd-update source: providebase system updates",slug:"freebsd-update-source-providebase-system-updates",content:`Note: This source is only available for release versions of first-level architectures. This means that current and stable are not available.
For a description of the architecture support levels see.
https://www.freebsd.org/platforms`},{header:"Beijing Jiaotong University Free and Open Source Software Mirror Site",slug:"beijing-jiaotong-university-free-and-open-source-software-mirror-site-3",content:`Edit the # ee /etc/freebsd-update.conf file:
Change ServerName update.FreeBSD.org to ServerName freebsd-update.mirror.bjtulug.org
Example: upgrading from FreeBSD 12 to 13.0
# freebsd-update -r 13.0-RELEASE upgrade`},{header:"FreeBSD.",slug:"freebsd-2",content:`Edit the # ee /etc/freebsd-update.conf file:
Change ServerName update.FreeBSD.org to ServerName update.FreeBSD.cn.`},{header:"Versions not supported by security (use as appropriate)",slug:"versions-not-supported-by-security-use-as-appropriate",content:`It is possible to use binary sources for non-security supported versions. Here, for example, is FreeBSD 9.2. First switch to a working binary source
# setenv PACKAGESITE http://ftp-archive.freebsd.org/pub/FreeBSD-Archive/ports/amd64/packages-9.2-release/Latest
If the shell is not csh, then:
# export PACKAGESITE=http://ftp-archive.freebsd.org/pub/FreeBSD-Archive/ports/amd64/packages-9.2-release/Latest
Installation example: Now install bsdinfo.
root@ykla:~ # pkg_add -r bsdinfo Fetching http://ftp-archive.freebsd.org/pub/FreeBSD-Archive/ports/amd64/packages-9.2-release/Latest/bsdinfo.tbz... Done.
pkg is not available, it will tell you that digests.txz and repo.txz are not found, because pkgng is not officially supported at that time, only pkg_* command is still supported.`}]},{path:"/chapter-3.-software-sources-and-package-manager/3.3-usage-of-gitup.html",title:"3.3 Usage of Gitup",pathLocale:"/",contents:[{header:"3.3 Usage of Gitup",slug:"_3-3-usage-of-gitup",content:`In FreeBSD 13.0, FreeBSD officials are planning to remove portsnap (but still use it) in favor of gitup, a replacement for the git method of getting the system source code and the ports package suite. However, it is unclear if this replacement will work. # pkg install gitup # install gitup
# gitup ports #Get ports
# gitup release #Get the release version of the source code`},{header:"Troubleshooting: too slow",slug:"troubleshooting-too-slow",content:`Setting up an HTTP proxy
The proxy for gitup does not depend on the system proxy, but is determined separately by its configuration file.
# ee /usr/local/etc/gitup.conf
Example (delete the preceding # before changing it):
"proxy_host" : "192.168.27.1",
"proxy_port" : 7890,
Reference link:
https://www.freebsd.org/cgi/man.cgi?query=gitup&sektion=1&manpath=freebsd-release-ports
https://www.freshports.org/net/gitup
https://github.com/johnmehr/gitup`}]},{path:"/chapter-3.-software-sources-and-package-manager/3.4-usage-of-the-package-manager-pkg.html",title:"3.4 Usage of the package manager pkg",pathLocale:"/",contents:[{header:"3.4 Usage of the package manager pkg",slug:"_3-4-usage-of-the-package-manager-pkg",content:"Please note: pkg can only manage third-party packages, and does not serve to upgrade the system and get security updates. This is because the FreeBSD project maintains the kernel and user space as a whole, rather than Linux where linus torvalds maintains the kernel and the individual distribution people maintain the GNU tools (they are actually designed as individual packages, so the package manager can be used to update and upgrade the system). FreeBSD uses freebsd-update to upgrade the system and get security patches."},{header:"How to install software with pkg",slug:"how-to-install-software-with-pkg",content:`The base system does not have a pkg by default, so first get a pkg: # pkg Enter
# pkg Enter to confirm the download by typing y. pkg use https, install ssl certificate first:
# pkg install ca_root_nss
Then change pkg+http to pkg+https in repo.conf.
Finally, refresh the pkg database: \`# pkg update -f
# pkg update -f To install python 3.
# pkg install python pkg upgrade.
# pkg upgrade Error: You must upgrade the ports-mgmt/pkg port first
Solution.
# cd /usr/ports/ports-mgmt/pkg
# make deinstall reinstall`},{header:"How to uninstall software",slug:"how-to-uninstall-software",content:"Using pkg delete directly will break the normal dependencies and should be avoided (as should make deinstall for ports), instead use the pkg-rmleaf command, which requires the software to be installed by itself: `# pkg install pkg-rmleaf\n# pkg install pkg-rmleaf"},{header:"Troubleshooting",slug:"troubleshooting",content:""},{header:"FreeBSD pkg install software fails to create user solution",slug:"freebsd-pkg-install-software-fails-to-create-user-solution",content:`Example problem.
[1/1] Installing package...
===> Creating groups.
Creating group 'package' with gid '000'.
===> Creating users
Creating user 'package' with uid '000'.
pw: user 'package' disappeared during update
pkg: PRE-INSTALL script failed
pkg: PRE-INSTALL script failed
Problem solving: database not synchronized
Problem solved.
# /usr/sbin/pwd_mkdb -p /etc/master.passwd`},{header:'Shared object "x.so.x" not found, required by "xxx"',slug:"shared-object-x-so-x-not-found-required-by-xxx",content:`This problem is usually due to a broken ABI, just update it.
# pkg install bsdadminscripts
# pkg_libchk
# port-rebuild`},{header:"Newer FreeBSD version for package pkg",slug:"newer-freebsd-version-for-package-pkg",content:`Example problem.
Neuer FreeBSD version for package pkg:
To ignore this error set IGNORE_OSVERSION=yes
- package: 1402843
- running kernel: 1400042
Ignore the mismatch and continue?
This usually occurs on systems that have lost security support or are on the Current version and does not affect usage, just enter y.
If you want to fix the root cause, you need to uninstall the pkg yourself, install ports-mgmt/pkg from ports, or update the entire system from source.
If you just don't want to see this prompt, just follow the instructions and write IGNORE_OSVERSION=yes to /etc/make.conf (or create a new one if you don't have it).`}]},{path:"/chapter-3.-software-sources-and-package-manager/3.5-installing-software-via-source-ports.html",title:"3.5 Installing Software via Source Ports",pathLocale:"/",contents:[{header:"3.5 Installing Software via Source Ports",slug:"_3-5-installing-software-via-source-ports",content:`Note
ports and pkg can be used together, as most people do. However, note that the source of pkg must be the latest, otherwise there will be some dependencies such as lib library problems. latset source is also later than ports on the mainline (compiled from it), so even latset source may have the above problems. compile it again.`},{header:"Basic usage of FreeBSD ports",slug:"basic-usage-of-freebsd-ports",content:""},{header:"First fetch portsnap",slug:"first-fetch-portsnap",content:"# portsnap fetch extract"},{header:"Use whereis to query software paths",slug:"use-whereis-to-query-software-paths",content:`e.g. # whereis python
output python: /usr/ports/lang/python`},{header:"How to install python3.",slug:"how-to-install-python3",content:`# cd /usr/ports/lang/python
# make BATCH=yes clean
where BATCH=yes means use the default configuration`},{header:"FreeBSD ports multi-threaded compilation (recommended)",slug:"freebsd-ports-multi-threaded-compilation-recommended",content:`On Linux, such as gentoo, it is usually straight -jx or jx+1, x being the number of cores.
FreeBSD ports multi-threaded compilation
FORCE_MAKE_JOBS=yes
MAKE_JOBS_NUMBER=4
Write to /etc/make.conf and create a new one if you don't have it.
4 is the number of processor cores (or threads?) If you don't know, don't change it. Intel's processor search CPU model + ARK to jump Intel's official website can check the number of threads.`},{header:"How to use multi-threaded downloads.",slug:"how-to-use-multi-threaded-downloads",content:`# pkg install axel #download multi-threaded download tool #
Create or edit the # ee /etc/make.conf file and write the following two lines.
FETCH_CMD=axel
FETCH_BEFORE_ARGS= -n 10 -a
FETCH_AFTER_ARGS=
DISABLE_SIZE=yes`},{header:"Advanced",slug:"advanced",content:`If you do not choose the BATCH=yes method to manually configure the dependencies.
To see where the python ports are.
# whereis python
# python: /usr/ports/lang/python
Install python3.
# cd /usr/ports/lang/python
How to set up all the required dependencies.
# make config-recursive
How to remove the configuration file for the current port: \`# make rmconfig
# make rmconfig
How to download all the required packages at once: \`# make BATCH
# make BATCH=yes fetch-recursive
Upgrade the ports collection
# portsnap fetch extract
The software compiled by ports can also be converted to pkg packages
# pkg create nginx`},{header:"FreeBSD package upgrade management tool",slug:"freebsd-package-upgrade-management-tool",content:`First update the ports tree
## portsnap fetch update
Then list the obsolete Ports components
# pkg_version -l '<'
Below is a list of the 2 upgrade tools mentioned in the FreeBSD handbook:
I. portupgrade
# cd /usr/ports/ports-mgmt/portupgrade && make install clean
# portupgrade -ai # Automatically upgrade all software
# portupgrade -R screen #Upgrade individual software
II. portmaster (recommended)
# cd /usr/ports/ports-mgmt/portmaster && make install clean
# portmaster -ai # Automatically upgrade all software
# portmaster screen # Upgrade individual software
# portmaster -a -m "BATCH=yes" # or -D -G -no-confirm can dispense with confirmation`}]},{path:"/chapter-3.-software-sources-and-package-manager/3.6-installing-software-via-dvd.html",title:"3.6 Installing Software via DVD",pathLocale:"/",contents:[{header:"3.6 Installing Software via DVD",slug:"_3-6-installing-software-via-dvd",content:""}]},{path:"/chapter-4.-desktop-installation/4.0-overview.html",title:"4.0 Overview",pathLocale:"/",contents:[{header:"4.0 Overview",slug:"_4-0-overview",content:`All FreeBSD installation media do not include a graphical interface by default (DVD's do not work) and need to be installed manually. Please do not use sysutils/desktop-installer, it will cause unnecessary errors and problems.
It is an unattainable luxury to insist that FreeBSD must exhibit the desktop power of Linux or even Windows; the official FreeBSD slogan is The power to serve. This chapter is not intended to be a guide to installing all desktops, but rather to provide as many options as possible.
The basic steps to install a desktop are: \u2460 Install the graphics driver -> \u2461 Install Xorg -> \u2462 Install KDE5/Gnome/XFCE/MATE -> \u2463 Install the display manager sddm/lightdm/slim -> \u2464 Install the input method and other software
Wayland is a replacement for xorg, but the number of desktops that support Wayland on BSD is 0 at the moment.
Gnome can omit step 4 because its display manager gdm is automatically installed in step 2.
The recommended combination of display managers is
KDE5 + sddm
Xfce/Mate + lightdm
Slim is not recommended as the author stopped developing it in 2013, and it can cause some strange bugs (e.g. fcitx5 doesn't work, dbus doesn't load).
The input method framework is currently recommended to use fcitx (for KDE 5 desktops), ibus (for other GTK-based desktops like gnome, xfce, mate......). Do not use scim, the author ran away long time ago (about 16 years ago). The environment variables are configured differently for different SHELLs, with FreeBSD using csh by default before 14, and sh for 14 and later. Also, different desktops load environment variables in different ways, so the configuration method is different for different desktops and different SHELLs, see specific desktops for details. Story
sddm gdm lightdm slim messing around with the system.
sddm:behind me is kde
gdm:behind me is gnome
lightdm:behind me can be any
slim:What should I do? So panic, dive too long, the administrator is going to kick me.
system:Hopefully you guys are raising compulsions on my turf?`}]},{path:"/chapter-4.-desktop-installation/4.1-installing-xorg.html",title:"4.1 Installing Xorg",pathLocale:"/",contents:[{header:"4.1 Installing Xorg",slug:"_4-1-installing-xorg",content:""},{header:"Installing xorg",slug:"installing-xorg",content:""},{header:"Optional packages.",slug:"optional-packages",content:`xorg full package: xorg
xorg minimal package: org-minimal (not recommended)`},{header:"Installing",slug:"installing",content:`Install via pkg:
# pkg install xorg
Install via ports:
# cd /usr/ports/x11/xorg
# make install clean`},{header:"Troubleshooting",slug:"troubleshooting",content:"There are always people trying to manually generate the xorg.conf file, which is very wrong! There is a good chance that you can't open the desktop not because of a configuration problem with this file! You should check the graphics driver or the desktop itself. xorg is almost never a problem!Xorg hardly ever goes wrong!"}]},{path:"/chapter-4.-desktop-installation/4.10-remote-desktop-management.html",title:"4.10 Remote Desktop Management",pathLocale:"/",contents:[{header:"4.10 Remote Desktop Management",slug:"_4-10-remote-desktop-management",content:""},{header:"VNC",slug:"vnc",content:`Enabling VNC Services
TigerVNC Server. Use tightvnc as well. # pkg install -y tigervnc-server After installation, you have to do some setup. 1. Execute the command vncpasswd in the terminal to set the access password. 2. Create ~/.vnc/xstartup file with the following contents. #! /bin/sh unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS [ -x /etc/X11/xinit/xinitrc ] && exec /etc/X11/xinit/xinitrc [ -f /etc/X11/xinit/xinitrc ] && exec sh /etc/X11/xinit/xinitrc xsetroot -solid grey $command & Note: $command needs to be replaced, please be careful to keep &, it needs to be replaced under different desktops, Gnome with gnome-session, KDE with startplasma-x11, MATE with mate-session, Xfce with xfce4-session.
After saving, execute the command # chmod 755 ~/.vnc/xstartup. 3. Next, execute the command vncserver or vncserver :1 in the terminal. Where :1 is equivalent to DISPLAY=:1, which specifies that the communication port of the desktop display is 1, which corresponds to the communication port of the VNC service as 5901. Although the desktop display communication port starts from 0, the port is already occupied by the current desktop, so although the default port of VNC service is 5900, the actual execution often starts from 5901.
If you do not specify the communication port when starting the service, it will be automatically specified according to the usage.
To shut down the service, please use the command # vncserver -kill :1, where the communication port must be specified. 4. If the firewall is enabled, then you also need to open the firewall at this time. Take ipfw as an example, enter the command in the terminal. # ipfw add allow tcp from any to me 5900-5910 in keep-state The above command opens ports 5900-5910, i.e. ports 0-10 of DISPLAY, which is usually enough even if you need to open many desktops. Finally, don't forget to add the command to the ruleset file, otherwise it will be lost after OS reboot.`},{header:"XRDP",slug:"xrdp",content:""},{header:"Remote FreeBSD using another machine",slug:"remote-freebsd-using-another-machine",content:`To install the package (using the KDE5 desktop as a base).
## pkg install xorg kde5 xrdp wqy-fonts xdg-user-dirs
Configuration:
# sysrc xrdp_enable="YES"
# sysrc xrdp_sesman_enable="YES"
# sysrc dbus_enable="YES"
Edit # ee /etc/fstab and add:
proc /proc procfs rw 0 0
Edit /usr/local/etc/xrdp/startwm.sh.
Find #### start desktop environment and modify it as follows:
#### start desktop environment
# exec gnome-session
# exec mate-session
# exec start-lumina-desktop
exec ck-launch-session startplasma-x11 # change here
# exec startxfce4
# exec xterm # change here
Then restart the system.
Open the remote desktop link that comes with windows and enter the IP address/username/password to link. Note
If you see a menu with a blue background. Please leave the xrdp default settings as they are, and enter Xorg on the first line, the user name from your FreeBSD system on the second line, and its password on the third line. Click OK to go to the desktop.`},{header:"i18n (this user is using sh as a shell).",slug:"i18n-this-user-is-using-sh-as-a-shell",content:`#### set environment variables here if you want
export LANG=zh_CN.UTF-8`},{header:"Using FreeBSD to remote other machines",slug:"using-freebsd-to-remote-other-machines",content:`Installation command.
# pkg install -y rdesktop However, rdesktop will not generate a menu on the system after installation, so enter the command in the terminal.
# rdesktop windows device ip The first time you log in to the device you will be prompted for security, type yes, enter and the remote desktop window will pop up.`},{header:"anydesk",slug:"anydesk",content:`By using anydesk you can remotely assist with.
# cd /usr/ports/deskutils/anydesk/ && make install clean
That's it.`}]},{path:"/chapter-4.-desktop-installation/4.11-installing-wayland-optional.html",title:"4.11 Installing Wayland (optional)",pathLocale:"/",contents:[{header:"4.11 Installing Wayland (optional)",slug:"_4-11-installing-wayland-optional",content:`Not available at this time.
Wayland is a replacement for Xorg. The difference in use is that the former interface renders better and more smoothly than xorg; the touchpad effect is closer to macOS. Wayland is officially supported in FreeBSD, version 1.20. Note: Please use the latest source to install the package, as it is the latest commit. No desktops are currently supported after testing.`}]},{path:"/chapter-4.-desktop-installation/4.2-installing-kde-5.html",title:"4.2 Installing KDE 5",pathLocale:"/",contents:[{header:"4.2 Installing KDE 5",slug:"_4-2-installing-kde-5",content:`The following tutorial applies to users whose shell is csh/tcsh.
First see if your shell is csh/tcsh now
# echo $0
If it's either csh/tcsh, continue.`},{header:"Install",slug:"install",content:"# pkg install xorg sddm kde5 wqy-fonts xdg-user-dirs The above command installs the desktop, window manager and fonts and the tools to create user directories, respectively."},{header:"Configuration",slug:"configuration",content:`# ee /etc/fstab
Add the following:
proc /proc procfs rw 0 0 Add proc mount this step is very necessary, if not add will cause the desktop service can not run properly, some components can not be loaded! Then
sysrc dbus_enable="YES"
sysrc sddm_enable="YES"
and then
# echo "exec ck-launch-session startplasma-x11" > ~/.xinitrc If you have already run it under root, a new user will still have to run it again to get it to work (no root privileges or sudo, etc.) startx. Hint: hal has been removed. No need to add hald_enable="YES", visit:
https://www.freshports.org/sysutils/hal
Note: If sddm login flashes to the login screen, please check if plasma-X11 is in the bottom left corner, the one that flashes is usually Wayland!`},{header:"i18n",slug:"i18n",content:'Click Start-> System Settings -> Regional Settings and find "Simplified Chinese" in the Available Language column of the Language item and click > to add it to the Preferrred Languages column, then click the Apply button; then go to the Formats item, change the content in the Region text box to "China - Simplified Chinese (zh-CN)", click the Apply button, logout and log in again, then the The system language will change to Chinese.'},{header:"Troubleshooting",slug:"troubleshooting",content:`How to solve the problem that the menu is incomplete when the new normal user logs in KDE due to permission problem? You need to add the user to the wheel group.
# pw groupmod wheel -m username Note
Some users feedback that joining the wheel group still doesn't work, you need to create and join the root group.`}]},{path:"/chapter-4.-desktop-installation/4.3-installing-gnome.html",title:"4.3 Installing Gnome",pathLocale:"/",contents:[{header:"4.3 Installing Gnome",slug:"_4-3-installing-gnome",content:""},{header:"Installing",slug:"installing",content:`# pkg install xorg gnome wqy-fonts xdg-user-dirs
Explanation: software
usage xorg
X11 gnome
Gnome main program wqy-fonts
Wenquanyi Open Source CJK Font xdg-user-dirs
subdirectories for creating user home directories`},{header:"configure",slug:"configure",content:`# ee /etc/fstab
Add the following:
proc /proc procfs rw 0 0
Configure the startup entries:
# sysrc dbus_enable="YES"
# sysrc gdm_enable="YES"
# sysrc gnome_enable="YES"
Enter the following command:
% echo "/usr/local/bin/gnome-session" > ~/.xinitrc`},{header:"GNOME",slug:"gnome",content:`The user shell in this section should be the default sh, see the next section "Installing input methods" (the default shell for root users is csh, which is not applicable). # cd /usr/local/etc/gdm && ee locale.conf
Add the following:
LANG="zh_CN.UTF-8"
LC_CTYPE="zh_CN.UTF-8"
LC_MESSAGES="zh_CN.UTF-8"
LC_ALL="zh_CN.UTF-8"`},{header:"Install input method",slug:"install-input-method",content:"Below ibus, fcitx5, choose one of them."},{header:"ibus",slug:"ibus",content:`The input method panel bundled with gnome is ibus.
# pkg install zh-ibus-libpinyin (install and run initialization command ibus-setup)`},{header:"fcitx 5",slug:"fcitx-5",content:`First see if your shell is now sh,bash,zsh.
# echo $0
If it is one of sh,bash,zsh, please continue; if not, please refer to chapter 5 section 1.
Install fcitx5:
# pkg install fcitx5 fcitx5-qt fcitx5-gtk fcitx5-configtool zh-fcitx5-chinese-addons
Open or create new file ~/.xprofile, write:
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
Reference: The following is an example of this file.
# $FreeBSD$
#
# .profile - Bourne Shell startup script for login shells
#
# visit also sh(1), environ(7).
# # These are normally set through /etc/login.conf. You may override them here
# if wanted.
# PATH=/sbin:/bin:/usr/sbin:/usr/bin:/usr/local/sbin:/usr/local/bin:$HOME/bin; export PATH # Setting TERM is normally done through /etc/ttys. Do only override
# if you're sure that you'll never log in via telnet or xterm or a
# serial line.
# TERM=xterm; export TERM EDITOR=vi; export EDITOR
PAGER=less; export PAGER # set ENV to a file invoked each time sh is started for interactive use.
ENV=$HOME/.shrc; export ENV # Let sh(1) know it's at home, despite /home being a symlink.
if [ "$PWD" != "$HOME" ] && [ "$PWD" -ef "$HOME" ] ; then cd ; fi # Query terminal size; useful for serial lines.
if [ -x /usr/bin/resizewin ] ; then /usr/bin/resizewin -z ; fi # Display a random cookie on each login.
if [ -x /usr/bin/fortune ] ; then /usr/bin/fortune freebsd-tips ; fi export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS=@im=fcitx
Tips: If you want to display fcitx input method panel, you need to install gnome plugin TopIconsFix, please do not install AppIndicator and KStatusNotifierItem Support, it is known that this plugin conflicts with fcitx5, it will cause the input method to be stuck.
This plugin needs to be installed by Firefox browser.
# pkg install -y firefox chrome-gnome-shell
Open the website https://extensions.gnome.org/extension/1674/topiconsfix/ to install the plugin.`},{header:"Terminal i18n (file user root)",slug:"terminal-i18n-file-user-root",content:`# ee .cshrc
Add the following:
setenv LANG zh_CN.UTF-8
setenv LC_CTYPE zh_CN.UTF-8
setenv LC_ALL zh_CN.UTF-8`},{header:"Optimize the system",slug:"optimize-the-system",content:"# pkg install gnome-tweaks"},{header:"Uninstall Pre-installed games (optional)",slug:"uninstall-pre-installed-games-optional",content:"# pkg delete gnome-2048 gnome-klotski gnome-tetravex gnome-mines gnome-taquin gnome-sudoku gnome-robots gnome-nibbles lightsoff tali quadrapassel swell-foop gnome-mahjongg five-or-more iagno aisleriot four-in-a-row"}]},{path:"/chapter-4.-desktop-installation/4.4-installing-mate.html",title:"4.4 Installing the Mate Desktop",pathLocale:"/",contents:[{header:"4.4 Installing the Mate Desktop",slug:"_4-4-installing-the-mate-desktop",content:`The following tutorial applies to users whose shell is bash/sh/zsh.
First see if your shell is now sh,bash,zsh.
# echo $0
If it is one of sh,bash,zsh, continue.`},{header:"Installation start (main program)",slug:"installation-start-main-program",content:`# pkg install mate xorg wqy-fonts lightdm lightdm-gtk-greeter
# sysrc moused_enable="YES"
# sysrc dbus_enable="YES"`},{header:"Install Login Manager",slug:"install-login-manager",content:"Either Slim or Lightdm is recommended since the former is no longer in development."},{header:"Install Lightdm",slug:"install-lightdm",content:'# pkg install lightdm lightdm-gtk-greeter Add a line to /etc/rc.conf: lightdm_enable="YES" Add the following line to the home directory .xinitrc file: exec mate-session'},{header:"i18n",slug:"i18n",content:`The default is csh, add the following to .cshrc:
setenv LANG zh_CN.UTF-8
setenv LC_CTYPE zh_CN.UTF-8`},{header:"input method",slug:"input-method",content:`# pkg install zh-ibus-libpinyin (install and run the initialization command ibus-setup)
Set the input method variables:
# ee .xinitrc
Add the following to the file:
export GTK_IM_MODULE=ibus
export XMODIFIERS=@im=ibus
export QT_IM_MODULE=ibus
ibus &`}]},{path:"/chapter-4.-desktop-installation/4.5-installing-xfce.html",title:"4.5 Installing Xfce",pathLocale:"/",contents:[{header:"4.5 Installing Xfce",slug:"_4-5-installing-xfce",content:""},{header:"Installing xfce4",slug:"installing-xfce4",content:`The following tutorial applies to users whose shell is bash/sh/zsh.
First see if your shell is now sh,bash,zsh.
# echo $0
If it is one of sh,bash,zsh, continue. Install via pkg:
# pkg install xorg lightdm lightdm-gtk-greeter xfce wqy-fonts
or Install via ports:
# cd /usr/ports/x11-wm/xfce4
# make install clean`},{header:"Enable xfce",slug:"enable-xfce",content:`# echo "/usr/local/etc/xdg/xfce4/xinitrc" > ~/.xinitrc
or
# echo "/usr/local/etc/xdg/xfce4/xinitrc" > ~/.xsession This is for the root user, the normal user needs to do it again in their own environment. Same as below. Depending on the conditions use.`},{header:"Start the service",slug:"start-the-service",content:`# sysrc dbus_enable="YES"
# sysrc lightdm_enable="YES"`},{header:"Set i18n",slug:"set-i18n",content:"Add the following to .xinitrc or .profile (but only at the top to enable it properly) export LANG=zh_CN.UTF-8"},{header:"Optional configuration",slug:"optional-configuration",content:""},{header:"Input method",slug:"input-method",content:`Please check if your shell is one of sh, bash, zsh.
# echo $0
If it is one of the above three SHELLs, please continue, if not please refer to chapter 5 section 1.
# pkg install zh-fcitx zh-fcitx-configtool fcitx-qt5 fcitx-m17n zh-fcitx-libpinyin
Configuration file:
# ee ~/.xinitrc Add the following to this file:
export XMODIFIERS="@im=fcitx"
export XIM_PROGRAM="fcitx"
export GTK_IM_MODULE="fcitx"
fcitx &`},{header:"Global menu (optional)",slug:"global-menu-optional",content:`# pkg install xfce4-appmenu-plugin appmenu-gtk-module appmenu-registrar
$ xfconf-query -c xsettings -p /Gtk/ShellShowsMenubar -n -t bool -s true
$ xfconf-query -c xsettings -p /Gtk/ShellShowsAppmenu -n -t bool -s true
$ xfconf-query -c xsettings -p /Gtk/Modules -n -t string -s "appmenu-gtk-module"`},{header:"Troubleshooting",slug:"troubleshooting",content:""},{header:"xfce Normal user shutdown button grayed out solution",slug:"xfce-normal-user-shutdown-button-grayed-out-solution",content:`# chown -R polkitd /usr/local/etc/polkit-1
This solves the xfce4 normal user shutdown button grayout problem.`},{header:"FreeBSD's xfce terminal dynamic title does not display problem",slug:"freebsd-s-xfce-terminal-dynamic-title-does-not-display-problem",content:`tcsh configuration:
Create .tcshrc in the home directory,
Write the following configuration:
alias h history 25 alias j jobs -l alias la ls -aF alias lf ls -FA alias ll ls -lAF setenv EDITOR vi setenv PAGER less switch ($TERM) case "xterm*": set prompt="%{033]0;[]%~007%}%#" set filec set history = 1000 set savehist = (1000 merge) set autolist = ambiguous # Use history to aid expansion set autoexpand set autorehash breaksw default: set prompt="%#" breaksw endsw`}]},{path:"/chapter-4.-desktop-installation/4.6-installing-cinnamon.html",title:"4.6 Installing Cinnamon",pathLocale:"/",contents:[{header:"4.6 Installing Cinnamon",slug:"_4-6-installing-cinnamon",content:`The following tutorial applies to users whose shell is bash/sh/zsh.
First see if your shell is now sh,bash,zsh.
# echo $0
If it is one of sh,bash,zsh, continue.`},{header:"Install",slug:"install",content:"# pkg install xorg lightdm lightdm-gtk-greeter cinnamon wqy-fonts"},{header:"configure",slug:"configure",content:`# ee ~/.xinitrc
Add.
exec cinnamon-session
# ee /etc/fstab
Add.
proc /proc procfs rw 0 0`},{header:"Add startup entries.",slug:"add-startup-entries",content:`# sysrc dbus_enable="YES"
# sysrc lightdm_enable="YES"`},{header:"Neutralization",slug:"neutralization",content:`Edit etc/login.conf.
Find the paragraph default:\\ and change :lang=C.UTF-8 to :lang=zh_CN.UTF-8.
Refresh the database: # cap_mkdb /etc/login.conf`}]},{path:"/chapter-4.-desktop-installation/4.7-installing-lumina.html",title:"4.7 Installing Lumina",pathLocale:"/",contents:[{header:"4.7 Installing Lumina",slug:"_4-7-installing-lumina",content:""},{header:"Installation",slug:"installation",content:"# pkg install lumina xorg lightdm lightdm-gtk-greeter wqy-fonts"},{header:"configure",slug:"configure",content:`# sysrc dbus_enable="YES"
# sysrc lightdm_enable="YES"
# ee ~/.xinitrc
Add:
exec lumina-desktop`},{header:"i18n Settings",slug:"i18n-settings",content:'The settings are still in English. The reason is unknown, if you know, please submit an issue or pull request. Desktop Settings --> Localization --> Adjust all to "Simplified Chinese", then "save", log out and restart the system. The operation is not working.'}]},{path:"/chapter-4.-desktop-installation/4.8-root-login-desktop.html",title:"4.8 root login desktop",pathLocale:"/",contents:[{header:"4.8 root login desktop",slug:"_4-8-root-login-desktop",content:`Warning
This section is written in the spirit of freedom, as some users may wish to log in to the desktop as root. Please be aware that the root account has the highest privileges and that misuse of the root account may damage the system and therefore use it to log in to the GUI is an extremely high security risk. Please use caution and proceed at your own risk with the following.`},{header:"lightdm",slug:"lightdm",content:`Installation and configuration.
## pkg install lightdm-gtk-greeter lightdm
First set up the startup service.
# sysrc lightdm_enable="YES"
Then modify the configuration file. Edit # ee /usr/local/etc/lightdm/lightdm.conf. Scroll down and find greeter-show-manual-login=true remove the # in front of it. This line will appear several times, the first time it appears is for your introduction, do not change it, instead you should continue to scroll down. Edit # ee /usr/local/etc/pam.d/lightdm. Comment out the line account requisite pam_securetty.so (add # to the top)
Restart the servicea:
# service lightdm restart
That will work.`},{header:"sddm",slug:"sddm",content:`Install:
# pkg install sddm
# sysrc sddm_enable="YES"
Change the /usr/local/etc/pam.d/sddm file:
Replace login after include with system, 4 in total.
Restart the service:
# service sddm restart
After that you can root login to sddm!`},{header:"Note that the option in the lower left corner of sddm cannot be Wayland, it should be Plasma-X11, currently KDE 5 does not support wayland, so you can't log in if you choose wrong!",slug:"note-that-the-option-in-the-lower-left-corner-of-sddm-cannot-be-wayland-it-should-be-plasma-x11-currently-kde-5-does-not-support-wayland-so-you-can-t-log-in-if-you-choose-wrong",content:`Warning
The root account has the highest privileges, and using it incorrectly may damage the system, so using it to log into the GUI is an extremely high security risk.`}]},{path:"/chapter-4.-desktop-installation/4.9-theme-and-beautification.html",title:"4.9 Themes and Beautification",pathLocale:"/",contents:[{header:"4.9 Themes and Beautification",slug:"_4-9-themes-and-beautification",content:"After installing the desktop environment on FreeBSD, as with other class Unix systems, a simple and plain color palette is often what comes to mind. This unadorned setting may be overwhelming to new users for a while. The logic behind it is actually quite simple: firstly, it is for the stability of the system, and secondly, the beautification of the desktop system, which involves personal aesthetics, is difficult to be adjusted by the public. For the sake of system aesthetics, we learn to add Theme and Icons in this section."},{header:"Installing packages",slug:"installing-packages",content:`[ ] Beginner's task: Choose one theme and one icon from each of the following packages to install. Note: This section only covers the GTK library of desktop themes, including the Gnome, XFCE, MATE, Cinnamon and LXDE desktop environments.
Only some of the icons and themes are included below, for more resources, please visit FreshPorts.`},{header:"Themes",slug:"themes",content:`matcha theme: # pkg install matcha-gtk-themes
Qogir theme: # pkg install qogir-gtk-themes
Pop theme: # pkg install pop-gtk-themes
Flat theme: # pkg install flat-remix-gtk-themes
Numix theme: # pkg install numix-gtk-theme
Sierra theme: # pkg install sierra-gtk-themes
Yaru theme: # pkg install yaru-gtk-themes
Canta theme: # pkg install canta-gtk-themes`},{header:"icons",slug:"icons",content:`papirus icon: # pkg install papirus-icon-theme
Qogir icon: # pkg install qogir-icon-themes
Pop icon: # pkg install pop-icon-theme
Flat icon: # pkg install flat-remix-icon-themes
Numix icons: # pkg install numix-icon-theme
Numix circle icons: # pkg install numix-icon-theme-circle
Yaru icon: # pkg install yaru-icon-theme
Canta icon: # pkg install canta-icon-theme`},{header:"Terminal mode installation",slug:"terminal-mode-installation",content:`Hint: Users new to Unix may skip this section. [ ] Advanced task: Install a theme and icons for KDE or Gnome that emulate the MacOS system style.
[x] Advance task 1: Install bash: # pkg install bash
[x] Advance task 2 install plank: # pkg install plank
[x] Pre-task 3 install git: # pkg install git`},{header:"KDE theme beautification",slug:"kde-theme-beautification",content:`We are going to install the WhiteSur theme. Download the theme source package: git clone https://github.com/vinceliuice/WhiteSur-kde 2.
Go to the theme package directory: cd WhiteSur-kde 3.
modify shebang: ee install.sh, modify the first line to #! /usr/local/bin/bash, then save it. 4.
Execute the installation: bash install.sh`},{header:"Gnome theme beautification",slug:"gnome-theme-beautification",content:`Again we are going to install the WhiteSur theme. Download the theme source package: git clone https://github.com/vinceliuice/WhiteSur-gtk-theme 2.
Go to the theme package directory: cd WhiteSur-gtk-theme. 3.
modify shebang: ee install.sh, modify the first line to #! /usr/local/bin/bash, then save it. 4.
Execute the installation: bash install.sh`},{header:"icons",slug:"icons-1",content:`Download the icon: git clone https://github.com/vinceliuice/WhiteSur-icon-theme
enter the software directory: cd WhiteSur-icon-theme 3.
Modify shebang: ee install.sh, change the first line to #! /usr/local/bin/bash, then save it. 4.
Execute the installation: bash install.sh`},{header:"cursor",slug:"cursor",content:`Download the cursor: git clone https://github.com/vinceliuice/McMojave-cursors
enter the software directory: cd McMojave-cursors 3.
modify shebang: ee install.sh, modify the first line to #! /usr/local/bin/bash, then save it. 4.
Execute the installation: bash install.sh`},{header:"Background image",slug:"background-image",content:"download address"},{header:"Post-class exercise",slug:"post-class-exercise",content:`Try to follow the steps below to install Papirus icon in the terminal:
git clone https://github.com/PapirusDevelopmentTeam/papirus-icon-theme
cd papirus-icon-theme
. /install.sh`}]},{path:"/chapter-5.-input-method-and-common-software/5.1-fcitx-input-method-framework.html",title:"5.1 Fcitx input method framework",pathLocale:"/",contents:[{header:"5.1 Fcitx input method framework",slug:"_5-1-fcitx-input-method-framework",content:`fcitx 5 adds support for Wayland compared to its predecessor, and is said to be smoother. Note
There are many unpredictable and strange bugs in FreeBSD-14.0-Current (fcitx5 diagnostic message English is garbled, input method shows strange Chinese characters, fcitx5-qt5 environment does not load properly\u2026\u2026), if conditions permit should be used in FreeBSD- Release refer to use this article.`},{header:"Fcitx 4.X",slug:"fcitx-4-x",content:`Note
This tutorial has only been tested under KDE 5/csh. # pkg install zh-fcitx zh-fcitx-configtool fcitx-qt5 fcitx-m17n zh-fcitx-libpinyin
Add the following configuration in .cshrc and /etc/csh.cshrc, this configuration can solve the problem that some windows fcitx is invalid.
setenv QT4_IM_MODULE fcitx
setenv GTK_IM_MODULE fcitx
setenv QT_IM_MODULE fcitx
setenv GTK2_IM_MODULE fcitx
setenv GTK3_IM_MODULE fcitx
setenv XMODIFIERS @im=fcitx
Add the following two lines in .cshrc and /etc/csh.cshrc to solve the problem that terminal cannot input Chinese and cannot display Chinese.
setenv LANG zh_CN.UTF-8
setenv MM_CHARSET zh_CN.UTF-8
Set Fcitx input method to add:
# To make the terminal uncluttered you also need to add.
setenv LANG zh_CN.UTF-8
setenv LC_CTYPE zh_CN.UTF-8
setenv LC_ALL zh_CN.UTF-8
Autostart.
# cp /usr/local/share/applications/fcitx.desktop ~/.config/autostart/`},{header:"Fcitx 5.X",slug:"fcitx-5-x",content:`Note
This tutorial only pass the test under KDE 5/csh. # pkg install fcitx5 fcitx5-qt fcitx5-gtk fcitx5-configtool zh-fcitx5-rime zh-rime-essay zh-fcitx5-chinese-addons
You can also install it via ports. Environment variables depend on your window manager and desktop and shell. Tested not support slim, may be configuration problem. sddm is available.
Autostart.
# cp /usr/local/share/applications/org.fcitx.Fcitx5.desktop ~/.config/autostart/
Do the following configuration in .cshrc and /etc/csh.cshrc, this configuration can solve the problem that some windows fcitx is invalid and can't input to display i18n.
setenv QT4_IM_MODULE fcitx
setenv GTK_IM_MODULE fcitx
setenv QT_IM_MODULE fcitx
setenv GTK2_IM_MODULE fcitx
setenv GTK3_IM_MODULE fcitx
setenv XMODIFIERS @im=fcitx
setenv LANG zh_CN.UTF-8
setenv MM_CHARSET zh_CN.UTF-8
UTF-8
Under root user, rime will not be added to input method automatically, you need to add it manually to finish initialization (find fcitx configuration tool in program, add rime input method)! For normal users, if it doesn't work, please check your shell, it should be csh, if not, please add the user to the wheel group. For other shells, please correct the environment variable for the corresponding shell.
The SLIM window will indicate that IBUS cannot find\u2026\u2026 as a suspected bug.`},{header:"Normal user settings",slug:"normal-user-settings",content:`The default shell for normal users is usually not csh, so you need to change the default shell to csh to facilitate the configuration.
First look at what the shell is: # echo $0, if the output is not csh, try to change it to csh: # echo $0, if the output is not csh, try to change it to csh.
# chsh -s /bin/csh
Log out of your current account, log back in, and see if the shell changes to csh: # chsh -s /bin/csh
# echo $0
If csh is output, the configuration is successful. Then configure the rest of the environment variables in the same way as described above.
Note:If you don't want to use csh, change setenv and other environment variables to export, for example export GTK_IM_MODULE=fcitx.`},{header:"Troubleshooting",slug:"troubleshooting",content:`If you encounter problem, please run fcitx troubleshooting first, but the output is only for bash environment variable configuration.
That means the environment variables are only applicable to bash, sh and zsh SHELL, but not to csh. The environment variables for csh need to be configured as described above.
If you are prompted with the word bash and cannot output diagnostic information, you need to install bash first: # pkg install bash`},{header:"fcitx 4.x",slug:"fcitx-4-x-1",content:`# fcitx-diagnose
It is normal for fcitx 5.x to not find support for GTK 4.`},{header:"fcitx 5.x",slug:"fcitx-5-x-1",content:`# fcitx5-diagnose
For fcitx5.x, it is normal to find fcitx qt 4 support.`}]},{path:"/chapter-5.-input-method-and-common-software/5.10-compression-and-decompression.html",title:"5.10 Compression and decompression",pathLocale:"/",contents:[{header:"5.10 Compression and decompression",slug:"_5-10-compression-and-decompression",content:""},{header:"zip",slug:"zip",content:`Installing zip zip files # pkg install zip unzip
# zip test.zip test # Pack a zip format file # unzip test.zip # Release zip format files`},{header:"tar/xz",slug:"tar-xz",content:"# tar -cvf test.tar test # Pack the tar format file # tar -xvf test.tar # release tar format file # tar -zcvf test.tar.gz test # Pack gzip format files # tar -zxvf test.tar.gz # release gzip format file # tar -jcvf test.tar.bz2 test # Pack the bzip2 format file # tar -jxvf test.tar.bz2 # release bzip2 format file # tar -Jcvf test.tar.xz test # Pack the xz format file # tar -Jxvf test.tar.xz # Free xz format files # xz -z -k test.tar # Pack the xz format file, if you don't add the -k parameter, the original file will be deleted after the command is executed # xz -d -k test.tar.xz # Free the xz format file, if you don't add -k parameter, the xz file will be deleted after the command is executed"},{header:"7z/7za",slug:"_7z-7za",content:`Under FreeBSD, both 7z and 7za commands are obtained via # pkg install -y 7-zip, not p7zip.
Examples are as follows.
# 7z a test.7z test # 7z packaged file # 7z x test.7z # 7z release file
# 7za a test.7z test # 7za packaged file # 7za x test.7z # 7za release file`}]},{path:"/chapter-5.-input-method-and-common-software/5.2-ibus-input-method-framework.html",title:"5.2 Ibus Input Method Framework",pathLocale:"/",contents:[{header:"5.2 Ibus Input Method Framework",slug:"_5-2-ibus-input-method-framework",content:`Note
This tutorial has only been tested under XFCE desktop. It may not work with KDE5. The ibus input method framework configuration .xinitrc add:
XIM=ibus;export XIM
GTK_IM_MODULE=ibus;export GTK_IM_MODULE
QT_IM_MODULE=xim; export QT_IM_MODULE
XMODIFIERS='@im=ibus'; export XMODIFIERS
XIM_PROGRAM="ibus-daemon"; export XIM_PROGRAM
XIM_ARGS="-daemonize -xim"; export XIM_ARGS
Add to .cshrc:
setenv LANG zh_CN.UTF-8
setenv LC_CTYPE zh_CN.UTF-8
setenv LC_ALL zh_CN.UTF-8
setenv XMODIFIERS @im=ibus
Add to .profile:
export LC_ALL=zh_CN.UTF-8`}]},{path:"/chapter-5.-input-method-and-common-software/5.3-five-stroke-input-method.html",title:"5.3 Five Strokes Input Method",pathLocale:"/",contents:[{header:"5.3 Five Strokes Input Method",slug:"_5-3-five-strokes-input-method",content:""},{header:"FreeBSD Using the 98 Five Strokes Input Method Tutorial",slug:"freebsd-using-the-98-five-strokes-input-method-tutorial",content:`Note
All of the following tutorials may only be available for the GNOME desktop. Choose one of the following tutorials.`},{header:"ibus",slug:"ibus",content:"# pkg install zh-ibus-rime"},{header:"Configuration",slug:"configuration",content:`Environment variable configuration: run the initialization command ibus-setup after installation, copy the 98 five-stroke code table (wubi86.dict.yaml, wubi86.schema.yaml) to the /usr/local/share/rime-date directory, modify the rime-date directory default.yaml file:
Open default.yaml and find schema_lis.
Add - schema: wubi98 to the first line below and save and exit to reload ibus input method.`},{header:"98 five-stroke code table Download",slug:"_98-five-stroke-code-table-download",content:`https://github.com/FreeBSD-Ask/98-input/tree/main/free-bsd-98wubi-tables-master
https://gitee.com/ykla/free-bsd-98wubi-tables/tree/master Experiences and lessons learned.
** Please stay away from domestic unscrupulous companies under the banner of open source which are actually closed with the so-called open source community they created. **`},{header:"fcitx5",slug:"fcitx5",content:`First download the required file: https://github.com/FreeBSD-Ask/98-input
Copy 98wbx.conf file to /usr/local/share/fcitx5/inputmethod/ (inputmethod directory)
Copy fcitx-98wubi.png and org.fcitx.Fcitx5.fcitx-98wubi.png icons to /usr/local/share/icons/hicolor/48x48/apps/ (apps directory)
Put 98wbx.main.dict lexicon under /usr/local/share/libime/ (libime directory)
Restart fcitx5, use 98Wbx in fcitx5-configtool.
Hint: Wang Code 98 generates .dict library method, directly use the following command to generate.
$ libime_tabledict 98wbx.txt 98wbx.main.dict`}]},{path:"/chapter-5.-input-method-and-common-software/5.4-installing-firefox-and-chromium.html",title:"5.4 Firefox and Chromium Installation",pathLocale:"/",contents:[{header:"5.4 Firefox and Chromium Installation",slug:"_5-4-firefox-and-chromium-installation",content:""},{header:"Firefox",slug:"firefox",content:""},{header:"Installing the regular version.",slug:"installing-the-regular-version",content:`# pkg install firefox
or
# cd /usr/ports/www/firefox
# make install clean`},{header:"Installation of long-term support version.",slug:"installation-of-long-term-support-version",content:`pkg install firefox-esr
or
#cd /usr/ports/www/firefox-esr/ && make install clean`},{header:"Chromium",slug:"chromium",content:`# pkg install chromium
or
# cd /usr/ports/www/chromium
# make install clean`}]},{path:"/chapter-5.-input-method-and-common-software/5.5-linux-compatibility-layer.html",title:"5.5 Linux Compatibility Layer",pathLocale:"/",contents:[{header:"5.5 Linux Compatibility Layer",slug:"_5-5-linux-compatibility-layer",content:"Note: A common misconception is to treat the Linux compatibility layer of FreeBSD as Wine, believing that this will slow down the software. The reality is that not only will it not be slower, but some software will run faster and more efficiently than it would in Linux."},{header:"System self-contained.",slug:"system-self-contained",content:`The following references
https://docs.freebsd.org/en/books/handbook/linuxemu/`},{header:"Turn on services",slug:"turn-on-services",content:`## sysrc linux_enable="YES"
# sysrc kld_list+="linux linux64"
# kldload linux64
# pkg install emulators/linux-c7 dbus
# service linux start
# sysrc dbus_enable="YES"
# service dbus start
# dbus-uuidgen > /compat/linux/etc/machine-id
# reboot`},{header:"Configure fstab",slug:"configure-fstab",content:`Write the following to /etc/fstab:
linprocfs /compat/linux/proc linprocfs rw 0 0
linsysfs /compat/linux/sys linsysfs rw 0 0
tmpfs /compat/linux/dev/shm tmpfs rw,mode=1777 0 0
Check the mount for reported errors.
# mount -al
# reboot`},{header:"Build your own Ubuntu compatibility layer",slug:"build-your-own-ubuntu-compatibility-layer",content:`The following tutorials have only been tested with FreeBSD 13.0. The build is for Ubuntu 20.04 LTS (18.04 is also possible). The compatibility layer uses a technology that is actually Linux jail, not chroot. You need to configure the native CentOS compatibility layer as per the pkg/ports method first.
For more information on other systems, see /usr/local/share/debootstrap/scripts.
See /usr/local/share/debootstrap/scripts/ for more information on other systems
Write nullfs_load="YES" to /boot/loader.conf`},{header:"Start the build",slug:"start-the-build",content:`# pkg install debootstrap
# debootstrap focal /compat/ubuntu http://mirror.bjtu.edu.cn/ubuntu/
# reboot`},{header:"Mount the filesystem",slug:"mount-the-filesystem",content:`Write the following line to /etc/fstab.
# Device Mountpoint FStype Options Dump Pass#
devfs /compat/ubuntu/dev devfs rw,late 0 0
tmpfs /compat/ubuntu/dev/shm tmpfs rw,late,size=1g,mode=1777 0 0
fdescfs /compat/ubuntu/dev/fd fdescfs rw,late,linrdlnk 0 0
linprocfs /compat/ubuntu/proc linprocfs rw,late 0 0
linsysfs /compat/ubuntu/sys linsysfs rw,late 0 0
/tmp /compat/ubuntu/tmp nullfs rw,late 0 0
/home /compat/ubuntu/home nullfs rw,late 0 0
Check the mount for errors.
# mount -al
If there is no home folder, please create a new one:
# mkdir /home`},{header:"Jail",slug:"jail",content:`First chroot into Ubuntu and remove the software that will report an error: # mkdir /home
# chroot /compat/ubuntu /bin/bash # apt remove rsyslog # At this point you are already in the Ubuntu compatibility layer.`},{header:"Change source",slug:"change-source",content:`# ee /compat/ubuntu/etc/apt/sources.list # This is a FreeBSD system! Because the Ubuntu compatibility layer does not have a text editor yet.
Writes to.
deb http://mirror.bjtu.edu.cn/ubuntu/ focal main restricted universe multiverse
deb-src http://mirror.bjtu.edu.cn/ubuntu/ focal main restricted universe multiverse
deb http://mirror.bjtu.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb-src http://mirror.bjtu.edu.cn/ubuntu/ focal-updates main restricted universe multiverse
deb http://mirror.bjtu.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb-src http://mirror.bjtu.edu.cn/ubuntu/ focal-backports main restricted universe multiverse
deb http://mirror.bjtu.edu.cn/ubuntu/ focal-security main restricted universe multiverse
deb-src http://mirror.bjtu.edu.cn/ubuntu/ focal-security main restricted universe multiverse
Go to the Ubuntu compatibility layer and start updating your system and installing common software:
# apt update && apt upgrade && apt install nano wget # At this point you are already in the Ubuntu compatibility layer.`},{header:"Run the X11 software",slug:"run-the-x11-software",content:"# xhost +local: # At this point in FreeBSD!"},{header:"Example: running Chrome",slug:"example-running-chrome",content:`# wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb # No proxy software needed, you can connect directly. At this point it is already in the Ubuntu compatibility layer.
# apt install . /google-chrome-stable_current_amd64.deb # This is already in the Ubuntu compatibility tier.
# /usr/bin/google-chrome-stable --no-sandbox --no-zygote --in-process-gpu # This is already in the Ubuntu compatibility tier. Systemd is not available, but you can use server xxx start. visit https://wiki.freebsd.org/LinuxApps for more software that can be run.
References https://wiki.freebsd.org/LinuxJails ,https://docs.freebsd.org/en/books/handbook/linuxemu/.
A similar approach can be used to build Debian and Arch-compatible layers (tested to indicate that the kernel is too old, and older versions force upgrades that do not work). gentoo-compatible layers indicate a bash so file error, even if zsh is statically compiled.
I have imported https://github.com/zq1997/deepin-wine sources to install deepin-qq, deepin-wechat, etc., but they all show segment errors. All Wine programs do not run properly. If you can solve this problem, please raise an issue or pull.`}]},{path:"/chapter-5.-input-method-and-common-software/5.6-installing-kingsoft-wps.html",title:"5.6 Installing Kingsoft WPS",pathLocale:"/",contents:[{header:"5.6 Installing Kingsoft WPS",slug:"_5-6-installing-kingsoft-wps",content:`Kingsoft WPS provides two versions, one is the international version and the other is the Chinese version. The international version has no Chinese Language support.
For both, you need to install the Linux compatibility layer first, see the rest of the book for font issues.`},{header:"International version",slug:"international-version",content:`linux-wps-office
Please note: The server of the international version is outside the country, the download speed is very slow in the country, please refer to chapter 7 section 1
Installation, currently you can only install it via ports
# cd /usr/ports/editors/linux-wps-office/ && make install clean # add BATCH=yes if you want to default`},{header:"Chinese version",slug:"chinese-version",content:`linux-wps-office-zh_CN
Installation, currently only available through ports.
# cd /usr/ports/chinese/linux-wps-office-zh_CN/ && make install clean # add BATCH=yes if you want the default`},{header:"Troubleshooting",slug:"troubleshooting",content:`WPS may not run under KDE5. Because the WPS startup file calls the bash shell, it will run normally after installing bash.
# pkg install bash fcitx 5 does not work with WPS This is a known bug in WPS: # pkg install bash
Reference.
https://bbs.archlinuxcn.org/viewtopic.php?id=10984
https://github.com/fcitx/fcitx5/issues/83
https://plumz.me/archives/12331/`}]},{path:"/chapter-5.-input-method-and-common-software/5.7-installing-qq.html",title:"5.7 Installing QQ",pathLocale:"/",contents:[{header:"5.7 Installing QQ",slug:"_5-7-installing-qq",content:`Introduction
QQ is a very popular instant messaging software in China, similar to Telegram, developed by Tencent.`},{header:"Installing the Linux compatibility layer:",slug:"installing-the-linux-compatibility-layer",content:"Please install the Linux compatibility layer first, as described in Chapter 5, Section 5. # pkg install linux-c7-gtk2 linux-c7-libxkbcommon"},{header:"download Linux QQ",slug:"download-linux-qq",content:`# mkdir /home/work
# fetch https://down.qq.com/qqweb/LinuxQQ/linuxqq_2.0.0-b2-1089_x86_64.rpm
Hint: If the version is updated later, please go to
https://im.qq.com/linuxqq/download.html
to download it manually.
Installing Linux QQ.
# pkg install archivers/rpm4
# cd /compat/linux
# rpm2cpio < /home/work/linuxqq_2.0.0-b2-1089_x86_64.rpm | cpio -id`},{header:"Download and install the required dependencies for Linux QQ",slug:"download-and-install-the-required-dependencies-for-linux-qq",content:`For unknown reasons, the installed Linux QQ cannot be typed, you need to install the following dependencies to be able to enter text, but only the dependencies under the Fcitx input method framework have been fumbled.
# cd /home/work
# fetch http://mirror.centos.org/centos/7/os/x86_64/Packages/gtk2-immodule-xim-2.24.31-1.el7.x86_64.rpm
# fetch https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/f/fcitx-gtk2-4.2.9.6-1.el7.x86_64.rpm
# fetch https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/f/fcitx-4.2.9.6-1.el7.x86_64.rpm
# fetch https://download-ib01.fedoraproject.org/pub/epel/7/x86_64/Packages/f/fcitx-libs-4.2.9.6-1.el7.x86_64.rpm
Then install each of the above 4 packages.
# cd /compat/linux
# rpm2cpio < /home/work/gtk2-immodule-xim-2.24.31-1.el7.x86_64.rpm | cpio -id
# rpm2cpio < /home/work/fcitx-gtk2-4.2.9.6-1.el7.x86_64.rpm | cpio -id
# rpm2cpio < /home/work/fcitx-4.2.9.6-1.el7.x86_64.rpm | cpio -id
# rpm2cpio < /home/work/fcitx-libs-4.2.9.6-1.el7.x86_64.rpm | cpio -id
Note: For the convenience of internal FreeBSD users, you can use the internal gitee to synchronize and download the above 4 files; Lessons learned.
Please stay away from unscrupulous companies such as gitee in your country. Github.
https://github.com/ykla/FreeBSD-Linux-QQ`},{header:"Refresh the gtk cache",slug:"refresh-the-gtk-cache",content:"# /compat/linux/usr/bin/gtk-query-immodules-2.0-64 --update-cache"},{header:"Run Linux QQ",slug:"run-linux-qq",content:"$ /compat/linux/usr/local/bin/qq"}]},{path:"/chapter-5.-input-method-and-common-software/5.8-changing-fonts.html",title:"5.8 Changing Fonts",pathLocale:"/",contents:[{header:"5.8 Changing Fonts",slug:"_5-8-changing-fonts",content:`First extract all the .ttf and .ttc font files from C:\\Windows\\Fonts.
Create a new directory for the new fonts for easy management.
# mkdir -p /usr/local/share/fonts/WindowsFonts
Copy the font files into WindowsFonts and you're done.
# chmod -R 755 /usr/local/share/fonts/WindowsFonts # refresh the permissions, then that will work.
# fc-cache`}]},{path:"/chapter-5.-input-method-and-common-software/5.9-wine.html",title:"5.9 Wine",pathLocale:"/",contents:[{header:"5.9 Wine",slug:"_5-9-wine",content:""}]},{path:"/chapter-6.-file-system-and-disk-management/6.1-ufs.html",title:"6.1 UFS",pathLocale:"/",contents:[{header:"6.1 UFS",slug:"_6-1-ufs",content:""}]},{path:"/chapter-6.-file-system-and-disk-management/6.2-zfs.html",title:"6.2 ZFS",pathLocale:"/",contents:[{header:"6.2 ZFS",slug:"_6-2-zfs",content:""},{header:"Section 2 ZFS",slug:"section-2-zfs",content:""},{header:"Usage recommendations",slug:"usage-recommendations",content:`It is recommended to use ZFS on machines with 8G of RAM and above.
To increase the random read capability of mechanical drives, set vfs.zfs.prefetch_disable=1.
To avoid ZFS eating up too much memory, set vfs.zfs.arc_max="XXX", e.g. 1024 M.
If you want to copy a filesystem, you can use zfs send/recv, which also allows you to transfer across the network via ssh.
SSDs are recommended, using SSDs improves ZFS random reads, and a file system like ZFS that replicates on write is also beneficial for SSD lifetime. See https://wiki.freebsd.org/ZFSTuningGuide for more optimizations.`},{header:"ZFS Snapshots and Restore",slug:"zfs-snapshots-and-restore",content:`ZFS snapshots are similar to virtual machine snapshots. Creating Snapshots The default partition creation (Auto ZFS) is as follows.
root@ykla:/home/ykla # zfs list
NAME USED AVAIL REFER MOUNTPOINT
zroot 1.72G 440G 96K /zroot
zroot/ROOT 1004M 440G 96K none
zroot/ROOT/default 1004M 440G 1004M /
zroot/tmp 104K 440G 104K /tmp
zroot/usr 760M 440G 96K /usr
zroot/usr/home 128K 440G 128K /usr/home
zroot/usr/ports 96K 440G 96K /usr/ports
zroot/usr/src 759M 440G 759M /usr/src
zroot/var 628K 440G 96K /var
zroot/var/audit 96K 440G 96K /var/audit
zroot/var/crash 96K 440G 96K /var/crash
zroot/var/log 148K 440G 148K /var/log
zroot/var/mail 96K 440G 96K /var/mail
zroot/var/tmp 96K 440G 96K /var/tmp
Snapshot zroot (tested to represent a snapshot of the entire ZFS file system under the default partition above, -r i.e. recursive snapshot creation, test is a random name)
root@ykla:/home/ykla # zfs snapshot -r zroot@test
root@ykla:/home/ykla # zfs list -t snap
NAME USED AVAIL REFER MOUNTPOINT
zroot@test 0B - 96K -
zroot/ROOT@test 0B - 96K -
zroot/ROOT/default@test 0B - 7.18G -
zroot/tmp@test 0B - 176K -
zroot/usr@test 0B - 96K -
zroot/usr/home@test 0B - 31.1M -
zroot/usr/ports@test 0B - 1.98G -
zroot/var@test 0B - 96K -
zroot/var/log@test 0B - 444K -
root@ykla:/home/ykla # ls /usr/ports/
CHANGES archivers/ emulators/ misc/ textproc/
CONTRIBUTING.md astro/ finance/ multimedia/ ukrainian/
COPYRIGHT audio/ french/ net-im/ vietnamese/
GIDs base/ ftp/ net-mgmt/ www/
INDEX-13 benchmarks/ games/ net-p2p/ x11-clocks/
Keywords/ biology/ german/ net/ x11-drivers/
MOVED cad/ graphics/ news/ x11-fm/
Makefile chinese/ hebrew/ polish/ x11-fonts/
Mk/ comms/ hungarian/ ports-mgmt/ x11-servers/
README converters/ irc/ portuguese/ x11-themes/
Templates/ databases/ japanese/ print/ x11-toolkits/
Tools/ deskutils/ java/ russian/ x11-wm/
UIDs devel/ korean/ science/ x11/
UPDATING distfiles/ lang/ security/ accessibility/ dns/ mail/ shells/ arabic/ editors/ math/ sysutils/ root@ykla:/home/ykla # rm /usr/ports/ Restore snapshots You cannot restore snapshots recursively, you must restore them one by one (if you have a better solution, please let us know, there are scripts available on the web).
Unlike virtual machine snapshots, by default the zfs rollback command cannot roll back to a snapshot other than the latest one (Reference Manual), unless you use r, but This will delete all snapshots since that snapshot was created.
root@ykla:/home/ykla # zfs rollback -r zroot@test
root@ykla:/home/ykla # zfs rollback -r zroot/ROOT@test root@ykla:/home/ykla # zfs rollback -r zroot/ROOT/default@test
root@ykla:/home/ykla # zfs rollback -r zroot/tmp@test
root@ykla:/home/ykla # zfs rollback -r zroot/usr@test
root@ykla:/home/ykla # zfs rollback -r zroot/usr/home@test
root@ykla:/home/ykla # zfs rollback -r zroot/usr/ports@test
root@ykla:/home/ykla # zfs rollback -r zroot/var@test
root@ykla:/home/ykla # zfs rollback -r zroot/var/log@test Destroying snapshots To destroy a snapshot (you can use r recursive destruction when destroying).
root@ykla:/home/ykla # zfs destroy -r zroot@test
root@ykla:/home/ykla # zfs list -t snap
no datasets available
root@ykla:/home/ykla # snapshot can be abbreviated to snap in the command.`},{header:"Caution",slug:"caution",content:"ZFS does not use /etc/fstab, but EFI, Swap still use it."}]},{path:"/chapter-6.-file-system-and-disk-management/6.3-disk-expansion.html",title:"6.3 Disk Expansion",pathLocale:"/",contents:[{header:"6.3 Disk Expansion",slug:"_6-3-disk-expansion",content:""},{header:"Expansion methods",slug:"expansion-methods",content:`gpart show # gpart show
=> 63 209715137 vtbd0 MBR (100G)
63 1 - free - (512B)
64 62914496 **1** freebsd [active] (30G)
62914560 146800640 - free - (70G)
Check the system disk size is only 30G, it shows 1 only this one disk. Execute the expand command, vtbd0 from gpart show and then view it. # gpart resize -i 1 vtbd0
vtbd0s1 resized Start the growfs service to automatically complete the extension. # service growfs onestart Growing root partition to fill device
vtbd0s1 resized
gpart: arg0 'ufsid/62b5826d': Invalid argument
super-block backups (for fsck_ffs -b #) at:
64112192 65394432 66676672 67958912 69241152 70523392 Use the df -h command to view the results. # df -h
Filesystem Size Used Avail Capacity Mounted on
/dev/ufsid/62b5826d 97G 15G 75G 16% /
devfs 1.0K 1.0K 0B 100% /dev`}]},{path:"/chapter-6.-file-system-and-disk-management/6.4-mounting-ntfs.html",title:"6.4 Mounting NTFS",pathLocale:"/",contents:[{header:"6.4 Mounting NTFS",slug:"_6-4-mounting-ntfs",content:`install ntfs-3g software # pkg install sysutils/fusefs-ntfs
Insert your ntfs formatted hard drive or USB stick into your computer. This time you will see its device name, e.g. da0. 3.
Modify rc.conf # sysrc kld_list+="fusefs" Modify fstab to automount To automount on boot, modify and add:
# ee /etc/fstab
Add.
/dev/da0s1 /media/NTFS ntfs rw,mount_prog=/usr/local/bin/ntfs-3g,late 0 0
Or, mount manually:
# ntfs-3g /dev/da0s1 /media/NTFS -o rw,uid=1000,gid=1000,umask=0\`
If you don't know which disk partition is NTFS, you can check it with the command:
# fstyp /dev/da0s1
See ntfs-3g manpage for detailed parameters.`}]},{path:"/chapter-6.-file-system-and-disk-management/6.5-swap-settings.html",title:"6.5 SWAP settings",pathLocale:"/",contents:[{header:"6.5 SWAP settings",slug:"_6-5-swap-settings",content:`If you do not set up a swap partition when you install the system, you can only do it later by dding a swap partition file. Because neither UFS nor ZFS supports shrinking file system partitions ......
dd a swap file of 1GB in size:
# dd if=/dev/zero of=/usr/swap0 bs=1M count=1024
Set the permissions to 600, i.e. only the owner has read and write access:
# chmod 0600 /usr/swap0
For immediate:
# mdconfig -a -t vnode -f /usr/swap0 -u 0 && swapon /dev/md0
In order to work after reboot, you also need to add to /etc/rc.conf:
swapfile="/usr/swap0"`}]},{path:"/chapter-6.-file-system-and-disk-management/6.6-ext-2-3-4-etc.-file-system.html",title:"6.6 Ext 2/3/4 etc. file systems",pathLocale:"/",contents:[{header:"6.6 Ext 2/3/4 etc. file systems",slug:"_6-6-ext-2-3-4-etc-file-systems",content:""},{header:"EXT file system",slug:"ext-file-system",content:`Please note: fusefs-ext2 (which also supports EXT2/3/4) should be installed here instead of fusefs-ext4fuse because the latter is read-only and deprecated. Installing fusefs-ext2 # pkg install fusefs-ext2 Loading
Open /etc/rc.conf and add ext2fs to the kld_list section, the result may look like kld_list="ext2fs i915kms" After reboot, mount.
For an account with the username XiaoMing, this could be done as follows. $ cd ~
$ mkdir media
$ cd media
$ mkdir first
# mount -t ext2fs /dev/da0sX /home/XiaoMing/media/first/
Note: The above equation is not necessarily da0sX (X is the corresponding number), you can check the drive name with the # gpart list command. To unmount a hard drive # umount /home/XiaoMing/media/first/`},{header:"Brtfs/XFS file system",slug:"brtfs-xfs-file-system",content:"untested # pkg install fusefs-lkl"}]},{path:"/chapter-7.-vpn-and-proxy/7.1-http-proxy.html",title:"7.1 HTTP proxy",pathLocale:"/",contents:[{header:"7.1 HTTP proxy",slug:"_7-1-http-proxy",content:`Example: V2ray or clasn is turned on to allow LAN connections. Then follow the specific configuration as follows:
# setenv http_proxy http://192.168.X.X:10809
Cancel it\uFF1A
# unsetenv http_proxy`}]},{path:"/chapter-7.-vpn-and-proxy/7.2-v2ray.html",title:"7.2 V2ray",pathLocale:"/",contents:[{header:"7.2 V2ray",slug:"_7-2-v2ray",content:""},{header:"Install v2ray",slug:"install-v2ray",content:`Execute the command:
# pkg install v2ray
You can also install xray-core by running:
# pkg install xray-core
The configuration of these two agents is basically the same, and the configuration documentation can be found in their respective official documentation. xray can be fully referenced from v2ray's configuration method.`},{header:"Start the software",slug:"start-the-software",content:`If you have a proxy client beforehand, you can export the configuration of the client node and copy it to FreeBSD, assuming the exported file name is config.json and then execute:
$ v2ray -c config.json
If you use xray-core, you can execute:
$ xray -c config.json
The software should start successfully at this time.`},{header:"Configure the software agent",slug:"configure-the-software-agent",content:`This time you can open config.json, find the corresponding inbounds property, inbounds is an array, each element inside represents the inbound interface configuration, there are addresses and port numbers, proxy mode. In the need to proxy the internal software set to the corresponding address and port number here.
For example, one of the inbound interface protocol is http, listen is 127.0.0.1, port is 10809, if you need Firefox to go proxy here, you can find in the browser settings, network - proxy server, set http proxy address is set to 127.0.0.1, the port is 10809. 10809\`. Similarly, the socks proxy can also refer to this method.
Most software proxies are set in different ways. For desktop software, you need to set the corresponding proxy server by yourself. Terminal commands, if you need to go proxy is relatively simple. Most of the terminal commands look for HTTP_PROXY, HTTPS_PROXY, ALL_PROXY, three environment variables, according to the value of these three environment variables to set the corresponding proxy.
The following commands apply to sh, bash, and zsh:
$ export HTTP_PROXY="http://127.0.0.1:10809" # Set the http proxy
$ export HTTPS_PROXY="http://127.0.0.1:10809"
$ export ALL_PROXY="socks5://127.0.0.1:10808" # set socks proxy
After setting up, browse the web in Firefox and observe the v2ray output log, you can see that the browser traffic has gone through the proxy. Terminal commands also use proxy, but some commands set proxy according to environment variables, please find the corresponding software setting method.`},{header:"Proxy diversion",slug:"proxy-diversion",content:`There are some URLs that do not need to use a proxy server, such as inbound websites, local websites, etc. This requires a traffic diversion, part of the traffic needs to proxy, part of the traffic needs to go to the direct connection and so on.
Open config.json, find the corresponding routing property, there is a rules sub-property below, which is used to configure the traffic diversion method of v2ray. rules can be configured with different rules, each rule has an ip attribute, or domain attribute. If the ip or URL matches one of the rules, v2ray will forward the traffic to the corresponding outbounds according to the outboundTag property, for example, outbonds with tags proxy, direct, block. So you can just write the IP address you want to divert to the corresponding rule. See the corresponding v2ray documentation here. In fact, when exporting the configuration file on the v2ray client, the corresponding shunting rules are also exported by default.
v2ray has also given geosite.dat and geoip.dat, two resource files, geosite.dat which saves the URLs by category, and geoip.dat which saves the IPs by category. v2ray can automatically find the geosite.dat and geosite.ip files under the path. For xray, this XRAY_LOCATION_ASSET environment variable is used to set the resource path.
For example, the following direct link rule sets the direct link to the cn URL in geosite: { "domain": [ "geosite:cn" ], "outboundTag": "direct", "type": "field" },
v2ray community to the cn site directly connected to the URL is not quite complete, classification is also relatively small, you can find the community on github to organize the geosite, geoip file, which also details the whitelist configuration mode, blacklist configuration mode.`}]},{path:"/chapter-7.-vpn-and-proxy/7.3-clash.html",title:"7.3 Clash",pathLocale:"/",contents:[{header:"7.3 Clash",slug:"_7-3-clash",content:""}]},{path:"/chapter-7.-vpn-and-proxy/7.4-openvpn.html",title:"7.4 OpenVPN",pathLocale:"/",contents:[{header:"7.4 OpenVPN",slug:"_7-4-openvpn",content:""}]},{path:"/chapter-7.-vpn-and-proxy/7.5-wireguard.html",title:"7.5 Wireguard",pathLocale:"/",contents:[{header:"7.5 Wireguard",slug:"_7-5-wireguard",content:`WireGuard is an extremely simple and fast modern VPN that uses the most advanced encryption technology. It aims to be faster, simpler, leaner and more useful than IPsec, while avoiding a lot of headaches. It is intended to perform much better than OpenVPN. WireGuard is designed to be a general-purpose VPN that can run on embedded interfaces and supercomputers for many different situations. It was originally released for the Linux kernel and is now cross-platform (Windows, macOS, BSD, iOS, Android) and widely deployable. It is currently under heavy development, but is already considered the most secure, easiest to use, and simplest VPN solution in the industry.
Recommended for FreeBSD 13, install:
# pkg install wireguard`}]},{path:"/chapter-8.-users-and-permissions/8.1-sudo.html",title:"8.1 sudo",pathLocale:"/",contents:[{header:"8.1 sudo",slug:"_8-1-sudo",content:""},{header:"Installation",slug:"installation",content:`OpenBSD has developed doas, FreeBSD) (which is also available for FreeBSD) because it considered the software to be too buggy, and FreeBSD because its license is incompatible with the BSD license and is therefore not preconfigured. The FreeBSD base system does not come with the sudo command by default; you need to install it yourself using the root privilege:
# pkg install sudo`},{header:"sudo password free",slug:"sudo-password-free",content:`Under /usr/local/etc/sudoers.d/ create two new files username (the user who needs to be password free) and wheel. The contents of the file username are as follows. %admin ALL=(ALL) ALL File wheel reads as follows Add an extra line NOPASSWD: to use sudo without entering the password:
%wheel ALL=(ALL) NOPASSWD:ALL`}]},{path:"/chapter-8.-users-and-permissions/8.2-add-users.html",title:"8.2 Adding Users",pathLocale:"/",contents:[{header:"8.2 Adding Users",slug:"_8-2-adding-users",content:`Create a normal user (username ykla) and add it to the video subgroup:
# adduser -g video -s sh -w yes
# Username: ykla`}]},{path:"/chapter-8.-users-and-permissions/8.3-user-groups.html",title:"8.3 User Groups",pathLocale:"/",contents:[{header:"8.3 User Groups",slug:"_8-3-user-groups",content:""},{header:"In FreeBSD, users and groups are managed consistently with the pw command.",slug:"in-freebsd-users-and-groups-are-managed-consistently-with-the-pw-command",content:`Create an admin subgroup and add two users, ykla and root.
# pw groupadd admin
# pw groupmod admin -m ykla root
Create a wheel subgroup and add only the root user: \`\`
# pw groupadd wheel
# pw groupmod wheel -m root
Remove the user ykla from the admin group.
# pw groupmod admin -d ykla
Remove the admin user group.
# pw groupdel admin
Difference between admin and wheel permissions. admin, with administrative system privileges (the default configuration of sudo), can use the sudo command.
wheel, with super administrator privileges, can modify the system at will (the name comes from the slang term big wheel, meaning big man). Managing users and groups with the pw command Operating system users, perhaps more appropriately called accounts, are credentials for operators to log in to the operating system, as in the case of self-built users earlier.
And operating system groups, which can also be simply understood as roles, limit the base privileges of operating system users.`},{header:"Subcommands",slug:"subcommands",content:`useradd command, used to create a new user, with the following common parameters -u, specifies the uid, or if not specified, it is automatically generated by the OS based on the existing uid.
In some cases, such as pushing files from the test site to the production environment, the uid may be different and the system may think that the files belong to different users, which may lead to errors.
-c, comment, can also be interpreted as the full name of the user, the user name displayed after logging into the desktop is the comment
-d, specify the home directory, if not, default /home/new username, e.g. '/home/ykla'
-g, specifies the starting group, or the primary role, if not specified it defaults to the group with the same name as the new user
-G, specify the additional group, or none if not specified
-m, specifies that the user is created and the home directory is created at the same time, if not specified then the home directory is not created by default
-s, specifies the shell environment after the user logs in, if not specify /bin/sh, FreeBSD recommends specifying /bin/csh, if you want to disable user logins you can specify /usr/sbin/nologin
-h, specifies the input device to set the password in a non-interactive manner, usually set to 0 for stdin, the system's standard input
Example.
# pw useradd test1 # create user test1, uid system default, test1 group, login environment /bin/sh, home directory is not created
# pw useradd test2 -u 1200 -m -d /tmp/test -g test1 -G wheel -s csh -c test2 # create user test2, uid 1200, create home directory, home directory is /tmp/test, test1 group, with administrator privileges, login environment /bin/csh, full name test2 # echo password | pw useradd test3 -h 0 #Create user test3, and set password to password usermod command, used to modify user information, common parameters. -l, change the name for the user. Other parameters refer to useradd subcommand.
Example.
# pw usermod test1 -G wheel # Add administrator privileges for user test1 # pw usermod test1 -l myuser # Rename user test1 to myuser # echo password | pw usermod test2 -h 0 # Change user test2's password to password userdel command, used to delete users, common parameters. -r, delete the user and delete the user's home directory and all related information, if this parameter is not used, the information is retained and only the user is deleted.
Example
# pw userdel test2 -r usershow command, used to display user information. Example.
# pw usershow test2 the usernext command, which returns the next available uid. Example.
# pw usernext lock command, lock the account, the account can not be used after locking. Example.
# pw lock test2 unlock command, unlock the account, after unlocking, the account can be used normally. Example.
# pw unlock test2 groupadd command, used to create a new group, common parameters: \`\` # pw unlock test2 -g, specify the gid, if not, it will be automatically generated by the OS based on the existing \`gid\`. -M, specifies the list of group members, multiple users are separated by commas
Example.
# pw groupadd test -g 1200 # Create group test with gid 1200, note that gid is not the same thing as uid # pw groupadd test5 -M test1,test2 #Create group test5 with members test1 and test2 groupmod command, used to modify group information, common parameters. -g, specify the new gid
-l, to rename the group
-M, replace the list of existing group members, multiple groups separated by commas
-m, add a new member to the list of existing group members
Other parameters refer to groupadd command.
Example.
# pw groupmod test -g 1300 # Modify the gid of the test group to 1300 # pw groupmod test -l mygroup group test renamed to mygroup # pw groupmod test5 -M test1 # Set the member of group test5 to test1 # pw groupmod test5 -m test3 # add member test3 to group test5 the groupdel command, which is used to delete groups. Example.
# pw groupdel mygroup the groupshow command, which is used to display group information. Example.
# pw groupshow test the groupnext command, which returns the next available gid. Example.
# pw groupnext`},{header:"Other user management commands",slug:"other-user-management-commands",content:`adduser command is used to create new users. The difference between useradd and pw is that this command is interactive, and the users created during OS installation are created based on this command. rmuser command, which is used to delete users, is also interactive as adduser command. However, this command takes the -y parameter and allows the list of users to be listed. Example.
# rmuser -y test1 test2 # Delete both users test1 and test2.
The -y parameter is used to omit the query step. 3. chpass command, open and modify the specified user information as vi editor, or default to the current user if no user is specified. Commonly used parameters: -s, for login environment
Example
# chpass -s csh test1 #Change user test1's login environment to /bin/csh # chpass # Open the current user information in vi mode to modify the d.passwd command, modify the user password, if no user is specified, the default is the current user.
Example: passwd user # Enter and set the user password according to the system prompt id command, view user id information, including user id and starting group id. Example.
# id # View the current user id information # id test1 # View the id information of user test1 whoami command to see who the current user is. 6. who command, view the login information of the current user.`}]},{path:"/chapter-8.-users-and-permissions/8.4-user-privileges.html",title:"8.4 User Permissions",pathLocale:"/",contents:[{header:"8.4 User Permissions",slug:"_8-4-user-permissions",content:`FreeBSD file access privileges can be illustrated by 10 flag bits, which are composed of 4 parts.
The first part is bit 1, denoted by d for directories, - for normal files, l for links, b for block device files, p for pipe files, c for character device files, and s for socket files.
The second part is bits 2-4, which identifies the access rights of the user to the file, using rwx for read, write, and execute rights, and - for no rights.
The third part is bits 5-7, which are used to identify the access rights to the file by the members of the group to which the file belongs, refer to the second part for the identification.
The fourth part is bits 8-10, which identifies the access rights of other users to the file.
Read, write, and execute can also be represented by the numbers 4, 2, and 1 in addition to rwx, and 0 for no privileges. The numbers of each part are added together to form a 3-digit representation.
For example: Character identifier permissions
Number identifier permissions
Description -rwxrwxrwx
777
Common files that can be read, written, and executed by everyone drw-------
600
This is a directory that can only be read and written to by the user it belongs to -rwxr-xr-x
755
A normal file that can be read, written, or executed by the user it belongs to, but can only be read or executed by the same group of users or other users, not written to. ls command, list the files, common parameters. -l, list file information, including permissions, owner, file size, date and time of modification, etc., you can also use ll command directly
-a, the hidden files should also be displayed
Example:
# ls -l -a # list all files including hidden files # ll -a # Same effect as the above example # ls -l /tmp/a.log # list the /tmp/a.log file The chmod command, which modifies file access rights, can be used in two ways. One is the operator way, such as.
# chmod a+x t.sh In "a+x":
The first bit is the operation object, u is the user, g is the group, o is other users, and a is all users, not written as the system default;
The second bit is the operator, + is to add permissions, - is to reduce permissions;
The third bit is the permission mode, rwx means read, write and execute respectively, and s means the process owner or group is set to be the same as the file owner or group when the file is executed, which is more intuitive to use.
Another way is numeric, e.g. chmod 750 t.sh
where 7 means the user has read, write, and execute privileges, and the same group has read and execute privileges, while the other users have no privileges at all.
Then chmod has one more important parameter. -R, recursive assignment
Example:
# chmod -R 777 /tmp #All files in the /tmp directory will be read, written, and executed by any user # chmod -R a+rwx /tmp # All files in the /tmp directory will be allowed to be read, written, and executed by any user chown command, modify the owner of the file, including the user and group it belongs to. Common parameters.
-R, recursive assignment
Example:
# chown test1 t.sh # Modify t.sh to belong to user test1 # chown test1:test t.sh # Modify t.sh to belong to user test1, group test # chown -R test1:test /tmp # Modify the ownership of all files in the /tmp directory to user test1, group test`}]},{path:"/chapter-9.-jail/9.1-comparing-jail-and-docker.html",title:"9.1 Comparing Jail and Docker",pathLocale:"/",contents:[{header:"9.1 Comparing Jail and Docker",slug:"_9-1-comparing-jail-and-docker",content:'As mentioned before "Jail vs. byhve virtualization, no need to configure underlying virtualization, saves system resources."'}]},{path:"/chapter-9.-jail/9.2-jail-related-terms.html",title:"9.2 Jail Related Terms",pathLocale:"/",contents:[{header:"9.2 Jail Related Terms",slug:"_9-2-jail-related-terms",content:""}]},{path:"/chapter-9.-jail/9.3-jail-configuration.html",title:"9.3 Jail configuration",pathLocale:"/",contents:[{header:"9.3 Jail configuration",slug:"_9-3-jail-configuration",content:""},{header:"Create jail directory",slug:"create-jail-directory",content:""},{header:"Put in the base system",slug:"put-in-the-base-system",content:`Option 1
# make buildworld # Compile the base system
# make installworld DESTDIR=/usr/jail/ # install to jail
# make distribution DESTDIR=/usr/jail/ #or
Option 2
Download base.txz or extract baes.txz from iso and extract it to jail
# tar -xvf base.txz -C /usr/jail/
Mount the devfs filesystem. (not required)
# mount -t devfs devfs /usr/jail/dev`},{header:"Write to rc.conf",slug:"write-to-rc-conf",content:`## sysrc jail_enable="YES"
Create jail.conf file (can be written to rc.conf but it's easier to manage)
www {
host.hostname = www.example.org; # hostname
ip4.addr = 192.168.0.10; # IP address
path = "/usr/jail"; # jail location
devfs_ruleset = "www_ruleset"; # devfs ruleset
mount.devfs; # mount devfs filesystem to jail
exec.start = "/bin/sh /etc/rc"; # start command
exec.stop = "/bin/sh /etc/rc.shutdown"; # shutdown command
}`},{header:"Manage",slug:"manage",content:`jls View a list of online jail information
JID IP Address Hostname Path
3 192.168.0.10 www /usr/jail/www`},{header:"Start and stop jail",slug:"start-and-stop-jail",content:`jail
# service jail start www
# service jail stop www`},{header:"Log in to jail",slug:"log-in-to-jail",content:"# jexec 1 tcsh"},{header:"Cleanly shut down jail",slug:"cleanly-shut-down-jail",content:"# jexec 3 /etc/rc.shutdown"},{header:"Upgrade jail",slug:"upgrade-jail",content:`# freebsd-update -b /here/is/the/jail fetch
# freebsd-update -b /here/is/the/jail install`},{header:"ping and network",slug:"ping-and-network",content:""},{header:"Turn on ping",slug:"turn-on-ping",content:`Write to /etc/jail.conf
allow.raw_sockets=1;
allow.sysvipc=1;`},{header:"Network",slug:"network",content:`Create /etc/resolv.conf, and edit
search lan
nameserver 119.29.29.29
nameserver 182.254.116.116
nameserver 114.114.114.114
nameserver 223.5.5.5
nameserver 223.6.6.6
#Don't write the router address`},{header:"Create jail directory",slug:"create-jail-directory-1",content:"Create 4 templates, skeletons, data, projects"},{header:"Create template directory",slug:"create-template-directory",content:`## mkdir -p /jail/j1
## Then put it into the base directory, which is not written again as mentioned above`},{header:"Create the skeleton directory",slug:"create-the-skeleton-directory",content:`# mkdir -p /jail/j2
## Move the directory etc usr tmp var root
# cd /jail/j2/ # Note the directory
# mv /jail/j1/etc . /etc
# mv /jail/j1/tmp . /tmp
# mv /jail/j1/var . /var
# mv /jail/j1/root . /root`},{header:"Create a data directory",slug:"create-a-data-directory",content:`That is, make a copy of the skeleton for him to use
# cp -R /jail/j2/ /jail/js/www/`},{header:"Create the project directory",slug:"create-the-project-directory",content:"### mkdir -p /jail/www/"},{header:"Create links",slug:"create-links",content:`# cd /jail/j1 #cd to the template directory
# mkdir -p jusr # Create the directory to be used for link data
# ln -s jusr/etc etc
# ln -s jusr/home home
# ln -s jusr/root root
# ln -s jusr/usr usr
# ln -s jusr/tmp tmp
# ln -s jusr/var var
# link directory, note the linked directory`},{header:"Create fstab",slug:"create-fstab",content:`#ee /jail/www.fstab
## Mount the public read-only system to the project directory
/jail/j1/ /jail/www/ mullfs ro 0 0
#mount the project data directory to the project directory
/jail/js/www/ /jail/www/jusr/ mullfs ro 0 0
Create fstab
# ee /jail/www.fstab
# mount the public read-only system to the project directory
/jail/j1/ /jail/www/ mullfs ro 0 0
#Mount the project data directory to the project directory
/jail/js/www/ /jail/www/jusr/ mullfs ro 0 0
Write to jail.conf
# global section exec.start = "/bin/sh /etc/rc";
exec.stop = "/bin/sh /etc/rc.shutdown";
exec.clean;
mount.devfs;
allow.raw_sockets = 1;
allow.sysvipc = 1; # gateway If not used, leave it out interface = "NIC address"; # hostname can also be replaced by variable hostname = "$name.domain.local";
#jail location, can also use variable
path = "/jail/$name"; #ip address ip4.addr = 192.168.1.$ip; #fstab location mount.fstab = /jail/www.fstab.
www {
$ip=2
#not using fstab, use
#mount.fstab = "". #replace global
}`},{header:"Delete file without permissions",slug:"delete-file-without-permissions",content:"# chflags -R noschg directory"}]},{path:"/chapter-9.-jail/9.4-jail-update.html",title:"9.4 Jail Update",pathLocale:"/",contents:[{header:"9.4 Jail Update",slug:"_9-4-jail-update",content:""}]},{path:"/chapter-9.-jail/9.5-manage-jail-with-ezjail.html",title:"9.5 Manage Jail with ezjail",pathLocale:"/",contents:[{header:"9.5 Manage Jail with ezjail",slug:"_9-5-manage-jail-with-ezjail",content:""}]},{path:"/404.html",title:"",pathLocale:"/",contents:[]}],M="update-vuepress2-plugin-full-text-search-search-index";var S=g(P),N=L(()=>{const e=new Map;for(const t of S.value)e.set(t.path,t);return e});$.webpackHot&&(__VUE_HMR_RUNTIME__[M]=e=>{S.value=e});function U(e){const t=g([]);let s=null;return D(e,()=>{s&&clearTimeout(s),s=setTimeout(o,100)}),t;function o(){const c=e.value.toLowerCase().trim();if(!c){t.value=[];return}const i=new Map,n=new Set;for(const a of S.value)for(const l of O(a,c)){n.add(l.parentPageTitle);let r=i.get(l.parentPageTitle);r||(r=[],i.set(l.parentPageTitle,r)),r.push(l)}const h=[...n].sort((a,l)=>{const r=i.get(a);return i.get(l).length-r.length});t.value=[...i].flatMap(([,a])=>a).sort((a,l)=>h.indexOf(a.parentPageTitle)-h.indexOf(l.parentPageTitle)||a.point-l.point)}}function*O(e,t){const s=k(e.title,t);if(s){yield{path:e.path,parentPageTitle:v(e),title:e.title,display:s,page:e,content:null,point:1};return}for(const o of e.contents){const c=k(o.header,t);if(c){yield{path:e.path+(o.slug?`#${o.slug}`:""),parentPageTitle:v(e),title:e.title,display:c,page:e,content:null,point:2};continue}const i=k(o.content,t);i&&(yield{path:e.path+(o.slug?`#${o.slug}`:""),parentPageTitle:v(e),title:e.title,display:[{type:"header",str:`${o.header}
`},...i],page:e,content:null,point:10})}}function v(e){const t=e.path.split("/");let s="/";return t[1]&&(s=`/${t[1]}/`),(N.value.get(s)||e).title}function k(e,t){const s=[];let o=0;const c=e.toLowerCase().replace(/\s/gu," ");let i=0,n=c.indexOf(t,i);if(n<0)return null;for(;n>=0;){const a=n+t.length;if(h(e.slice(i,n),"normal"),h(e.slice(n,a),"highlight"),i=a,n=c.indexOf(t,i),o>100)break}return h(e.slice(i),"normal"),s.filter(a=>a.str);function h(a,l){let r=a;l==="normal"&&r.length>100&&o===0&&(r=`\u2026 ${r.slice(-10)}`);let d=!1;if(o+r.length>100){if(s.some(f=>f.type==="ellipsis"))return;r=r.slice(0,Math.max(100-o,1)),d=!0}s.push({type:l,str:r}),o+=r.length,d&&(s.push({type:"ellipsis",str:" \u2026"}),o+=2)}}const z=C({name:"SearchBox",setup(){const e=g(""),t=g(!1),s=g(-1),o=U(e),c=L(()=>e.value&&t.value&&o.value.length),i=B();function n(){if(!c.value)return;let d=s.value-1;d<0&&(d=o.value.length-1),a(d)}function h(){if(!c.value)return;let d=s.value+1;d>=o.value.length&&(d=0),a(d)}function a(d){s.value=d}function l(){s.value=-1}function r(d){if(!c.value)return;const f=o.value[d];f&&i.push(f.path)}return{query:e,focused:t,focusIndex:s,suggestions:o,activeSuggestion:c,onUp:n,onDown:h,focus:a,unfocus:l,go:r}}}),R={class:"search-box",role:"search"},H=["onMousedown","onMouseenter"],G=["href"],j={key:0,class:"parent-page-title"},W={class:"suggestion-row"},q={class:"page-title"},X={class:"suggestion-content"};function Y(e,t,s,o,c,i){return u(),p("div",R,[A(m("input",{ref:"input","onUpdate:modelValue":t[0]||(t[0]=n=>e.query=n),"aria-label":"Search",class:y({focused:e.focused}),placeholder:"Search",autocomplete:"off",spellcheck:"false",onFocus:t[1]||(t[1]=()=>e.focused=!0),onBlur:t[2]||(t[2]=()=>e.focused=!1),onKeyup:[t[3]||(t[3]=w(n=>e.go(e.focusIndex),["enter"])),t[4]||(t[4]=w((...n)=>e.onUp&&e.onUp(...n),["up"])),t[5]||(t[5]=w((...n)=>e.onDown&&e.onDown(...n),["down"]))]},null,34),[[E,e.query]]),e.activeSuggestion?(u(),p("ul",{key:0,class:"suggestions",onMouseleave:t[7]||(t[7]=(...n)=>e.unfocus&&e.unfocus(...n))},[(u(!0),p(x,null,I(e.suggestions,(n,h)=>(u(),p("li",{key:h,class:y(["suggestion",{focused:h===e.focusIndex}]),onMousedown:a=>e.go(h),onMouseenter:a=>e.focus(h)},[m("a",{href:n.path,onClick:t[6]||(t[6]=_(()=>{},["prevent"]))},[n.parentPageTitle&&(!e.suggestions[h-1]||e.suggestions[h-1].parentPageTitle!==n.parentPageTitle)?(u(),p("div",j,b(n.parentPageTitle),1)):T("",!0),m("div",W,[m("div",q,b(n.title||n.path),1),m("div",X,[(u(!0),p(x,null,I(n.display,(a,l)=>(u(),p("span",{key:l,class:y(a.type)},b(a.str),3))),128))])])],8,G)],42,H))),128))],32)):T("",!0)])}var Q=F(z,[["render",Y],["__scopeId","data-v-75931839"],["__file","SearchBox.vue"]]);export{Q as default};
