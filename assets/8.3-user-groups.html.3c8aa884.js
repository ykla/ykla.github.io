import{_ as e,o as t,c as s,e as d}from"./app.cc45af49.js";const i={},a=d(`<h1 id="_8-3-user-groups" tabindex="-1"><a class="header-anchor" href="#_8-3-user-groups" aria-hidden="true">#</a> 8.3 User Groups</h1><h2 id="in-freebsd-users-and-groups-are-managed-consistently-with-the-pw-command" tabindex="-1"><a class="header-anchor" href="#in-freebsd-users-and-groups-are-managed-consistently-with-the-pw-command" aria-hidden="true">#</a> In FreeBSD, users and groups are managed consistently with the <code>pw</code> command.</h2><p>Create an <code>admin</code> subgroup and add two users, <code>ykla</code> and <code>root</code>.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupadd admin
# pw groupmod admin -m ykla root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Create a <code>wheel</code> subgroup and add only the <code>root</code> user: \`\`</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupadd wheel
# pw groupmod wheel -m root
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Remove the user <code>ykla</code> from the <code>admin</code> group.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupmod admin -d ykla
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Remove the <code>admin</code> user group.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupdel admin
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Difference between <code>admin</code> and <code>wheel</code> permissions.</p><ul><li><code>admin</code>, with administrative system privileges (the default configuration of sudo), can use the <code>sudo</code> command.</li><li><code>wheel</code>, with super administrator privileges, can modify the system at will (the name comes from the slang term big wheel, meaning big man).</li></ul><p>Managing users and groups with the pw command Operating system users, perhaps more appropriately called accounts, are credentials for operators to log in to the operating system, as in the case of self-built users earlier.</p><p>And operating system groups, which can also be simply understood as roles, limit the base privileges of operating system users.</p><h2 id="subcommands" tabindex="-1"><a class="header-anchor" href="#subcommands" aria-hidden="true">#</a> Subcommands</h2><ol><li><code>useradd</code> command, used to create a new user, with the following common parameters</li></ol><p>-u, specifies the uid, or if not specified, it is automatically generated by the OS based on the existing <code>uid</code>.</p><p>In some cases, such as pushing files from the test site to the production environment, the <code>uid</code> may be different and the system may think that the files belong to different users, which may lead to errors.</p><p>-c, comment, can also be interpreted as the full name of the user, the user name displayed after logging into the desktop is the comment</p><p>-d, specify the home directory, if not, default <code>/home/new username</code>, e.g. &#39;/home/ykla&#39;</p><p>-g, specifies the starting group, or the primary role, if not specified it defaults to the group with the same name as the new user</p><p>-G, specify the additional group, or none if not specified</p><p>-m, specifies that the user is created and the home directory is created at the same time, if not specified then the home directory is not created by default</p><p>-s, specifies the shell environment after the user logs in, if not specify <code>/bin/sh</code>, FreeBSD recommends specifying <code>/bin/csh</code>, if you want to disable user logins you can specify <code>/usr/sbin/nologin</code></p><p>-h, specifies the input device to set the password in a non-interactive manner, usually set to 0 for stdin, the system&#39;s standard input</p><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw useradd test1 # create user test1, uid system default, test1 group, login environment /bin/sh, home directory is not created
# pw useradd test2 -u 1200 -m -d /tmp/test -g test1 -G wheel -s csh -c test2 # create user test2, uid 1200, create home directory, home directory is /tmp/test, test1 group, with administrator privileges, login environment /bin/csh, full name test2 
# echo password | pw useradd test3 -h 0 #Create user test3, and set password to password 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><code>usermod</code> command, used to modify user information, common parameters.</li></ol><p><code>-l</code>, change the name for the user. Other parameters refer to useradd subcommand.</p><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw usermod test1 -G wheel # Add administrator privileges for user test1 
# pw usermod test1 -l myuser # Rename user test1 to myuser 
# echo password | pw usermod test2 -h 0 # Change user test2&#39;s password to password 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><code>userdel</code> command, used to delete users, common parameters.</li></ol><p><code>-r</code>, delete the user and delete the user&#39;s home directory and all related information, if this parameter is not used, the information is retained and only the user is deleted.</p><p>Example</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw userdel test2 -r 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="4"><li><code>usershow</code> command, used to display user information.</li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw usershow test2 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="5"><li>the <code>usernext</code> command, which returns the next available uid.</li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw usernext 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="6"><li><code>lock</code> command, lock the account, the account can not be used after locking.</li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw lock test2 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="7"><li><code>unlock</code> command, unlock the account, after unlocking, the account can be used normally.</li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw unlock test2 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="8"><li><code>groupadd</code> command, used to create a new group, common parameters: \`\` # pw unlock test2</li></ol><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>-g, specify the gid, if not, it will be automatically generated by the OS based on the existing \`gid\`.

-M, specifies the list of group members, multiple users are separated by commas
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupadd test -g 1200 # Create group test with gid 1200, note that gid is not the same thing as uid 
# pw groupadd test5 -M test1,test2 #Create group test5 with members test1 and test2 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="9"><li><code>groupmod</code> command, used to modify group information, common parameters.</li></ol><p><code>-g</code>, specify the new <code>gid</code></p><p><code>-l</code>, to rename the group</p><p><code>-M</code>, replace the list of existing group members, multiple groups separated by commas</p><p><code>-m</code>, add a new member to the list of existing group members</p><p>Other parameters refer to <code>groupadd</code> command.</p><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupmod test -g 1300 # Modify the gid of the test group to 1300 
# pw groupmod test -l mygroup group test renamed to mygroup 
# pw groupmod test5 -M test1 # Set the member of group test5 to test1 
# pw groupmod test5 -m test3 # add member test3 to group test5 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="10"><li>the <code>groupdel</code> command, which is used to delete groups.</li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupdel mygroup 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="11"><li>the <code>groupshow</code> command, which is used to display group information.</li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupshow test 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="12"><li>the <code>groupnext</code> command, which returns the next available <code>gid</code>.</li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># pw groupnext 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="other-user-management-commands" tabindex="-1"><a class="header-anchor" href="#other-user-management-commands" aria-hidden="true">#</a> Other user management commands</h2><ol><li><p><code>adduser</code> command is used to create new users. The difference between <code>useradd</code> and <code>pw</code> is that this command is interactive, and the users created during OS installation are created based on this command.</p></li><li><p><code>rmuser</code> command, which is used to delete users, is also interactive as <code>adduser</code> command. However, this command takes the <code>-y</code> parameter and allows the list of users to be listed.</p></li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># rmuser -y test1 test2 # Delete both users test1 and test2.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>The -y parameter is used to omit the query step. 3.</p><ol start="3"><li><code>chpass</code> command, open and modify the specified user information as <code>vi</code> editor, or default to the current user if no user is specified.</li></ol><p>Commonly used parameters: -s, for login environment</p><p>Example</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># chpass -s csh test1 #Change user test1&#39;s login environment to /bin/csh 
# chpass # Open the current user information in vi mode to modify the d.passwd command, modify the user password, if no user is specified, the default is the current user.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>Example: <code>passwd</code> user # Enter and set the user password according to the system prompt</p><ol start="4"><li><code>id</code> command, view user <code>id</code> information, including user <code>id</code> and starting group <code>id</code>.</li></ol><p>Example.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code># id # View the current user id information 
# id test1 # View the id information of user test1 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li><p><code>whoami</code> command to see who the current user is. 6.</p></li><li><p><code>who</code> command, view the login information of the current user.</p></li></ol>`,82),o=[a];function n(r,l){return t(),s("div",null,o)}var m=e(i,[["render",n],["__file","8.3-user-groups.html.vue"]]);export{m as default};
